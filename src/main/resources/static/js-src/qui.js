;__quimd5__="91df5f4349fa6e62d5e7e2952b3e5d5f";__quibuilt__=1;
/*
 RequireJS 2.1.11 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
 qiyi.com
 qiyi.com
 qiyi.com
 qiyi.com
 qiyi.com
*/
var requirejs,require,define;
(function(a){function f(a){return"[object Function]"===J.call(a)}function c(a){return"[object Array]"===J.call(a)}function e(a,c){if(a){var k;for(k=0;k<a.length&&(!a[k]||!c(a[k],k,a));k+=1);}}function h(a,c){if(a){var k;for(k=a.length-1;-1<k&&(!a[k]||!c(a[k],k,a));k-=1);}}function g(a,c){return N.call(a,c)}function l(a,c){return g(a,c)&&a[c]}function m(a,c){for(var k in a)if(g(a,k)&&c(a[k],k))break}function n(a,k,e,p){k&&m(k,function(k,h){if(e||!g(a,h))!p||"object"!==typeof k||!k||c(k)||f(k)||k instanceof
RegExp?a[h]=k:(a[h]||(a[h]={}),n(a[h],k,e,p))});return a}function q(a,c){return function(){return c.apply(a,arguments)}}function r(a){throw a;}function s(c){if(!c)return c;var k=a;e(c.split("."),function(a){k=k[a]});return k}function u(a,c,k,e){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+a);c.requireType=a;c.requireModules=e;k&&(c.originalError=k);return c}function x(k){function p(a,c,k){var e,f,g,h,w,A,B,m=c&&c.split("/");f=m;var D=na.map,H=D&&D["*"];if(a&&"."===a.charAt(0))if(c){f=m.slice(0,
m.length-1);a=a.split("/");c=a.length-1;na.nodeIdCompat&&G.test(a[c])&&(a[c]=a[c].replace(G,""));f=a=f.concat(a);h=f.length;for(c=0;c<h;c++)if(g=f[c],"."===g)f.splice(c,1),c-=1;else if(".."===g)if(1!==c||".."!==f[2]&&".."!==f[0])0<c&&(f.splice(c-1,2),c-=2);else break;a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if(k&&D&&(m||H)){f=a.split("/");c=f.length;a:for(;0<c;c-=1){h=f.slice(0,c).join("/");if(m)for(g=m.length;0<g;g-=1)if(k=l(D,m.slice(0,g).join("/")))if(k=l(k,h)){e=k;w=c;break a}!A&&
H&&l(H,h)&&(A=l(H,h),B=c)}!e&&A&&(e=A,w=B);e&&(f.splice(0,w,e),a=f.join("/"))}return(e=l(na.pkgs,a))?e:a}function w(a){L&&e(document.getElementsByTagName("script"),function(c){if(c.getAttribute("data-requiremodule")===a&&c.getAttribute("data-requirecontext")===ma.contextName)return c.parentNode.removeChild(c),!0})}function A(a){var k=l(na.paths,a);if(k&&c(k)&&1<k.length)return k.shift(),ma.require.undef(a),ma.require([a]),!0}function B(a){var c,k=a?a.indexOf("!"):-1;-1<k&&(c=a.substring(0,k),a=a.substring(k+
1,a.length));return[c,a]}function H(a,c,k,e){var f,g,h=null,w=c?c.name:null,A=a,m=!0,D="";a||(m=!1,a="_@r"+($a+=1));a=B(a);h=a[0];a=a[1];h&&(h=p(h,w,e),g=l(oa,h));a&&(h?D=g&&g.normalize?g.normalize(a,function(a){return p(a,w,e)}):p(a,w,e):(D=p(a,w,e),a=B(D),h=a[0],D=a[1],k=!0,f=ma.nameToUrl(D)));k=!h||g||k?"":"_unnormalized"+(Pa+=1);return{prefix:h,name:D,parentMap:c,unnormalized:!!k,url:f,originalName:A,isDefine:m,id:(h?h+"!"+D:D)+k}}function E(a){var c=a.id,k=l(va,c);k||(k=va[c]=new ma.Module(a));
return k}function F(a,c,k){var e=a.id,p=l(va,e);if(!g(oa,e)||p&&!p.defineEmitComplete)if(p=E(a),p.error&&"error"===c)k(p.error);else p.on(c,k);else"defined"===c&&k(oa[e])}function t(a,c){var k=a.requireModules,p=!1;if(c)c(a);else if(e(k,function(c){if(c=l(va,c))c.error=a,c.events.error&&(p=!0,c.emit("error",a))}),!p)y.onError(a)}function v(){M.length&&(R.apply(ga,[ga.length,0].concat(M)),M=[])}function x(a){delete va[a];delete La[a]}function K(a,c,k){var p=a.map.id;a.error?a.emit("error",a.error):
(c[p]=!0,e(a.depMaps,function(e,p){var f=e.id,g=l(va,f);!g||a.depMatched[p]||k[f]||(l(c,f)?(a.defineDep(p,oa[f]),a.check()):K(g,c,k))}),k[p]=!0)}function z(){var a,c,k=(a=1E3*na.waitSeconds)&&ma.startTime+a<(new Date).getTime(),p=[],f=[],g=!1,h=!0;if(!T){T=!0;m(La,function(a){var e=a.map,l=e.id;if(a.enabled&&(e.isDefine||f.push(a),!a.error))if(!a.inited&&k)A(l)?g=c=!0:(p.push(l),w(l));else if(!a.inited&&a.fetched&&e.isDefine&&(g=!0,!e.prefix))return h=!1});if(k&&p.length)return a=u("timeout","Load timeout for modules: "+
p,null,p),a.contextName=ma.contextName,t(a);h&&e(f,function(a){K(a,{},{})});k&&!c||!g||!L&&!O||Sa||(Sa=setTimeout(function(){Sa=0;z()},50));T=!1}}function J(a){g(oa,a[0])||E(H(a[0],null,!0)).init(a[1],a[2])}function N(a){a=a.currentTarget||a.srcElement;var c=ma.onScriptLoad;a.detachEvent&&!I?a.detachEvent("onreadystatechange",c):a.removeEventListener("load",c,!1);c=ma.onScriptError;a.detachEvent&&!I||a.removeEventListener("error",c,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function W(){var a;
for(v();ga.length;){a=ga.shift();if(null===a[0])return t(u("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));J(a)}}var T,sa,ma,ua,Sa,na={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},va={},La={},Da={},ga=[],oa={},ab={},Ta={},$a=1,Pa=1;ua={require:function(a){return a.require?a.require:a.require=ma.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?oa[a.map.id]=a.exports:a.exports=oa[a.map.id]={}},module:function(a){return a.module?
a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return l(na.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}};sa=function(a){this.events=l(Da,a.id)||{};this.map=a;this.shim=l(na.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};sa.prototype={init:function(a,c,k,e){e=e||{};if(!this.inited){this.factory=c;if(k)this.on("error",k);else this.events.error&&(k=q(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);
this.errback=k;this.inited=!0;this.ignore=e.ignore;e.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,c){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=c)},fetch:function(){if(!this.fetched){this.fetched=!0;ma.startTime=(new Date).getTime();var a=this.map;if(this.shim)ma.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],q(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},
load:function(){var a=this.map.url;ab[a]||(ab[a]=!0,ma.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,c,k=this.map.id;c=this.depExports;var e=this.exports,p=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(f(p)){if(this.events.error&&this.map.isDefine||y.onError!==r)try{e=ma.execCb(k,p,c,e)}catch(g){a=g}else e=ma.execCb(k,p,c,e);this.map.isDefine&&
void 0===e&&((c=this.module)?e=c.exports:this.usingExports&&(e=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",t(this.error=a)}else e=p;this.exports=e;if(this.map.isDefine&&!this.ignore&&(oa[k]=e,y.onResourceLoad))y.onResourceLoad(ma,this.map,this.depMaps);x(k);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=
!0)}}},callPlugin:function(){var a=this.map,c=a.id,k=H(a.prefix);this.depMaps.push(k);F(k,"defined",q(this,function(k){var e,f;f=l(Ta,this.map.id);var h=this.map.name,w=this.map.parentMap?this.map.parentMap.name:null,A=ma.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(k.normalize&&(h=k.normalize(h,function(a){return p(a,w,!0)})||""),k=H(a.prefix+"!"+h,this.map.parentMap),F(k,"defined",q(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),
f=l(va,k.id)){this.depMaps.push(k);if(this.events.error)f.on("error",q(this,function(a){this.emit("error",a)}));f.enable()}}else f?(this.map.url=ma.nameToUrl(f),this.load()):(e=q(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=q(this,function(a){this.inited=!0;this.error=a;a.requireModules=[c];m(va,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&x(a.map.id)});t(a)}),e.fromText=q(this,function(k,p){var f=a.name,h=H(f),w=X;p&&(k=p);w&&(X=!1);E(h);g(na.config,c)&&
(na.config[f]=na.config[c]);try{y.exec(k)}catch(l){return t(u("fromtexteval","fromText eval for "+c+" failed: "+l,l,[c]))}w&&(X=!0);this.depMaps.push(h);ma.completeLoad(f);A([f],e)}),k.load(a.name,A,e,na))}));ma.enable(k,this);this.pluginMaps[k.id]=k},enable:function(){La[this.map.id]=this;this.enabling=this.enabled=!0;e(this.depMaps,q(this,function(a,c){var k,e;if("string"===typeof a){a=H(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[c]=a;if(k=l(ua,a.id)){this.depExports[c]=
k(this);return}this.depCount+=1;F(a,"defined",q(this,function(a){this.defineDep(c,a);this.check()}));this.errback&&F(a,"error",q(this,this.errback))}k=a.id;e=va[k];g(ua,k)||!e||e.enabled||ma.enable(a,this)}));m(this.pluginMaps,q(this,function(a){var c=l(va,a.id);c&&!c.enabled&&ma.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,c){var k=this.events[a];k||(k=this.events[a]=[]);k.push(c)},emit:function(a,c){e(this.events[a],function(a){a(c)});"error"===a&&delete this.events[a]}};ma={config:na,
contextName:k,registry:va,defined:oa,urlFetched:ab,defQueue:ga,Module:sa,makeModuleMap:H,nextTick:y.nextTick,onError:t,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var k=na.shim,p={paths:!0,bundles:!0,config:!0,map:!0};m(a,function(a,c){p[c]?(na[c]||(na[c]={}),n(na[c],a,!0,!0)):na[c]=a});a.bundles&&m(a.bundles,function(a,c){e(a,function(a){a!==c&&(Ta[a]=c)})});a.shim&&(m(a.shim,function(a,e){c(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=
ma.makeShimExports(a));k[e]=a}),na.shim=k);a.packages&&e(a.packages,function(a){var c;a="string"===typeof a?{name:a}:a;c=a.name;a.location&&(na.paths[c]=a.location);na.pkgs[c]=a.name+"/"+(a.main||"main").replace(Q,"").replace(G,"")});m(va,function(a,c){a.inited||a.map.unnormalized||(a.map=H(c))});(a.deps||a.callback)&&ma.require(a.deps||[],a.callback)},makeShimExports:function(c){return function(){var k;c.init&&(k=c.init.apply(a,arguments));return k||c.exports&&s(c.exports)}},makeRequire:function(a,
c){function e(p,h,w){var A,l;c.enableBuildCallback&&h&&f(h)&&(h.__requireJsBuild=!0);if("string"===typeof p){if(f(h))return t(u("requireargs","Invalid require call"),w);if(a&&g(ua,p))return ua[p](va[a.id]);if(y.get)return y.get(ma,p,a,e);A=H(p,a,!1,!0);A=A.id;return g(oa,A)?oa[A]:t(u("notloaded",'Module name "'+A+'" has not been loaded yet for context: '+k+(a?"":". Use require([])")))}W();ma.nextTick(function(){W();l=E(H(null,a));l.skipMap=c.skipMap;l.init(p,h,w,{enabled:!0});z()});return e}c=c||
{};n(e,{isBrowser:L,toUrl:function(c){var k,e=c.lastIndexOf("."),f=c.split("/")[0];-1!==e&&("."!==f&&".."!==f||1<e)&&(k=c.substring(e,c.length),c=c.substring(0,e));return ma.nameToUrl(p(c,a&&a.id,!0),k,!0)},defined:function(c){return g(oa,H(c,a,!1,!0).id)},specified:function(c){c=H(c,a,!1,!0).id;return g(oa,c)||g(va,c)}});a||(e.undef=function(c){v();var k=H(c,a,!0),e=l(va,c);w(c);delete oa[c];delete ab[k.url];delete Da[c];h(ga,function(a,k){a[0]===c&&ga.splice(k,1)});e&&(e.events.defined&&(Da[c]=
e.events),x(c))});return e},enable:function(a){l(va,a.id)&&E(a).enable()},completeLoad:function(a){var c,k,e=l(na.shim,a)||{},p=e.exports;for(v();ga.length;){k=ga.shift();if(null===k[0]){k[0]=a;if(c)break;c=!0}else k[0]===a&&(c=!0);J(k)}k=l(va,a);if(!c&&!g(oa,a)&&k&&!k.inited)if(!na.enforceDefine||p&&s(p))J([a,e.deps||[],e.exportsFn]);else return A(a)?void 0:t(u("nodefine","No define call for "+a,null,[a]));z()},nameToUrl:function(a,k,e){var p,f,g;(p=l(na.pkgs,a))&&(a=p);if(p=l(Ta,a))return ma.nameToUrl(p,
k,e);if(y.jsExtRegExp.test(a))p=a+(k||"");else{p=na.paths;a=a.split("/");for(f=a.length;0<f;f-=1)if(g=a.slice(0,f).join("/"),g=l(p,g)){c(g)&&(g=g[0]);a.splice(0,f,g);break}p=a.join("/");p+=k||(/^data\:|\?/.test(p)||e?"":".js");p=("/"===p.charAt(0)||p.match(/^[\w\+\.\-]+:/)?"":na.baseUrl)+p}return na.urlArgs?p+((-1===p.indexOf("?")?"?":"&")+na.urlArgs):p},load:function(a,c){y.load(ma,a,c)},execCb:function(a,c,k,e){return c.apply(e,k)},onScriptLoad:function(a){if("load"===a.type||P.test((a.currentTarget||
a.srcElement).readyState))D=null,a=N(a),ma.completeLoad(a.id)},onScriptError:function(a){var c=N(a);if(!A(c.id))return t(u("scripterror","Script error for: "+c.id,a,[c.id]))}};ma.require=ma.makeRequire();return ma}function v(){if(D&&"interactive"===D.readyState)return D;h(document.getElementsByTagName("script"),function(a){if("interactive"===a.readyState)return D=a});return D}var y,z,k,p,w,B,D,F,K,A,H=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,E=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,G=
/\.js$/,Q=/^\.\//;z=Object.prototype;var J=z.toString,N=z.hasOwnProperty,R=Array.prototype.splice,L=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),O=!L&&"undefined"!==typeof importScripts,P=L&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,I="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),W={},T={},M=[],X=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(f(requirejs))return;T=requirejs;requirejs=void 0}"undefined"===
typeof require||f(require)||(T=require,require=void 0);y=requirejs=function(a,k,e,p){var f,g="_";c(a)||"string"===typeof a||(f=a,c(k)?(a=k,k=e,e=p):a=[]);f&&f.context&&(g=f.context);(p=l(W,g))||(p=W[g]=y.s.newContext(g));f&&p.configure(f);return p.require(a,k,e)};y.config=function(a){return y(a)};y.nextTick="undefined"!==typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()};require||(require=y);y.version="2.1.11";y.jsExtRegExp=/^\/|:|\?|\.js$/;y.isBrowser=L;z=y.s={contexts:W,newContext:x};
y({});e(["toUrl","undef","defined","specified"],function(a){y[a]=function(){var c=W._;return c.require[a].apply(c,arguments)}});L&&(k=z.head=document.getElementsByTagName("head")[0],p=document.getElementsByTagName("base")[0])&&(k=z.head=p.parentNode);y.onError=r;y.createNode=function(a,c,k){c=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");c.type=a.scriptType||"text/javascript";c.charset="utf-8";c.async=!0;return c};y.load=function(a,
c,e){var f=a&&a.config||{};if(L)return f=y.createNode(f,c,e),f.setAttribute("data-requirecontext",a.contextName),f.setAttribute("data-requiremodule",c),!f.attachEvent||f.attachEvent.toString&&0>f.attachEvent.toString().indexOf("[native code")||I?(f.addEventListener("load",a.onScriptLoad,!1),f.addEventListener("error",a.onScriptError,!1)):(X=!0,f.attachEvent("onreadystatechange",a.onScriptLoad)),f.src=e,F=f,p?k.insertBefore(f,p):k.appendChild(f),F=null,f;if(O)try{importScripts(e),a.completeLoad(c)}catch(g){a.onError(u("importscripts",
"importScripts failed for "+c+" at "+e,g,[c]))}};L&&!T.skipDataMain&&h(document.getElementsByTagName("script"),function(a){k||(k=a.parentNode);if(w=a.getAttribute("data-main"))return K=w,T.baseUrl||(B=K.split("/"),K=B.pop(),A=B.length?B.join("/")+"/":"./",T.baseUrl=A),K=K.replace(G,""),y.jsExtRegExp.test(K)&&(K=w),T.deps=T.deps?T.deps.concat(K):[K],!0});define=function(a,k,e){var p,g;"string"!==typeof a&&(e=k,k=a,a=null);c(k)||(e=k,k=null);!k&&f(e)&&(k=[],e.length&&(e.toString().replace(H,"").replace(E,
function(a,c){k.push(c)}),k=(1===e.length?["require"]:["require","exports","module"]).concat(k)));X&&(p=F||v())&&(a||(a=p.getAttribute("data-requiremodule")),g=W[p.getAttribute("data-requirecontext")]);(g?g.defQueue:M).push([a,k,e])};define.amd={jQuery:!0};y.exec=function(a){return eval(a)};y(T)}})(this);define("qui/lib/require",function(){});window.$$define=window.define;window.define=null;
(function(a,f){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?f(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return f(a)}:f(a)})("undefined"!==typeof window?window:this,function(a,f){function c(a){var c=a.length,k=t.type(a);return"function"===k||t.isWindow(a)?!1:1===a.nodeType&&c?!0:"array"===k||0===c||"number"===typeof c&&0<c&&c-1 in a}function e(a,c,k){if(t.isFunction(c))return t.grep(a,function(a,e){return!!c.call(a,
e,a)!==k});if(c.nodeType)return t.grep(a,function(a){return a===c!==k});if("string"===typeof c){if(da.test(c))return t.filter(c,a,k);c=t.filter(c,a)}return t.grep(a,function(a){return 0<=ba.call(c,a)!==k})}function h(a,c){for(;(a=a[c])&&1!==a.nodeType;);return a}function g(a){var c=va[a]={};t.each(a.match(na)||[],function(a,k){c[k]=!0});return c}function l(){aa.removeEventListener("DOMContentLoaded",l,!1);a.removeEventListener("load",l,!1);t.ready()}function m(){Object.defineProperty(this.cache={},
0,{get:function(){return{}}});this.expando=t.expando+Math.random()}function n(a,c,k){if(void 0===k&&1===a.nodeType)if(k="data-"+c.replace(Ta,"-$1").toLowerCase(),k=a.getAttribute(k),"string"===typeof k){try{k="true"===k?!0:"false"===k?!1:"null"===k?null:+k+""===k?+k:ab.test(k)?t.parseJSON(k):k}catch(e){}oa.set(a,c,k)}else k=void 0;return k}function q(){return!0}function r(){return!1}function s(){try{return aa.activeElement}catch(a){}}function u(a,c){return t.nodeName(a,"table")&&t.nodeName(11!==c.nodeType?
c:c.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function x(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function v(a){var c=pc.exec(a.type);c?a.type=c[1]:a.removeAttribute("type");return a}function y(a,c){for(var k=0,e=a.length;k<e;k++)ga.set(a[k],"globalEval",!c||ga.get(c[k],"globalEval"))}function z(a,c){var k,e,p,f;if(1===c.nodeType){if(ga.hasData(a)&&(f=ga.access(a),k=ga.set(c,f),f=f.events))for(p in delete k.handle,
k.events={},f)for(k=0,e=f[p].length;k<e;k++)t.event.add(c,p,f[p][k]);oa.hasData(a)&&(p=oa.access(a),p=t.extend({},p),oa.set(c,p))}}function k(a,c){var k=a.getElementsByTagName?a.getElementsByTagName(c||"*"):a.querySelectorAll?a.querySelectorAll(c||"*"):[];return void 0===c||c&&t.nodeName(a,c)?t.merge([a],k):k}function p(c,k){var e,p=t(k.createElement(c)).appendTo(k.body),f=a.getDefaultComputedStyle&&(e=a.getDefaultComputedStyle(p[0]))?e.display:t.css(p[0],"display");p.detach();return f}function w(a){var c=
aa,k=qc[a];k||(k=p(a,c),"none"!==k&&k||(tb=(tb||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(c.documentElement),c=tb[0].contentDocument,c.write(),c.close(),k=p(a,c),tb.detach()),qc[a]=k);return k}function B(a,c,k){var e,p,f=a.style;(k=k||eb(a))&&(p=k.getPropertyValue(c)||k[c]);k&&(""!==p||t.contains(a.ownerDocument,a)||(p=t.style(a,c)),Ub.test(p)&&rc.test(c)&&(a=f.width,c=f.minWidth,e=f.maxWidth,f.minWidth=f.maxWidth=f.width=p,p=k.width,f.width=a,f.minWidth=c,f.maxWidth=e));return void 0!==
p?p+"":p}function D(a,c){return{get:function(){if(a())delete this.get;else return(this.get=c).apply(this,arguments)}}}function F(a,c){if(c in a)return c;for(var k=c[0].toUpperCase()+c.slice(1),e=c,p=nb.length;p--;)if(c=nb[p]+k,c in a)return c;return e}function K(a,c,k){return(a=sc.exec(c))?Math.max(0,a[1]-(k||0))+(a[2]||"px"):c}function A(a,c,k,e,p){c=k===(e?"border":"content")?4:"width"===c?1:0;for(var f=0;4>c;c+=2)"margin"===k&&(f+=t.css(a,k+Pa[c],!0,p)),e?("content"===k&&(f-=t.css(a,"padding"+
Pa[c],!0,p)),"margin"!==k&&(f-=t.css(a,"border"+Pa[c]+"Width",!0,p))):(f+=t.css(a,"padding"+Pa[c],!0,p),"padding"!==k&&(f+=t.css(a,"border"+Pa[c]+"Width",!0,p)));return f}function H(a,c,k){var e=!0,p="width"===c?a.offsetWidth:a.offsetHeight,f=eb(a),g="border-box"===t.css(a,"boxSizing",!1,f);if(0>=p||null==p){p=B(a,c,f);if(0>p||null==p)p=a.style[c];if(Ub.test(p))return p;e=g&&(U.boxSizingReliable()||p===a.style[c]);p=parseFloat(p)||0}return p+A(a,c,k||(g?"border":"content"),e,f)+"px"}function E(a,
c){for(var k,e,p,f=[],g=0,h=a.length;g<h;g++)e=a[g],e.style&&(f[g]=ga.get(e,"olddisplay"),k=e.style.display,c?(f[g]||"none"!==k||(e.style.display=""),""===e.style.display&&Ja(e)&&(f[g]=ga.access(e,"olddisplay",w(e.nodeName)))):(p=Ja(e),"none"===k&&p||ga.set(e,"olddisplay",p?k:t.css(e,"display"))));for(g=0;g<h;g++)e=a[g],!e.style||c&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=c?f[g]||"":"none");return a}function G(a,c,k,e,p){return new G.prototype.init(a,c,k,e,p)}function Q(){setTimeout(function(){bb=
void 0});return bb=t.now()}function J(a,c){var k,e=0,p={height:a};for(c=c?1:0;4>e;e+=2-c)k=Pa[e],p["margin"+k]=p["padding"+k]=a;c&&(p.opacity=p.width=a);return p}function N(a,c,k){for(var e,p=(ob[c]||[]).concat(ob["*"]),f=0,g=p.length;f<g;f++)if(e=p[f].call(k,c,a))return e}function R(a,c){var k,e,p,f,g;for(k in a)if(e=t.camelCase(k),p=c[e],f=a[k],t.isArray(f)&&(p=f[1],f=a[k]=f[0]),k!==e&&(a[e]=f,delete a[k]),(g=t.cssHooks[e])&&"expand"in g)for(k in f=g.expand(f),delete a[e],f)k in a||(a[k]=f[k],c[k]=
p);else c[e]=p}function L(a,c,k){var e,p=0,f=ub.length,g=t.Deferred().always(function(){delete h.elem}),h=function(){if(e)return!1;for(var c=bb||Q(),c=Math.max(0,w.startTime+w.duration-c),k=1-(c/w.duration||0),p=0,f=w.tweens.length;p<f;p++)w.tweens[p].run(k);g.notifyWith(a,[w,k,c]);if(1>k&&f)return c;g.resolveWith(a,[w]);return!1},w=g.promise({elem:a,props:t.extend({},c),opts:t.extend(!0,{specialEasing:{}},k),originalProperties:c,originalOptions:k,startTime:bb||Q(),duration:k.duration,tweens:[],createTween:function(c,
k){var e=t.Tween(a,w.opts,c,k,w.opts.specialEasing[c]||w.opts.easing);w.tweens.push(e);return e},stop:function(c){var k=0,p=c?w.tweens.length:0;if(e)return this;for(e=!0;k<p;k++)w.tweens[k].run(1);c?g.resolveWith(a,[w,c]):g.rejectWith(a,[w,c]);return this}});k=w.props;for(R(k,w.opts.specialEasing);p<f;p++)if(c=ub[p].call(w,a,k,w.opts))return c;t.map(k,N,w);t.isFunction(w.opts.start)&&w.opts.start.call(a,w);t.fx.timer(t.extend(h,{elem:a,anim:w,queue:w.opts.queue}));return w.progress(w.opts.progress).done(w.opts.done,
w.opts.complete).fail(w.opts.fail).always(w.opts.always)}function O(a){return function(c,k){"string"!==typeof c&&(k=c,c="*");var e,p=0,f=c.toLowerCase().match(na)||[];if(t.isFunction(k))for(;e=f[p++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(k)):(a[e]=a[e]||[]).push(k)}}function P(a,c,k,e){function p(h){var w;f[h]=!0;t.each(a[h]||[],function(a,h){var A=h(c,k,e);if("string"===typeof A&&!g&&!f[A])return c.dataTypes.unshift(A),p(A),!1;if(g)return!(w=A)});return w}var f={},g=a===gb;return p(c.dataTypes[0])||
!f["*"]&&p("*")}function I(a,c){var k,e,p=t.ajaxSettings.flatOptions||{};for(k in c)void 0!==c[k]&&((p[k]?a:e||(e={}))[k]=c[k]);e&&t.extend(!0,a,e);return a}function W(a,c,k,e){var p;if(t.isArray(c))t.each(c,function(c,p){k||uc.test(a)?e(a,p):W(a+"["+("object"===typeof p?c:"")+"]",p,k,e)});else if(k||"object"!==t.type(c))e(a,c);else for(p in c)W(a+"["+p+"]",c[p],k,e)}function T(a){return t.isWindow(a)?a:9===a.nodeType&&a.defaultView}var M=[],X=M.slice,S=M.concat,Z=M.push,ba=M.indexOf,Y={},V=Y.toString,
ca=Y.hasOwnProperty,U={},aa=a.document,t=function(a,c){return new t.fn.init(a,c)},ha=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ka=/^-ms-/,qa=/-([\da-z])/gi,ra=function(a,c){return c.toUpperCase()};t.fn=t.prototype={jquery:"2.1.1",constructor:t,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){a=t.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,c){return t.each(this,
a,c)},map:function(a){return this.pushStack(t.map(this,function(c,k){return a.call(c,k,c)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var c=this.length;a=+a+(0>a?c:0);return this.pushStack(0<=a&&a<c?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:M.sort,splice:M.splice};t.extend=t.fn.extend=function(){var a,c,k,e,p,f=arguments[0]||{},g=1,h=arguments.length,
w=!1;"boolean"===typeof f&&(w=f,f=arguments[g]||{},g++);"object"===typeof f||t.isFunction(f)||(f={});g===h&&(f=this,g--);for(;g<h;g++)if(null!=(a=arguments[g]))for(c in a)k=f[c],e=a[c],f!==e&&(w&&e&&(t.isPlainObject(e)||(p=t.isArray(e)))?(p?(p=!1,k=k&&t.isArray(k)?k:[]):k=k&&t.isPlainObject(k)?k:{},f[c]=t.extend(w,k,e)):void 0!==e&&(f[c]=e));return f};t.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===
t.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!t.isArray(a)&&0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==t.type(a)||a.nodeType||t.isWindow(a)||a.constructor&&!ca.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var c in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Y[V.call(a)]||"object":typeof a},globalEval:function(a){var c;
c=eval;if(a=t.trim(a))1===a.indexOf("use strict")?(c=aa.createElement("script"),c.text=a,aa.head.appendChild(c).parentNode.removeChild(c)):c(a)},camelCase:function(a){return a.replace(ka,"ms-").replace(qa,ra)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,k,e){var p,f=0,g=a.length;p=c(a);if(e)if(p)for(;f<g&&(p=k.apply(a[f],e),!1!==p);f++);else for(f in a){if(p=k.apply(a[f],e),!1===p)break}else if(p)for(;f<g&&(p=k.call(a[f],f,a[f]),!1!==p);f++);
else for(f in a)if(p=k.call(a[f],f,a[f]),!1===p)break;return a},trim:function(a){return null==a?"":(a+"").replace(ha,"")},makeArray:function(a,k){var e=k||[];null!=a&&(c(Object(a))?t.merge(e,"string"===typeof a?[a]:a):Z.call(e,a));return e},inArray:function(a,c,k){return null==c?-1:ba.call(c,a,k)},merge:function(a,c){for(var k=+c.length,e=0,p=a.length;e<k;e++)a[p++]=c[e];a.length=p;return a},grep:function(a,c,k){for(var e=[],p=0,f=a.length,g=!k;p<f;p++)k=!c(a[p],p),k!==g&&e.push(a[p]);return e},map:function(a,
k,e){var p,f=0,g=a.length,h=[];if(c(a))for(;f<g;f++)p=k(a[f],f,e),null!=p&&h.push(p);else for(f in a)p=k(a[f],f,e),null!=p&&h.push(p);return S.apply([],h)},guid:1,proxy:function(a,c){var k,e;"string"===typeof c&&(k=a[c],c=a,a=k);if(t.isFunction(a))return e=X.call(arguments,2),k=function(){return a.apply(c||this,e.concat(X.call(arguments)))},k.guid=a.guid=a.guid||t.guid++,k},now:Date.now,support:U});t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,c){Y["[object "+
c+"]"]=c.toLowerCase()});var ia=function(a){function c(a,k,e,p){var f,g,h,w,A;(k?k.ownerDocument||k:P)!==J&&y(k);k=k||J;e=e||[];if(!a||"string"!==typeof a)return e;if(1!==(w=k.nodeType)&&9!==w)return[];if(I&&!p){if(f=da.exec(a))if(h=f[1])if(9===w)if((g=k.getElementById(h))&&g.parentNode){if(g.id===h)return e.push(g),e}else return e;else{if(k.ownerDocument&&(g=k.ownerDocument.getElementById(h))&&T(k,g)&&g.id===h)return e.push(g),e}else{if(f[2])return V.apply(e,k.getElementsByTagName(a)),e;if((h=f[3])&&
s.getElementsByClassName&&k.getElementsByClassName)return V.apply(e,k.getElementsByClassName(h)),e}if(s.qsa&&(!R||!R.test(a))){g=f=M;h=k;A=9===w&&a;if(1===w&&"object"!==k.nodeName.toLowerCase()){w=v(a);(f=k.getAttribute("id"))?g=f.replace(pa,"\\$&"):k.setAttribute("id",g);g="[id='"+g+"'] ";for(h=w.length;h--;)w[h]=g+m(w[h]);h=Ta.test(a)&&l(k.parentNode)||k;A=w.join(",")}if(A)try{return V.apply(e,h.querySelectorAll(A)),e}catch(B){}finally{f||k.removeAttribute("id")}}}return K(a.replace(va,"$1"),k,
e,p)}function k(){function a(k,e){c.push(k+" ")>q.cacheLength&&delete a[c.shift()];return a[k+" "]=e}var c=[];return a}function e(a){a[M]=!0;return a}function p(a){var c=J.createElement("div");try{return!!a(c)}catch(k){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}}function f(a,c){for(var k=a.split("|"),e=a.length;e--;)q.attrHandle[k[e]]=c}function g(a,c){var k=c&&a,e=k&&1===a.nodeType&&1===c.nodeType&&(~c.sourceIndex||Sa)-(~a.sourceIndex||Sa);if(e)return e;if(k)for(;k=k.nextSibling;)if(k===
c)return-1;return a?1:-1}function h(a){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===a}}function w(a){return function(c){var k=c.nodeName.toLowerCase();return("input"===k||"button"===k)&&c.type===a}}function A(a){return e(function(c){c=+c;return e(function(k,e){for(var p,f=a([],k.length,c),g=f.length;g--;)k[p=f[g]]&&(k[p]=!(e[p]=k[p]))})})}function l(a){return a&&typeof a.getElementsByTagName!==ha&&a}function B(){}function m(a){for(var c=0,k=a.length,e="";c<k;c++)e+=a[c].value;
return e}function D(a,c,k){var e=c.dir,p=k&&"parentNode"===e,f=X++;return c.first?function(c,k,f){for(;c=c[e];)if(1===c.nodeType||p)return a(c,k,f)}:function(c,k,g){var h,w,A=[S,f];if(g)for(;c=c[e];){if((1===c.nodeType||p)&&a(c,k,g))return!0}else for(;c=c[e];)if(1===c.nodeType||p){w=c[M]||(c[M]={});if((h=w[e])&&h[0]===S&&h[1]===f)return A[2]=h[2];w[e]=A;if(A[2]=a(c,k,g))return!0}}}function H(a){return 1<a.length?function(c,k,e){for(var p=a.length;p--;)if(!a[p](c,k,e))return!1;return!0}:a[0]}function n(a,
c,k,e,p){for(var f,g=[],h=0,w=a.length,A=null!=c;h<w;h++)if(f=a[h])if(!k||k(f,e,p))g.push(f),A&&c.push(h);return g}function r(a,k,p,f,g,h){f&&!f[M]&&(f=r(f));g&&!g[M]&&(g=r(g,h));return e(function(e,h,w,A){var l,B,m=[],D=[],H=h.length,r;if(!(r=e)){r=k||"*";for(var u=w.nodeType?[w]:w,q=[],s=0,E=u.length;s<E;s++)c(r,u[s],q);r=q}r=!a||!e&&k?r:n(r,m,a,w,A);u=p?g||(e?a:H||f)?[]:h:r;p&&p(r,u,w,A);if(f)for(l=n(u,D),f(l,[],w,A),w=l.length;w--;)if(B=l[w])u[D[w]]=!(r[D[w]]=B);if(e){if(g||a){if(g){l=[];for(w=
u.length;w--;)(B=u[w])&&l.push(r[w]=B);g(null,u=[],l,A)}for(w=u.length;w--;)(B=u[w])&&-1<(l=g?ca.call(e,B):m[w])&&(e[l]=!(h[l]=B))}}else u=n(u===h?u.splice(H,u.length):u),g?g(null,h,u,A):V.apply(h,u)})}function u(a){var c,k,e,p=a.length,f=q.relative[a[0].type];k=f||q.relative[" "];for(var g=f?1:0,h=D(function(a){return a===c},k,!0),w=D(function(a){return-1<ca.call(c,a)},k,!0),A=[function(a,k,e){return!f&&(e||k!==Q)||((c=k).nodeType?h(a,k,e):w(a,k,e))}];g<p;g++)if(k=q.relative[a[g].type])A=[D(H(A),
k)];else{k=q.filter[a[g].type].apply(null,a[g].matches);if(k[M]){for(e=++g;e<p&&!q.relative[a[e].type];e++);return r(1<g&&H(A),1<g&&m(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(va,"$1"),k,g<e&&u(a.slice(g,e)),e<p&&u(a=a.slice(e)),e<p&&m(a))}A.push(k)}return H(A)}function E(a,k){var p=0<k.length,f=0<a.length,g=function(e,g,h,w,A){var l,B,m,D=0,H="0",r=e&&[],u=[],s=Q,E=e||f&&q.find.TAG("*",A),F=S+=null==s?1:Math.random()||0.1,t=E.length;for(A&&(Q=g!==J&&g);H!==t&&null!=(l=E[H]);H++){if(f&&
l){for(B=0;m=a[B++];)if(m(l,g,h)){w.push(l);break}A&&(S=F)}p&&((l=!m&&l)&&D--,e&&r.push(l))}D+=H;if(p&&H!==D){for(B=0;m=k[B++];)m(r,u,g,h);if(e){if(0<D)for(;H--;)r[H]||u[H]||(u[H]=Z.call(w));u=n(u)}V.apply(w,u);A&&!e&&0<u.length&&1<D+k.length&&c.uniqueSort(w)}A&&(S=F,Q=s);return r};return p?e(g):g}var F,s,q,t,G,v,x,K,Q,z,L,y,J,N,I,R,W,O,T,M="sizzle"+-new Date,P=a.document,S=0,X=0,sa=k(),U=k(),ma=k(),ba=function(a,c){a===c&&(L=!0);return 0},ha="undefined",Sa=-2147483648,Y={}.hasOwnProperty,ua=[],Z=
ua.pop,na=ua.push,V=ua.push,ga=ua.slice,ca=ua.indexOf||function(a){for(var c=0,k=this.length;c<k;c++)if(this[c]===a)return c;return-1},ka="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ia="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ka+"))|)[\\x20\\t\\r\\n\\f]*\\]",aa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ia+")*)|.*)\\)|)",va=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Da=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Pa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,oa=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ra=RegExp(aa),ab=RegExp("^"+ka+"$"),La={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ia),PSEUDO:RegExp("^"+
aa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},qa=/^(?:input|select|textarea|button)$/i,Za=/^h\d$/i,Ja=/^[^{]+\{\s*\[native \w/,da=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ta=/[+~]/,pa=/'|\\/g,wa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ka=function(a,c,k){a="0x"+c-65536;return a!==a||k?c:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{V.apply(ua=ga.call(P.childNodes),P.childNodes),ua[P.childNodes.length].nodeType}catch(mb){V={apply:ua.length?function(a,c){na.apply(a,ga.call(c))}:
function(a,c){for(var k=a.length,e=0;a[k++]=c[e++];);a.length=k-1}}}s=c.support={};G=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};y=c.setDocument=function(a){var c=a?a.ownerDocument||a:P;a=c.defaultView;if(c===J||9!==c.nodeType||!c.documentElement)return J;J=c;N=c.documentElement;I=!G(c);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){y()},!1):a.attachEvent&&a.attachEvent("onunload",function(){y()}));s.attributes=p(function(a){a.className=
"i";return!a.getAttribute("className")});s.getElementsByTagName=p(function(a){a.appendChild(c.createComment(""));return!a.getElementsByTagName("*").length});s.getElementsByClassName=Ja.test(c.getElementsByClassName)&&p(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});s.getById=p(function(a){N.appendChild(a).id=M;return!c.getElementsByName||!c.getElementsByName(M).length});s.getById?(q.find.ID=function(a,
c){if(typeof c.getElementById!==ha&&I){var k=c.getElementById(a);return k&&k.parentNode?[k]:[]}},q.filter.ID=function(a){var c=a.replace(wa,Ka);return function(a){return a.getAttribute("id")===c}}):(delete q.find.ID,q.filter.ID=function(a){var c=a.replace(wa,Ka);return function(a){return(a=typeof a.getAttributeNode!==ha&&a.getAttributeNode("id"))&&a.value===c}});q.find.TAG=s.getElementsByTagName?function(a,c){if(typeof c.getElementsByTagName!==ha)return c.getElementsByTagName(a)}:function(a,c){var k,
e=[],p=0,f=c.getElementsByTagName(a);if("*"===a){for(;k=f[p++];)1===k.nodeType&&e.push(k);return e}return f};q.find.CLASS=s.getElementsByClassName&&function(a,c){if(typeof c.getElementsByClassName!==ha&&I)return c.getElementsByClassName(a)};W=[];R=[];if(s.qsa=Ja.test(c.querySelectorAll))p(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&R.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
R.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||R.push(":checked")}),p(function(a){var k=c.createElement("input");k.setAttribute("type","hidden");a.appendChild(k).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&R.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||R.push(":enabled",":disabled");a.querySelectorAll("*,:x");
R.push(",.*:")});(s.matchesSelector=Ja.test(O=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&p(function(a){s.disconnectedMatch=O.call(a,"div");O.call(a,"[s!='']:x");W.push("!=",aa)});R=R.length&&RegExp(R.join("|"));W=W.length&&RegExp(W.join("|"));T=(a=Ja.test(N.compareDocumentPosition))||Ja.test(N.contains)?function(a,c){var k=9===a.nodeType?a.documentElement:a,e=c&&c.parentNode;return a===e||!!(e&&1===e.nodeType&&(k.contains?k.contains(e):a.compareDocumentPosition&&
a.compareDocumentPosition(e)&16))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};ba=a?function(a,k){if(a===k)return L=!0,0;var e=!a.compareDocumentPosition-!k.compareDocumentPosition;if(e)return e;e=(a.ownerDocument||a)===(k.ownerDocument||k)?a.compareDocumentPosition(k):1;return e&1||!s.sortDetached&&k.compareDocumentPosition(a)===e?a===c||a.ownerDocument===P&&T(P,a)?-1:k===c||k.ownerDocument===P&&T(P,k)?1:z?ca.call(z,a)-ca.call(z,k):0:e&4?-1:1}:function(a,k){if(a===k)return L=
!0,0;var e,p=0;e=a.parentNode;var f=k.parentNode,h=[a],w=[k];if(!e||!f)return a===c?-1:k===c?1:e?-1:f?1:z?ca.call(z,a)-ca.call(z,k):0;if(e===f)return g(a,k);for(e=a;e=e.parentNode;)h.unshift(e);for(e=k;e=e.parentNode;)w.unshift(e);for(;h[p]===w[p];)p++;return p?g(h[p],w[p]):h[p]===P?-1:w[p]===P?1:0};return c};c.matches=function(a,k){return c(a,null,null,k)};c.matchesSelector=function(a,k){(a.ownerDocument||a)!==J&&y(a);k=k.replace(oa,"='$1']");if(s.matchesSelector&&I&&!(W&&W.test(k)||R&&R.test(k)))try{var e=
O.call(a,k);if(e||s.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(p){}return 0<c(k,J,null,[a]).length};c.contains=function(a,c){(a.ownerDocument||a)!==J&&y(a);return T(a,c)};c.attr=function(a,c){(a.ownerDocument||a)!==J&&y(a);var k=q.attrHandle[c.toLowerCase()],k=k&&Y.call(q.attrHandle,c.toLowerCase())?k(a,c,!I):void 0;return void 0!==k?k:s.attributes||!I?a.getAttribute(c):(k=a.getAttributeNode(c))&&k.specified?k.value:null};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};c.uniqueSort=function(a){var c,k=[],e=0,p=0;L=!s.detectDuplicates;z=!s.sortStable&&a.slice(0);a.sort(ba);if(L){for(;c=a[p++];)c===a[p]&&(e=k.push(p));for(;e--;)a.splice(k[e],1)}z=null;return a};t=c.getText=function(a){var c,k="",e=0;c=a.nodeType;if(!c)for(;c=a[e++];)k+=t(c);else if(1===c||9===c||11===c){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)k+=t(a)}else if(3===c||4===c)return a.nodeValue;return k};q=c.selectors={cacheLength:50,createPseudo:e,
match:La,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(wa,Ka);a[3]=(a[3]||a[4]||a[5]||"").replace(wa,Ka);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]);
return a},PSEUDO:function(a){var c,k=!a[6]&&a[2];if(La.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":k&&ra.test(k)&&(c=v(k,!0))&&(c=k.indexOf(")",k.length-c)-k.length)&&(a[0]=a[0].slice(0,c),a[2]=k.slice(0,c));return a.slice(0,3)}},filter:{TAG:function(a){var c=a.replace(wa,Ka).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===c}},CLASS:function(a){var c=sa[a+" "];return c||(c=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&
sa(a,function(a){return c.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==ha&&a.getAttribute("class")||"")})},ATTR:function(a,k,e){return function(p){p=c.attr(p,a);if(null==p)return"!="===k;if(!k)return!0;p+="";return"="===k?p===e:"!="===k?p!==e:"^="===k?e&&0===p.indexOf(e):"*="===k?e&&-1<p.indexOf(e):"$="===k?e&&p.slice(-e.length)===e:"~="===k?-1<(" "+p+" ").indexOf(e):"|="===k?p===e||p.slice(0,e.length+1)===e+"-":!1}},CHILD:function(a,c,k,e,p){var f="nth"!==a.slice(0,3),
g="last"!==a.slice(-4),h="of-type"===c;return 1===e&&0===p?function(a){return!!a.parentNode}:function(c,k,w){var A,l,B,m,D;k=f!==g?"nextSibling":"previousSibling";var H=c.parentNode,r=h&&c.nodeName.toLowerCase();w=!w&&!h;if(H){if(f){for(;k;){for(l=c;l=l[k];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;D=k="only"===a&&!D&&"nextSibling"}return!0}D=[g?H.firstChild:H.lastChild];if(g&&w)for(w=H[M]||(H[M]={}),A=w[a]||[],m=A[0]===S&&A[1],B=A[0]===S&&A[2],l=m&&H.childNodes[m];l=++m&&l&&l[k]||
(B=m=0)||D.pop();){if(1===l.nodeType&&++B&&l===c){w[a]=[S,m,B];break}}else if(w&&(A=(c[M]||(c[M]={}))[a])&&A[0]===S)B=A[1];else for(;(l=++m&&l&&l[k]||(B=m=0)||D.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++B||(w&&((l[M]||(l[M]={}))[a]=[S,B]),l!==c)););B-=p;return B===e||0===B%e&&0<=B/e}}},PSEUDO:function(a,k){var p,f=q.pseudos[a]||q.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[M]?f(k):1<f.length?(p=[a,a,"",k],q.setFilters.hasOwnProperty(a.toLowerCase())?
e(function(a,c){for(var e,p=f(a,k),g=p.length;g--;)e=ca.call(a,p[g]),a[e]=!(c[e]=p[g])}):function(a){return f(a,0,p)}):f}},pseudos:{not:e(function(a){var c=[],k=[],p=x(a.replace(va,"$1"));return p[M]?e(function(a,c,k,e){e=p(a,null,e,[]);for(var f=a.length;f--;)if(k=e[f])a[f]=!(c[f]=k)}):function(a,e,f){c[0]=a;p(c,null,f,k);return!k.pop()}}),has:e(function(a){return function(k){return 0<c(a,k).length}}),contains:e(function(a){return function(c){return-1<(c.textContent||c.innerText||t(c)).indexOf(a)}}),
lang:e(function(a){ab.test(a||"")||c.error("unsupported lang: "+a);a=a.replace(wa,Ka).toLowerCase();return function(c){var k;do if(k=I?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return k=k.toLowerCase(),k===a||0===k.indexOf(a+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(c){var k=a.location&&a.location.hash;return k&&k.slice(1)===c.id},root:function(a){return a===N},focus:function(a){return a===J.activeElement&&(!J.hasFocus||J.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!q.pseudos.empty(a)},header:function(a){return Za.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},
button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===a.type||"button"===c},text:function(a){var c;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(c=a.getAttribute("type"))||"text"===c.toLowerCase())},first:A(function(){return[0]}),last:A(function(a,c){return[c-1]}),eq:A(function(a,c,k){return[0>k?k+c:k]}),even:A(function(a,c){for(var k=0;k<c;k+=2)a.push(k);return a}),odd:A(function(a,c){for(var k=1;k<c;k+=2)a.push(k);return a}),lt:A(function(a,c,k){for(c=
0>k?k+c:k;0<=--c;)a.push(c);return a}),gt:A(function(a,c,k){for(k=0>k?k+c:k;++k<c;)a.push(k);return a})}};q.pseudos.nth=q.pseudos.eq;for(F in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})q.pseudos[F]=h(F);for(F in{submit:!0,reset:!0})q.pseudos[F]=w(F);B.prototype=q.filters=q.pseudos;q.setFilters=new B;v=c.tokenize=function(a,k){var e,p,f,g,h,w,A;if(h=U[a+" "])return k?0:h.slice(0);h=a;w=[];for(A=q.preFilter;h;){if(!e||(p=Da.exec(h)))p&&(h=h.slice(p[0].length)||h),w.push(f=[]);e=!1;if(p=Pa.exec(h))e=
p.shift(),f.push({value:e,type:p[0].replace(va," ")}),h=h.slice(e.length);for(g in q.filter)!(p=La[g].exec(h))||A[g]&&!(p=A[g](p))||(e=p.shift(),f.push({value:e,type:g,matches:p}),h=h.slice(e.length));if(!e)break}return k?h.length:h?c.error(a):U(a,w).slice(0)};x=c.compile=function(a,c){var k,e=[],p=[],f=ma[a+" "];if(!f){c||(c=v(a));for(k=c.length;k--;)f=u(c[k]),f[M]?e.push(f):p.push(f);f=ma(a,E(p,e));f.selector=a}return f};K=c.select=function(a,c,k,e){var p,f,g,h,w="function"===typeof a&&a,A=!e&&
v(a=w.selector||a);k=k||[];if(1===A.length){f=A[0]=A[0].slice(0);if(2<f.length&&"ID"===(g=f[0]).type&&s.getById&&9===c.nodeType&&I&&q.relative[f[1].type]){c=(q.find.ID(g.matches[0].replace(wa,Ka),c)||[])[0];if(!c)return k;w&&(c=c.parentNode);a=a.slice(f.shift().value.length)}for(p=La.needsContext.test(a)?0:f.length;p--;){g=f[p];if(q.relative[h=g.type])break;if(h=q.find[h])if(e=h(g.matches[0].replace(wa,Ka),Ta.test(f[0].type)&&l(c.parentNode)||c)){f.splice(p,1);a=e.length&&m(f);if(!a)return V.apply(k,
e),k;break}}}(w||x(a,A))(e,c,!I,k,Ta.test(a)&&l(c.parentNode)||c);return k};s.sortStable=M.split("").sort(ba).join("")===M;s.detectDuplicates=!!L;y();s.sortDetached=p(function(a){return a.compareDocumentPosition(J.createElement("div"))&1});p(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,c,k){if(!k)return a.getAttribute(c,"type"===c.toLowerCase()?1:2)});s.attributes&&p(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||f("value",function(a,c,k){if(!k&&"input"===a.nodeName.toLowerCase())return a.defaultValue});p(function(a){return null==a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,c,k){var e;if(!k)return!0===a[c]?c.toLowerCase():(e=a.getAttributeNode(c))&&e.specified?e.value:null});return c}(a);t.find=ia;t.expr=ia.selectors;t.expr[":"]=t.expr.pseudos;
t.unique=ia.uniqueSort;t.text=ia.getText;t.isXMLDoc=ia.isXML;t.contains=ia.contains;var pa=t.expr.match.needsContext,wa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,da=/^.[^:#\[\.,]*$/;t.filter=function(a,c,k){var e=c[0];k&&(a=":not("+a+")");return 1===c.length&&1===e.nodeType?t.find.matchesSelector(e,a)?[e]:[]:t.find.matches(a,t.grep(c,function(a){return 1===a.nodeType}))};t.fn.extend({find:function(a){var c,k=this.length,e=[],p=this;if("string"!==typeof a)return this.pushStack(t(a).filter(function(){for(c=0;c<
k;c++)if(t.contains(p[c],this))return!0}));for(c=0;c<k;c++)t.find(a,p[c],e);e=this.pushStack(1<k?t.unique(e):e);e.selector=this.selector?this.selector+" "+a:a;return e},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"===typeof a&&pa.test(a)?t(a):a||[],!1).length}});var sa,ma=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(t.fn.init=function(a,c){var k;if(!a)return this;if("string"===typeof a){k="<"===
a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:ma.exec(a);if(!k||!k[1]&&c)return!c||c.jquery?(c||sa).find(a):this.constructor(c).find(a);if(k[1]){if(c=c instanceof t?c[0]:c,t.merge(this,t.parseHTML(k[1],c&&c.nodeType?c.ownerDocument||c:aa,!0)),wa.test(k[1])&&t.isPlainObject(c))for(k in c)if(t.isFunction(this[k]))this[k](c[k]);else this.attr(k,c[k])}else(k=aa.getElementById(k[2]))&&k.parentNode&&(this.length=1,this[0]=k),this.context=aa,this.selector=a;return this}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(t.isFunction(a))return"undefined"!==typeof sa.ready?sa.ready(a):a(t);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return t.makeArray(a,this)}).prototype=t.fn;sa=t(aa);var ua=/^(?:parents|prev(?:Until|All))/,Sa={children:!0,contents:!0,next:!0,prev:!0};t.extend({dir:function(a,c,k){for(var e=[],p=void 0!==k;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(p&&t(a).is(k))break;e.push(a)}return e},sibling:function(a,c){for(var k=[];a;a=a.nextSibling)1===
a.nodeType&&a!==c&&k.push(a);return k}});t.fn.extend({has:function(a){var c=t(a,this),k=c.length;return this.filter(function(){for(var a=0;a<k;a++)if(t.contains(this,c[a]))return!0})},closest:function(a,c){for(var k,e=0,p=this.length,f=[],g=pa.test(a)||"string"!==typeof a?t(a,c||this.context):0;e<p;e++)for(k=this[e];k&&k!==c;k=k.parentNode)if(11>k.nodeType&&(g?-1<g.index(k):1===k.nodeType&&t.find.matchesSelector(k,a))){f.push(k);break}return this.pushStack(1<f.length?t.unique(f):f)},index:function(a){return a?
"string"===typeof a?ba.call(t(a),this[0]):ba.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,c){return this.pushStack(t.unique(t.merge(this.get(),t(a,c))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});t.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return t.dir(a,"parentNode")},parentsUntil:function(a,c,k){return t.dir(a,"parentNode",k)},next:function(a){return h(a,
"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return t.dir(a,"nextSibling")},prevAll:function(a){return t.dir(a,"previousSibling")},nextUntil:function(a,c,k){return t.dir(a,"nextSibling",k)},prevUntil:function(a,c,k){return t.dir(a,"previousSibling",k)},siblings:function(a){return t.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return t.sibling(a.firstChild)},contents:function(a){return a.contentDocument||t.merge([],a.childNodes)}},function(a,
c){t.fn[a]=function(k,e){var p=t.map(this,c,k);"Until"!==a.slice(-5)&&(e=k);e&&"string"===typeof e&&(p=t.filter(e,p));1<this.length&&(Sa[a]||t.unique(p),ua.test(a)&&p.reverse());return this.pushStack(p)}});var na=/\S+/g,va={};t.Callbacks=function(a){a="string"===typeof a?va[a]||g(a):t.extend({},a);var c,k,e,p,f,h,w=[],A=!a.once&&[],l=function(g){c=a.memory&&g;k=!0;h=p||0;p=0;f=w.length;for(e=!0;w&&h<f;h++)if(!1===w[h].apply(g[0],g[1])&&a.stopOnFalse){c=!1;break}e=!1;w&&(A?A.length&&l(A.shift()):c?
w=[]:B.disable())},B={add:function(){if(w){var k=w.length;(function xc(c){t.each(c,function(c,k){var e=t.type(k);"function"===e?a.unique&&B.has(k)||w.push(k):k&&k.length&&"string"!==e&&xc(k)})})(arguments);e?f=w.length:c&&(p=k,l(c))}return this},remove:function(){w&&t.each(arguments,function(a,c){for(var k;-1<(k=t.inArray(c,w,k));)w.splice(k,1),e&&(k<=f&&f--,k<=h&&h--)});return this},has:function(a){return a?-1<t.inArray(a,w):!(!w||!w.length)},empty:function(){w=[];f=0;return this},disable:function(){w=
A=c=void 0;return this},disabled:function(){return!w},lock:function(){A=void 0;c||B.disable();return this},locked:function(){return!A},fireWith:function(a,c){!w||k&&!A||(c=c||[],c=[a,c.slice?c.slice():c],e?A.push(c):l(c));return this},fire:function(){B.fireWith(this,arguments);return this},fired:function(){return!!k}};return B};t.extend({Deferred:function(a){var c=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",
t.Callbacks("memory")]],k="pending",e={state:function(){return k},always:function(){p.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return t.Deferred(function(k){t.each(c,function(c,f){var g=t.isFunction(a[c])&&a[c];p[f[1]](function(){var a=g&&g.apply(this,arguments);if(a&&t.isFunction(a.promise))a.promise().done(k.resolve).fail(k.reject).progress(k.notify);else k[f[0]+"With"](this===e?k.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=
a?t.extend(a,e):e}},p={};e.pipe=e.then;t.each(c,function(a,f){var g=f[2],h=f[3];e[f[1]]=g.add;h&&g.add(function(){k=h},c[a^1][2].disable,c[2][2].lock);p[f[0]]=function(){p[f[0]+"With"](this===p?e:this,arguments);return this};p[f[0]+"With"]=g.fireWith});e.promise(p);a&&a.call(p,p);return p},when:function(a){var c=0,k=X.call(arguments),e=k.length,p=1!==e||a&&t.isFunction(a.promise)?e:0,f=1===p?a:t.Deferred(),g=function(a,c,k){return function(e){c[a]=this;k[a]=1<arguments.length?X.call(arguments):e;
k===h?f.notifyWith(c,k):--p||f.resolveWith(c,k)}},h,w,A;if(1<e)for(h=Array(e),w=Array(e),A=Array(e);c<e;c++)k[c]&&t.isFunction(k[c].promise)?k[c].promise().done(g(c,A,k)).fail(f.reject).progress(g(c,w,h)):--p;p||f.resolveWith(A,k);return f.promise()}});var La;t.fn.ready=function(a){t.ready.promise().done(a);return this};t.extend({isReady:!1,readyWait:1,holdReady:function(a){a?t.readyWait++:t.ready(!0)},ready:function(a){(!0===a?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==a&&0<--t.readyWait||(La.resolveWith(aa,
[t]),t.fn.triggerHandler&&(t(aa).triggerHandler("ready"),t(aa).off("ready"))))}});t.ready.promise=function(c){La||(La=t.Deferred(),"complete"===aa.readyState?setTimeout(t.ready):(aa.addEventListener("DOMContentLoaded",l,!1),a.addEventListener("load",l,!1)));return La.promise(c)};t.ready.promise();var Da=t.access=function(a,c,k,e,p,f,g){var h=0,w=a.length,A=null==k;if("object"===t.type(k))for(h in p=!0,k)t.access(a,c,h,k[h],!0,f,g);else if(void 0!==e&&(p=!0,t.isFunction(e)||(g=!0),A&&(g?(c.call(a,
e),c=null):(A=c,c=function(a,c,k){return A.call(t(a),k)})),c))for(;h<w;h++)c(a[h],k,g?e:e.call(a[h],h,c(a[h],k)));return p?a:A?c.call(a):w?c(a[0],k):f};t.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};m.uid=1;m.accepts=t.acceptData;m.prototype={key:function(a){if(!m.accepts(a))return 0;var c={},k=a[this.expando];if(!k){k=m.uid++;try{c[this.expando]={value:k},Object.defineProperties(a,c)}catch(e){c[this.expando]=k,t.extend(a,c)}}this.cache[k]||(this.cache[k]={});return k},
set:function(a,c,k){var e;a=this.key(a);var p=this.cache[a];if("string"===typeof c)p[c]=k;else if(t.isEmptyObject(p))t.extend(this.cache[a],c);else for(e in c)p[e]=c[e];return p},get:function(a,c){var k=this.cache[this.key(a)];return void 0===c?k:k[c]},access:function(a,c,k){if(void 0===c||c&&"string"===typeof c&&void 0===k)return k=this.get(a,c),void 0!==k?k:this.get(a,t.camelCase(c));this.set(a,c,k);return void 0!==k?k:c},remove:function(a,c){var k,e;k=this.key(a);var p=this.cache[k];if(void 0===
c)this.cache[k]={};else for(t.isArray(c)?e=c.concat(c.map(t.camelCase)):(k=t.camelCase(c),c in p?e=[c,k]:(e=k,e=e in p?[e]:e.match(na)||[])),k=e.length;k--;)delete p[e[k]]},hasData:function(a){return!t.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ga=new m,oa=new m,ab=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ta=/([A-Z])/g;t.extend({hasData:function(a){return oa.hasData(a)||ga.hasData(a)},data:function(a,c,k){return oa.access(a,
c,k)},removeData:function(a,c){oa.remove(a,c)},_data:function(a,c,k){return ga.access(a,c,k)},_removeData:function(a,c){ga.remove(a,c)}});t.fn.extend({data:function(a,c){var k,e,p,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(p=oa.get(f),1===f.nodeType&&!ga.get(f,"hasDataAttrs"))){for(k=g.length;k--;)g[k]&&(e=g[k].name,0===e.indexOf("data-")&&(e=t.camelCase(e.slice(5)),n(f,e,p[e])));ga.set(f,"hasDataAttrs",!0)}return p}return"object"===typeof a?this.each(function(){oa.set(this,a)}):
Da(this,function(c){var k,e=t.camelCase(a);if(f&&void 0===c){k=oa.get(f,a);if(void 0!==k)return k;k=oa.get(f,e);if(void 0!==k)return k;k=n(f,e,void 0);if(void 0!==k)return k}else this.each(function(){var k=oa.get(this,e);oa.set(this,e,c);-1!==a.indexOf("-")&&void 0!==k&&oa.set(this,a,c)})},null,c,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){oa.remove(this,a)})}});t.extend({queue:function(a,c,k){var e;if(a)return c=(c||"fx")+"queue",e=ga.get(a,c),k&&(!e||t.isArray(k)?
e=ga.access(a,c,t.makeArray(k)):e.push(k)),e||[]},dequeue:function(a,c){c=c||"fx";var k=t.queue(a,c),e=k.length,p=k.shift(),f=t._queueHooks(a,c),g=function(){t.dequeue(a,c)};"inprogress"===p&&(p=k.shift(),e--);p&&("fx"===c&&k.unshift("inprogress"),delete f.stop,p.call(a,g,f));!e&&f&&f.empty.fire()},_queueHooks:function(a,c){var k=c+"queueHooks";return ga.get(a,k)||ga.access(a,k,{empty:t.Callbacks("once memory").add(function(){ga.remove(a,[c+"queue",k])})})}});t.fn.extend({queue:function(a,c){var k=
2;"string"!==typeof a&&(c=a,a="fx",k--);return arguments.length<k?t.queue(this[0],a):void 0===c?this:this.each(function(){var k=t.queue(this,a,c);t._queueHooks(this,a);"fx"===a&&"inprogress"!==k[0]&&t.dequeue(this,a)})},dequeue:function(a){return this.each(function(){t.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var k,e=1,p=t.Deferred(),f=this,g=this.length,h=function(){--e||p.resolveWith(f,[f])};"string"!==typeof a&&(c=a,a=void 0);for(a=a||"fx";g--;)(k=
ga.get(f[g],a+"queueHooks"))&&k.empty&&(e++,k.empty.add(h));h();return p.promise(c)}});var $a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pa=["Top","Right","Bottom","Left"],Ja=function(a,c){a=c||a;return"none"===t.css(a,"display")||!t.contains(a.ownerDocument,a)},Fb=/^(?:checkbox|radio)$/i;(function(){var a=aa.createDocumentFragment().appendChild(aa.createElement("div")),c=aa.createElement("input");c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");a.appendChild(c);
U.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";U.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();U.focusinBubbles="onfocusin"in a;var Gb=/^key/,Hb=/^(?:mouse|pointer|contextmenu)|click/,Rb=/^(?:focusinfocus|focusoutblur)$/,Ka=/^([^.]*)(?:\.(.+)|)$/;t.event={global:{},add:function(a,c,k,e,p){var f,g,h,w,A,l,B,m,D;if(A=ga.get(a))for(k.handler&&(f=k,k=f.handler,p=f.selector),k.guid||(k.guid=t.guid++),(w=A.events)||(w=A.events={}),(g=A.handle)||
(g=A.handle=function(c){return"undefined"!==typeof t&&t.event.triggered!==c.type?t.event.dispatch.apply(a,arguments):void 0}),c=(c||"").match(na)||[""],A=c.length;A--;)h=Ka.exec(c[A])||[],m=l=h[1],D=(h[2]||"").split(".").sort(),m&&(h=t.event.special[m]||{},m=(p?h.delegateType:h.bindType)||m,h=t.event.special[m]||{},l=t.extend({type:m,origType:l,data:e,handler:k,guid:k.guid,selector:p,needsContext:p&&t.expr.match.needsContext.test(p),namespace:D.join(".")},f),(B=w[m])||(B=w[m]=[],B.delegateCount=0,
h.setup&&!1!==h.setup.call(a,e,D,g)||a.addEventListener&&a.addEventListener(m,g,!1)),h.add&&(h.add.call(a,l),l.handler.guid||(l.handler.guid=k.guid)),p?B.splice(B.delegateCount++,0,l):B.push(l),t.event.global[m]=!0)},remove:function(a,c,k,e,p){var f,g,h,w,A,l,B,m,D,H,r,n=ga.hasData(a)&&ga.get(a);if(n&&(w=n.events)){c=(c||"").match(na)||[""];for(A=c.length;A--;)if(h=Ka.exec(c[A])||[],D=r=h[1],H=(h[2]||"").split(".").sort(),D){B=t.event.special[D]||{};D=(e?B.delegateType:B.bindType)||D;m=w[D]||[];h=
h[2]&&RegExp("(^|\\.)"+H.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=f=m.length;f--;)l=m[f],!p&&r!==l.origType||k&&k.guid!==l.guid||h&&!h.test(l.namespace)||e&&!(e===l.selector||"**"===e&&l.selector)||(m.splice(f,1),l.selector&&m.delegateCount--,B.remove&&B.remove.call(a,l));g&&!m.length&&(B.teardown&&!1!==B.teardown.call(a,H,n.handle)||t.removeEvent(a,D,n.handle),delete w[D])}else for(D in w)t.event.remove(a,D+c[A],k,e,!0);t.isEmptyObject(w)&&(delete n.handle,ga.remove(a,"events"))}},trigger:function(c,
k,e,p){var f,g,h,w,A,l,B=[e||aa],m=ca.call(c,"type")?c.type:c;l=ca.call(c,"namespace")?c.namespace.split("."):[];g=f=e=e||aa;if(3!==e.nodeType&&8!==e.nodeType&&!Rb.test(m+t.event.triggered)&&(0<=m.indexOf(".")&&(l=m.split("."),m=l.shift(),l.sort()),w=0>m.indexOf(":")&&"on"+m,c=c[t.expando]?c:new t.Event(m,"object"===typeof c&&c),c.isTrigger=p?2:3,c.namespace=l.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=e),k=null==
k?[c]:t.makeArray(k,[c]),l=t.event.special[m]||{},p||!l.trigger||!1!==l.trigger.apply(e,k))){if(!p&&!l.noBubble&&!t.isWindow(e)){h=l.delegateType||m;Rb.test(h+m)||(g=g.parentNode);for(;g;g=g.parentNode)B.push(g),f=g;f===(e.ownerDocument||aa)&&B.push(f.defaultView||f.parentWindow||a)}for(f=0;(g=B[f++])&&!c.isPropagationStopped();)c.type=1<f?h:l.bindType||m,(A=(ga.get(g,"events")||{})[c.type]&&ga.get(g,"handle"))&&A.apply(g,k),(A=w&&g[w])&&A.apply&&t.acceptData(g)&&(c.result=A.apply(g,k),!1===c.result&&
c.preventDefault());c.type=m;p||c.isDefaultPrevented()||l._default&&!1!==l._default.apply(B.pop(),k)||!t.acceptData(e)||!w||!t.isFunction(e[m])||t.isWindow(e)||((f=e[w])&&(e[w]=null),t.event.triggered=m,e[m](),t.event.triggered=void 0,f&&(e[w]=f));return c.result}},dispatch:function(a){a=t.event.fix(a);var c,k,e,p,f=[],g=X.call(arguments);c=(ga.get(this,"events")||{})[a.type]||[];var h=t.event.special[a.type]||{};g[0]=a;a.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,a)){f=t.event.handlers.call(this,
a,c);for(c=0;(p=f[c++])&&!a.isPropagationStopped();)for(a.currentTarget=p.elem,k=0;(e=p.handlers[k++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(e.namespace))a.handleObj=e,a.data=e.data,e=((t.event.special[e.origType]||{}).handle||e.handler).apply(p.elem,g),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation());h.postDispatch&&h.postDispatch.call(this,a);return a.result}},handlers:function(a,c){var k,e,p,f,g=[],h=c.delegateCount,w=a.target;if(h&&
w.nodeType&&(!a.button||"click"!==a.type))for(;w!==this;w=w.parentNode||this)if(!0!==w.disabled||"click"!==a.type){e=[];for(k=0;k<h;k++)f=c[k],p=f.selector+" ",void 0===e[p]&&(e[p]=f.needsContext?0<=t(p,this).index(w):t.find(p,this,null,[w]).length),e[p]&&e.push(f);e.length&&g.push({elem:w,handlers:e})}h<c.length&&g.push({elem:this,handlers:c.slice(h)});return g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,c){null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var k,e,p=c.button;null==a.pageX&&null!=c.clientX&&(k=a.target.ownerDocument||aa,e=k.documentElement,k=k.body,a.pageX=c.clientX+(e&&e.scrollLeft||k&&k.scrollLeft||0)-(e&&e.clientLeft||k&&k.clientLeft||0),a.pageY=
c.clientY+(e&&e.scrollTop||k&&k.scrollTop||0)-(e&&e.clientTop||k&&k.clientTop||0));a.which||void 0===p||(a.which=p&1?1:p&2?3:p&4?2:0);return a}},fix:function(a){if(a[t.expando])return a;var c,k,e;c=a.type;var p=a,f=this.fixHooks[c];f||(this.fixHooks[c]=f=Hb.test(c)?this.mouseHooks:Gb.test(c)?this.keyHooks:{});e=f.props?this.props.concat(f.props):this.props;a=new t.Event(p);for(c=e.length;c--;)k=e[c],a[k]=p[k];a.target||(a.target=aa);3===a.target.nodeType&&(a.target=a.target.parentNode);return f.filter?
f.filter(a,p):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==s()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===s()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&t.nodeName(this,"input"))return this.click(),!1},_default:function(a){return t.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}},simulate:function(a,c,k,e){a=t.extend(new t.Event,k,{type:a,isSimulated:!0,originalEvent:{}});e?t.event.trigger(a,null,c):t.event.dispatch.call(c,a);a.isDefaultPrevented()&&k.preventDefault()}};t.removeEvent=function(a,c,k){a.removeEventListener&&a.removeEventListener(c,k,!1)};t.Event=function(a,c){if(!(this instanceof t.Event))return new t.Event(a,c);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?
q:r):this.type=a;c&&t.extend(this,c);this.timeStamp=a&&a.timeStamp||t.now();this[t.expando]=!0};t.Event.prototype={isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=q;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=q;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=
q;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,c){t.event.special[a]={delegateType:c,bindType:c,handle:function(a){var k,e=a.relatedTarget,p=a.handleObj;if(!e||e!==this&&!t.contains(this,e))a.type=p.origType,k=p.handler.apply(this,arguments),a.type=c;return k}}});U.focusinBubbles||t.each({focus:"focusin",blur:"focusout"},function(a,c){var k=
function(a){t.event.simulate(c,a.target,t.event.fix(a),!0)};t.event.special[c]={setup:function(){var e=this.ownerDocument||this,p=ga.access(e,c);p||e.addEventListener(a,k,!0);ga.access(e,c,(p||0)+1)},teardown:function(){var e=this.ownerDocument||this,p=ga.access(e,c)-1;p?ga.access(e,c,p):(e.removeEventListener(a,k,!0),ga.remove(e,c))}}});t.fn.extend({on:function(a,c,k,e,p){var f,g;if("object"===typeof a){"string"!==typeof c&&(k=k||c,c=void 0);for(g in a)this.on(g,c,k,a[g],p);return this}null==k&&
null==e?(e=c,k=c=void 0):null==e&&("string"===typeof c?(e=k,k=void 0):(e=k,k=c,c=void 0));if(!1===e)e=r;else if(!e)return this;1===p&&(f=e,e=function(a){t().off(a);return f.apply(this,arguments)},e.guid=f.guid||(f.guid=t.guid++));return this.each(function(){t.event.add(this,a,e,k,c)})},one:function(a,c,k,e){return this.on(a,c,k,e,1)},off:function(a,c,k){var e;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,t(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,
e.handler),this;if("object"===typeof a){for(e in a)this.off(e,c,a[e]);return this}if(!1===c||"function"===typeof c)k=c,c=void 0;!1===k&&(k=r);return this.each(function(){t.event.remove(this,a,k,c)})},trigger:function(a,c){return this.each(function(){t.event.trigger(a,c,this)})},triggerHandler:function(a,c){var k=this[0];if(k)return t.event.trigger(a,c,k,!0)}});var mb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,Sb=/<|&#?\w+;/,Ib=/<(?:script|style|link)/i,
oc=/checked\s*(?:[^=]|=\s*.checked.)/i,Tb=/^$|\/(?:java|ecma)script/i,pc=/^true\/(.*)/,bd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option;Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead;Ma.th=Ma.td;t.extend({clone:function(a,c,e){var p,
f,g,h,w=a.cloneNode(!0),A=t.contains(a.ownerDocument,a);if(!(U.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||t.isXMLDoc(a)))for(h=k(w),g=k(a),p=0,f=g.length;p<f;p++){var l=g[p],B=h[p],m=B.nodeName.toLowerCase();if("input"===m&&Fb.test(l.type))B.checked=l.checked;else if("input"===m||"textarea"===m)B.defaultValue=l.defaultValue}if(c)if(e)for(g=g||k(a),h=h||k(w),p=0,f=g.length;p<f;p++)z(g[p],h[p]);else z(a,w);h=k(w,"script");0<h.length&&y(h,!A&&k(a,"script"));return w},buildFragment:function(a,c,
e,p){for(var f,g,h,w=c.createDocumentFragment(),A=[],l=0,B=a.length;l<B;l++)if((f=a[l])||0===f)if("object"===t.type(f))t.merge(A,f.nodeType?[f]:f);else if(Sb.test(f)){g=g||w.appendChild(c.createElement("div"));h=(Za.exec(f)||["",""])[1].toLowerCase();h=Ma[h]||Ma._default;g.innerHTML=h[1]+f.replace(mb,"<$1></$2>")+h[2];for(h=h[0];h--;)g=g.lastChild;t.merge(A,g.childNodes);g=w.firstChild;g.textContent=""}else A.push(c.createTextNode(f));w.textContent="";for(l=0;f=A[l++];)if(!p||-1===t.inArray(f,p))if(a=
t.contains(f.ownerDocument,f),g=k(w.appendChild(f),"script"),a&&y(g),e)for(h=0;f=g[h++];)Tb.test(f.type||"")&&e.push(f);return w},cleanData:function(a){for(var c,k,e,p,f=t.event.special,g=0;void 0!==(k=a[g]);g++){if(t.acceptData(k)&&(p=k[ga.expando])&&(c=ga.cache[p])){if(c.events)for(e in c.events)f[e]?t.event.remove(k,e):t.removeEvent(k,e,c.handle);ga.cache[p]&&delete ga.cache[p]}delete oa.cache[k[oa.expando]]}}});t.fn.extend({text:function(a){return Da(this,function(a){return void 0===a?t.text(this):
this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=u(this,a);c.insertBefore(a,c.firstChild)}})},before:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,c){for(var e,p=a?t.filter(a,this):this,f=0;null!=(e=p[f]);f++)c||1!==e.nodeType||t.cleanData(k(e)),e.parentNode&&(c&&t.contains(e.ownerDocument,e)&&y(k(e,"script")),e.parentNode.removeChild(e));return this},empty:function(){for(var a,c=0;null!=(a=this[c]);c++)1===a.nodeType&&(t.cleanData(k(a,
!1)),a.textContent="");return this},clone:function(a,c){a=null==a?!1:a;c=null==c?a:c;return this.map(function(){return t.clone(this,a,c)})},html:function(a){return Da(this,function(a){var c=this[0]||{},e=0,p=this.length;if(void 0===a&&1===c.nodeType)return c.innerHTML;if("string"===typeof a&&!Ib.test(a)&&!Ma[(Za.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(mb,"<$1></$2>");try{for(;e<p;e++)c=this[e]||{},1===c.nodeType&&(t.cleanData(k(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},
null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(c){a=this.parentNode;t.cleanData(k(this));a&&a.replaceChild(c,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,c){a=S.apply([],a);var e,p,f,g,h=0,w=this.length,A=this,l=w-1,B=a[0],m=t.isFunction(B);if(m||1<w&&"string"===typeof B&&!U.checkClone&&oc.test(B))return this.each(function(k){var e=A.eq(k);m&&(a[0]=B.call(this,k,e.html()));
e.domManip(a,c)});if(w&&(e=t.buildFragment(a,this[0].ownerDocument,!1,this),p=e.firstChild,1===e.childNodes.length&&(e=p),p)){p=t.map(k(e,"script"),x);for(f=p.length;h<w;h++)g=e,h!==l&&(g=t.clone(g,!0,!0),f&&t.merge(p,k(g,"script"))),c.call(this[h],g,h);if(f)for(e=p[p.length-1].ownerDocument,t.map(p,v),h=0;h<f;h++)g=p[h],Tb.test(g.type||"")&&!ga.access(g,"globalEval")&&t.contains(e,g)&&(g.src?t._evalUrl&&t._evalUrl(g.src):t.globalEval(g.textContent.replace(bd,"")))}return this}});t.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){t.fn[a]=function(a){for(var k=[],e=t(a),p=e.length-1,f=0;f<=p;f++)a=f===p?this:this.clone(!0),t(e[f])[c](a),Z.apply(k,a.get());return this.pushStack(k)}});var tb,qc={},rc=/^margin/,Ub=RegExp("^("+$a+")(?!px)[a-z%]+$","i"),eb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function c(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
g.innerHTML="";p.appendChild(f);var h=a.getComputedStyle(g,null);k="1%"!==h.top;e="4px"===h.width;p.removeChild(f)}var k,e,p=aa.documentElement,f=aa.createElement("div"),g=aa.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",U.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&t.extend(U,{pixelPosition:function(){c();
return k},boxSizingReliable:function(){null==e&&c();return e},reliableMarginRight:function(){var c;c=g.appendChild(aa.createElement("div"));c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";c.style.marginRight=c.style.width="0";g.style.width="1px";p.appendChild(f);c=!parseFloat(a.getComputedStyle(c,null).marginRight);p.removeChild(f);return c}}))})();t.swap=function(a,c,k,e){var p,f={};for(p in c)f[p]=
a.style[p],a.style[p]=c[p];k=k.apply(a,e||[]);for(p in c)a.style[p]=f[p];return k};var Ac=/^(none|table(?!-c[ea]).+)/,sc=RegExp("^("+$a+")(.*)$","i"),cb=RegExp("^([+-])=("+$a+")","i"),Yb={position:"absolute",visibility:"hidden",display:"block"},Bc={letterSpacing:"0",fontWeight:"400"},nb=["Webkit","O","Moz","ms"];t.extend({cssHooks:{opacity:{get:function(a,c){if(c){var k=B(a,"opacity");return""===k?"1":k}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,c,k,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var p,f,g,h=t.camelCase(c),w=a.style;c=t.cssProps[h]||(t.cssProps[h]=F(w,h));g=t.cssHooks[c]||t.cssHooks[h];if(void 0!==k)f=typeof k,"string"===f&&(p=cb.exec(k))&&(k=(p[1]+1)*p[2]+parseFloat(t.css(a,c)),f="number"),null!=k&&k===k&&("number"!==f||t.cssNumber[h]||(k+="px"),U.clearCloneStyle||""!==k||0!==c.indexOf("background")||(w[c]="inherit"),
g&&"set"in g&&void 0===(k=g.set(a,k,e))||(w[c]=k));else return g&&"get"in g&&void 0!==(p=g.get(a,!1,e))?p:w[c]}},css:function(a,c,k,e){var p,f;f=t.camelCase(c);c=t.cssProps[f]||(t.cssProps[f]=F(a.style,f));(f=t.cssHooks[c]||t.cssHooks[f])&&"get"in f&&(p=f.get(a,!0,k));void 0===p&&(p=B(a,c,e));"normal"===p&&c in Bc&&(p=Bc[c]);return""===k||k?(a=parseFloat(p),!0===k||t.isNumeric(a)?a||0:p):p}});t.each(["height","width"],function(a,c){t.cssHooks[c]={get:function(a,k,e){if(k)return Ac.test(t.css(a,"display"))&&
0===a.offsetWidth?t.swap(a,Yb,function(){return H(a,c,e)}):H(a,c,e)},set:function(a,k,e){var p=e&&eb(a);return K(a,k,e?A(a,c,e,"border-box"===t.css(a,"boxSizing",!1,p),p):0)}}});t.cssHooks.marginRight=D(U.reliableMarginRight,function(a,c){if(c)return t.swap(a,{display:"inline-block"},B,[a,"marginRight"])});t.each({margin:"",padding:"",border:"Width"},function(a,c){t.cssHooks[a+c]={expand:function(k){var e=0,p={};for(k="string"===typeof k?k.split(" "):[k];4>e;e++)p[a+Pa[e]+c]=k[e]||k[e-2]||k[0];return p}};
rc.test(a)||(t.cssHooks[a+c].set=K)});t.fn.extend({css:function(a,c){return Da(this,function(a,c,k){var e,p={},f=0;if(t.isArray(c)){k=eb(a);for(e=c.length;f<e;f++)p[c[f]]=t.css(a,c[f],!1,k);return p}return void 0!==k?t.style(a,c,k):t.css(a,c)},a,c,1<arguments.length)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ja(this)?t(this).show():t(this).hide()})}});t.Tween=G;G.prototype={constructor:G,
init:function(a,c,k,e,p,f){this.elem=a;this.prop=k;this.easing=p||"swing";this.options=c;this.start=this.now=this.cur();this.end=e;this.unit=f||(t.cssNumber[k]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var c,k=G.propHooks[this.prop];this.pos=this.options.duration?c=t.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):c=a;this.now=(this.end-this.start)*c+this.start;this.options.step&&this.options.step.call(this.elem,
this.now,this);k&&k.set?k.set(this):G.propHooks._default.set(this);return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=t.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(t.fx.step[a.prop])t.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[t.cssProps[a.prop]]||t.cssHooks[a.prop])?t.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=
G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};t.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};t.fx=G.prototype.init;t.fx.step={};var bb,wb,Cc=/^(?:toggle|show|hide)$/,Zb=RegExp("^(?:([+-])=|)("+$a+")([a-z%]*)$","i"),$b=/queueHooks$/,ub=[function(a,c,k){var e,p,f,g,h,A,l=this,B={},m=a.style,D=a.nodeType&&Ja(a),H=ga.get(a,"fxshow");k.queue||(g=t._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,
g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,l.always(function(){l.always(function(){g.unqueued--;t.queue(a,"fx").length||g.empty.fire()})}));1===a.nodeType&&("height"in c||"width"in c)&&(k.overflow=[m.overflow,m.overflowX,m.overflowY],A=t.css(a,"display"),p="none"===A?ga.get(a,"olddisplay")||w(a.nodeName):A,"inline"===p&&"none"===t.css(a,"float")&&(m.display="inline-block"));k.overflow&&(m.overflow="hidden",l.always(function(){m.overflow=k.overflow[0];m.overflowX=k.overflow[1];m.overflowY=
k.overflow[2]}));for(e in c)if(p=c[e],Cc.exec(p)){delete c[e];f=f||"toggle"===p;if(p===(D?"hide":"show"))if("show"===p&&H&&void 0!==H[e])D=!0;else continue;B[e]=H&&H[e]||t.style(a,e)}else A=void 0;if(t.isEmptyObject(B))"inline"===("none"===A?w(a.nodeName):A)&&(m.display=A);else for(e in H?"hidden"in H&&(D=H.hidden):H=ga.access(a,"fxshow",{}),f&&(H.hidden=!D),D?t(a).show():l.done(function(){t(a).hide()}),l.done(function(){var c;ga.remove(a,"fxshow");for(c in B)t.style(a,c,B[c])}),B)c=N(D?H[e]:0,e,
l),e in H||(H[e]=c.start,D&&(c.end=c.start,c.start="width"===e||"height"===e?1:0))}],ob={"*":[function(a,c){var k=this.createTween(a,c),e=k.cur(),p=Zb.exec(c),f=p&&p[3]||(t.cssNumber[a]?"":"px"),g=(t.cssNumber[a]||"px"!==f&&+e)&&Zb.exec(t.css(k.elem,a)),h=1,w=20;if(g&&g[3]!==f){f=f||g[3];p=p||[];g=+e||1;do h=h||".5",g/=h,t.style(k.elem,a,g+f);while(h!==(h=k.cur()/e)&&1!==h&&--w)}p&&(g=k.start=+g||+e||0,k.unit=f,k.end=p[1]?g+(p[1]+1)*p[2]:+p[2]);return k}]};t.Animation=t.extend(L,{tweener:function(a,
c){t.isFunction(a)?(c=a,a=["*"]):a=a.split(" ");for(var k,e=0,p=a.length;e<p;e++)k=a[e],ob[k]=ob[k]||[],ob[k].unshift(c)},prefilter:function(a,c){c?ub.unshift(a):ub.push(a)}});t.speed=function(a,c,k){var e=a&&"object"===typeof a?t.extend({},a):{complete:k||!k&&c||t.isFunction(a)&&a,duration:a,easing:k&&c||c&&!t.isFunction(c)&&c};e.duration=t.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in t.fx.speeds?t.fx.speeds[e.duration]:t.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue=
"fx";e.old=e.complete;e.complete=function(){t.isFunction(e.old)&&e.old.call(this);e.queue&&t.dequeue(this,e.queue)};return e};t.fn.extend({fadeTo:function(a,c,k,e){return this.filter(Ja).css("opacity",0).show().end().animate({opacity:c},a,k,e)},animate:function(a,c,k,e){var p=t.isEmptyObject(a),f=t.speed(c,k,e);c=function(){var c=L(this,t.extend({},a),f);(p||ga.get(this,"finish"))&&c.stop(!0)};c.finish=c;return p||!1===f.queue?this.each(c):this.queue(f.queue,c)},stop:function(a,c,k){var e=function(a){var c=
a.stop;delete a.stop;c(k)};"string"!==typeof a&&(k=c,c=a,a=void 0);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var c=!0,p=null!=a&&a+"queueHooks",f=t.timers,g=ga.get(this);if(p)g[p]&&g[p].stop&&e(g[p]);else for(p in g)g[p]&&g[p].stop&&$b.test(p)&&e(g[p]);for(p=f.length;p--;)f[p].elem!==this||null!=a&&f[p].queue!==a||(f[p].anim.stop(k),c=!1,f.splice(p,1));!c&&k||t.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var c,k=ga.get(this),e=k[a+"queue"];
c=k[a+"queueHooks"];var p=t.timers,f=e?e.length:0;k.finish=!0;t.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=p.length;c--;)p[c].elem===this&&p[c].queue===a&&(p[c].anim.stop(!0),p.splice(c,1));for(c=0;c<f;c++)e[c]&&e[c].finish&&e[c].finish.call(this);delete k.finish})}});t.each(["toggle","show","hide"],function(a,c){var k=t.fn[c];t.fn[c]=function(a,e,p){return null==a||"boolean"===typeof a?k.apply(this,arguments):this.animate(J(c,!0),a,e,p)}});t.each({slideDown:J("show"),slideUp:J("hide"),
slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){t.fn[a]=function(a,k,e){return this.animate(c,a,k,e)}});t.timers=[];t.fx.tick=function(){var a,c=0,k=t.timers;for(bb=t.now();c<k.length;c++)a=k[c],a()||k[c]!==a||k.splice(c--,1);k.length||t.fx.stop();bb=void 0};t.fx.timer=function(a){t.timers.push(a);a()?t.fx.start():t.timers.pop()};t.fx.interval=13;t.fx.start=function(){wb||(wb=setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=function(){clearInterval(wb);
wb=null};t.fx.speeds={slow:600,fast:200,_default:400};t.fn.delay=function(a,c){a=t.fx?t.fx.speeds[a]||a:a;return this.queue(c||"fx",function(c,k){var e=setTimeout(c,a);k.stop=function(){clearTimeout(e)}})};(function(){var a=aa.createElement("input"),c=aa.createElement("select"),k=c.appendChild(aa.createElement("option"));a.type="checkbox";U.checkOn=""!==a.value;U.optSelected=k.selected;c.disabled=!0;U.optDisabled=!k.disabled;a=aa.createElement("input");a.value="t";a.type="radio";U.radioValue="t"===
a.value})();var ac,ib=t.expr.attrHandle;t.fn.extend({attr:function(a,c){return Da(this,t.attr,a,c,1<arguments.length)},removeAttr:function(a){return this.each(function(){t.removeAttr(this,a)})}});t.extend({attr:function(a,c,k){var e,p,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){if("undefined"===typeof a.getAttribute)return t.prop(a,c,k);1===f&&t.isXMLDoc(a)||(c=c.toLowerCase(),e=t.attrHooks[c]||(t.expr.match.bool.test(c)?ac:void 0));if(void 0!==k)if(null===k)t.removeAttr(a,c);else{if(e&&"set"in e&&void 0!==
(p=e.set(a,k,c)))return p;a.setAttribute(c,k+"");return k}else{if(e&&"get"in e&&null!==(p=e.get(a,c)))return p;p=t.find.attr(a,c);return null==p?void 0:p}}},removeAttr:function(a,c){var k,e,p=0,f=c&&c.match(na);if(f&&1===a.nodeType)for(;k=f[p++];)e=t.propFix[k]||k,t.expr.match.bool.test(k)&&(a[e]=!1),a.removeAttribute(k)},attrHooks:{type:{set:function(a,c){if(!U.radioValue&&"radio"===c&&t.nodeName(a,"input")){var k=a.value;a.setAttribute("type",c);k&&(a.value=k);return c}}}}});ac={set:function(a,
c,k){!1===c?t.removeAttr(a,k):a.setAttribute(k,k);return k}};t.each(t.expr.match.bool.source.match(/\w+/g),function(a,c){var k=ib[c]||t.find.attr;ib[c]=function(a,c,e){var p,f;e||(f=ib[c],ib[c]=p,p=null!=k(a,c,e)?c.toLowerCase():null,ib[c]=f);return p}});var bc=/^(?:input|select|textarea|button)$/i;t.fn.extend({prop:function(a,c){return Da(this,t.prop,a,c,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[t.propFix[a]||a]})}});t.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(a,c,k){var e,p,f;f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){if(f=1!==f||!t.isXMLDoc(a))c=t.propFix[c]||c,p=t.propHooks[c];return void 0!==k?p&&"set"in p&&void 0!==(e=p.set(a,k,c))?e:a[c]=k:p&&"get"in p&&null!==(e=p.get(a,c))?e:a[c]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||bc.test(a.nodeName)||a.href?a.tabIndex:-1}}}});U.optSelected||(t.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){t.propFix[this.toLowerCase()]=this});var cc=/[\t\r\n\f]/g;t.fn.extend({addClass:function(a){var c,k,e,p,f;c="string"===typeof a&&a;var g=0,h=this.length;if(t.isFunction(a))return this.each(function(c){t(this).addClass(a.call(this,c,this.className))});if(c)for(c=(a||"").match(na)||[];g<h;g++)if(k=this[g],e=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(cc," "):" ")){for(f=0;p=c[f++];)0>e.indexOf(" "+p+" ")&&(e+=p+" ");e=t.trim(e);k.className!==e&&(k.className=e)}return this},
removeClass:function(a){var c,k,e,p,f;c=0===arguments.length||"string"===typeof a&&a;var g=0,h=this.length;if(t.isFunction(a))return this.each(function(c){t(this).removeClass(a.call(this,c,this.className))});if(c)for(c=(a||"").match(na)||[];g<h;g++)if(k=this[g],e=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(cc," "):"")){for(f=0;p=c[f++];)for(;0<=e.indexOf(" "+p+" ");)e=e.replace(" "+p+" "," ");e=a?t.trim(e):"";k.className!==e&&(k.className=e)}return this},toggleClass:function(a,c){var k=
typeof a;return"boolean"===typeof c&&"string"===k?c?this.addClass(a):this.removeClass(a):t.isFunction(a)?this.each(function(k){t(this).toggleClass(a.call(this,k,this.className,c),c)}):this.each(function(){if("string"===k)for(var c,e=0,p=t(this),f=a.match(na)||[];c=f[e++];)p.hasClass(c)?p.removeClass(c):p.addClass(c);else if("undefined"===k||"boolean"===k)this.className&&ga.set(this,"__className__",this.className),this.className=this.className||!1===a?"":ga.get(this,"__className__")||""})},hasClass:function(a){a=
" "+a+" ";for(var c=0,k=this.length;c<k;c++)if(1===this[c].nodeType&&0<=(" "+this[c].className+" ").replace(cc," ").indexOf(a))return!0;return!1}});var dc=/\r/g;t.fn.extend({val:function(a){var c,k,e,p=this[0];if(arguments.length)return e=t.isFunction(a),this.each(function(k){1===this.nodeType&&(k=e?a.call(this,k,t(this).val()):a,null==k?k="":"number"===typeof k?k+="":t.isArray(k)&&(k=t.map(k,function(a){return null==a?"":a+""})),c=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],c&&
"set"in c&&void 0!==c.set(this,k,"value")||(this.value=k))});if(p){if((c=t.valHooks[p.type]||t.valHooks[p.nodeName.toLowerCase()])&&"get"in c&&void 0!==(k=c.get(p,"value")))return k;k=p.value;return"string"===typeof k?k.replace(dc,""):null==k?"":k}}});t.extend({valHooks:{option:{get:function(a){var c=t.find.attr(a,"value");return null!=c?c:t.trim(t.text(a))}},select:{get:function(a){for(var c,k=a.options,e=a.selectedIndex,p=(a="select-one"===a.type||0>e)?null:[],f=a?e+1:k.length,g=0>e?f:a?e:0;g<f;g++)if(c=
k[g],!(!c.selected&&g!==e||(U.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&t.nodeName(c.parentNode,"optgroup"))){c=t(c).val();if(a)return c;p.push(c)}return p},set:function(a,c){for(var k,e,p=a.options,f=t.makeArray(c),g=p.length;g--;)if(e=p[g],e.selected=0<=t.inArray(e.value,f))k=!0;k||(a.selectedIndex=-1);return f}}}});t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(a,c){if(t.isArray(c))return a.checked=0<=t.inArray(t(a).val(),c)}};U.checkOn||
(t.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){t.fn[c]=function(a,k){return 0<arguments.length?this.on(c,null,a,k):this.trigger(c)}});t.fn.extend({hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)},bind:function(a,
c,k){return this.on(a,null,c,k)},unbind:function(a,c){return this.off(a,null,c)},delegate:function(a,c,k,e){return this.on(c,a,k,e)},undelegate:function(a,c,k){return 1===arguments.length?this.off(a,"**"):this.off(c,a||"**",k)}});var Jb=t.now(),xb=/\?/;t.parseJSON=function(a){return JSON.parse(a+"")};t.parseXML=function(a){var c,k;if(!a||"string"!==typeof a)return null;try{k=new DOMParser,c=k.parseFromString(a,"text/xml")}catch(e){c=void 0}c&&!c.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+
a);return c};var jb,db,ec=/#.*$/,fc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)$/mg,od=/^(?:GET|HEAD)$/,pd=/^\/\//,gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ec={},gb={},hc="*/".concat("*");try{db=location.href}catch(qd){db=aa.createElement("a"),db.href="",db=db.href}jb=gc.exec(db.toLowerCase())||[];t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:db,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jb[1]),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?I(I(a,t.ajaxSettings),c):I(t.ajaxSettings,
a)},ajaxPrefilter:O(Ec),ajaxTransport:O(gb),ajax:function(a,c){function k(a,c,g,w){var l,u,s,E;E=c;if(2!==q){q=2;h&&clearTimeout(h);e=void 0;f=w||"";F.readyState=0<a?4:0;w=200<=a&&300>a||304===a;if(g){s=B;for(var G=F,v,x,K,Q,z=s.contents,L=s.dataTypes;"*"===L[0];)L.shift(),void 0===v&&(v=s.mimeType||G.getResponseHeader("Content-Type"));if(v)for(x in z)if(z[x]&&z[x].test(v)){L.unshift(x);break}if(L[0]in g)K=L[0];else{for(x in g){if(!L[0]||s.converters[x+" "+L[0]]){K=x;break}Q||(Q=x)}K=K||Q}K?(K!==
L[0]&&L.unshift(K),s=g[K]):s=void 0}a:{g=B;v=s;x=F;K=w;var y,J,N,G={},z=g.dataTypes.slice();if(z[1])for(J in g.converters)G[J.toLowerCase()]=g.converters[J];for(Q=z.shift();Q;)if(g.responseFields[Q]&&(x[g.responseFields[Q]]=v),!N&&K&&g.dataFilter&&(v=g.dataFilter(v,g.dataType)),N=Q,Q=z.shift())if("*"===Q)Q=N;else if("*"!==N&&N!==Q){J=G[N+" "+Q]||G["* "+Q];if(!J)for(y in G)if(s=y.split(" "),s[1]===Q&&(J=G[N+" "+s[0]]||G["* "+s[0]])){!0===J?J=G[y]:!0!==G[y]&&(Q=s[0],z.unshift(s[1]));break}if(!0!==J)if(J&&
g["throws"])v=J(v);else try{v=J(v)}catch(R){s={state:"parsererror",error:J?R:"No conversion from "+N+" to "+Q};break a}}s={state:"success",data:v}}if(w)B.ifModified&&((E=F.getResponseHeader("Last-Modified"))&&(t.lastModified[p]=E),(E=F.getResponseHeader("etag"))&&(t.etag[p]=E)),204===a||"HEAD"===B.type?E="nocontent":304===a?E="notmodified":(E=s.state,l=s.data,u=s.error,w=!u);else if(u=E,a||!E)E="error",0>a&&(a=0);F.status=a;F.statusText=(c||E)+"";w?H.resolveWith(m,[l,E,F]):H.rejectWith(m,[F,E,u]);
F.statusCode(n);n=void 0;A&&D.trigger(w?"ajaxSuccess":"ajaxError",[F,B,w?l:u]);r.fireWith(m,[F,E]);A&&(D.trigger("ajaxComplete",[F,B]),--t.active||t.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=void 0);c=c||{};var e,p,f,g,h,w,A,l,B=t.ajaxSetup({},c),m=B.context||B,D=B.context&&(m.nodeType||m.jquery)?t(m):t.event,H=t.Deferred(),r=t.Callbacks("once memory"),n=B.statusCode||{},u={},s={},q=0,E="canceled",F={readyState:0,getResponseHeader:function(a){var c;if(2===q){if(!g)for(g={};c=Dc.exec(f);)g[c[1].toLowerCase()]=
c[2];c=g[a.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return 2===q?f:null},setRequestHeader:function(a,c){var k=a.toLowerCase();q||(a=s[k]=s[k]||a,u[a]=c);return this},overrideMimeType:function(a){q||(B.mimeType=a);return this},statusCode:function(a){var c;if(a)if(2>q)for(c in a)n[c]=[n[c],a[c]];else F.always(a[F.status]);return this},abort:function(a){a=a||E;e&&e.abort(a);k(0,a);return this}};H.promise(F).complete=r.add;F.success=F.done;F.error=F.fail;B.url=((a||B.url||
db)+"").replace(ec,"").replace(pd,jb[1]+"//");B.type=c.method||c.type||B.method||B.type;B.dataTypes=t.trim(B.dataType||"*").toLowerCase().match(na)||[""];null==B.crossDomain&&(w=gc.exec(B.url.toLowerCase()),B.crossDomain=!(!w||w[1]===jb[1]&&w[2]===jb[2]&&(w[3]||("http:"===w[1]?"80":"443"))===(jb[3]||("http:"===jb[1]?"80":"443"))));B.data&&B.processData&&"string"!==typeof B.data&&(B.data=t.param(B.data,B.traditional));P(Ec,B,c,F);if(2===q)return F;(A=B.global)&&0===t.active++&&t.event.trigger("ajaxStart");
B.type=B.type.toUpperCase();B.hasContent=!od.test(B.type);p=B.url;B.hasContent||(B.data&&(p=B.url+=(xb.test(p)?"&":"?")+B.data,delete B.data),!1===B.cache&&(B.url=fc.test(p)?p.replace(fc,"$1_="+Jb++):p+(xb.test(p)?"&":"?")+"_="+Jb++));B.ifModified&&(t.lastModified[p]&&F.setRequestHeader("If-Modified-Since",t.lastModified[p]),t.etag[p]&&F.setRequestHeader("If-None-Match",t.etag[p]));(B.data&&B.hasContent&&!1!==B.contentType||c.contentType)&&F.setRequestHeader("Content-Type",B.contentType);F.setRequestHeader("Accept",
B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+hc+"; q=0.01":""):B.accepts["*"]);for(l in B.headers)F.setRequestHeader(l,B.headers[l]);if(B.beforeSend&&(!1===B.beforeSend.call(m,F,B)||2===q))return F.abort();E="abort";for(l in{success:1,error:1,complete:1})F[l](B[l]);if(e=P(gb,B,c,F)){F.readyState=1;A&&D.trigger("ajaxSend",[F,B]);B.async&&0<B.timeout&&(h=setTimeout(function(){F.abort("timeout")},B.timeout));try{q=1,e.send(u,k)}catch(G){if(2>q)k(-1,G);
else throw G;}}else k(-1,"No Transport");return F},getJSON:function(a,c,k){return t.get(a,c,k,"json")},getScript:function(a,c){return t.get(a,void 0,c,"script")}});t.each(["get","post"],function(a,c){t[c]=function(a,k,e,p){t.isFunction(k)&&(p=p||e,e=k,k=void 0);return t.ajax({url:a,type:c,dataType:p,data:k,success:e})}});t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){t.fn[c]=function(a){return this.on(c,a)}});t._evalUrl=function(a){return t.ajax({url:a,
type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};t.fn.extend({wrapAll:function(a){var c;if(t.isFunction(a))return this.each(function(c){t(this).wrapAll(a.call(this,c))});this[0]&&(c=t(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return t.isFunction(a)?this.each(function(c){t(this).wrapInner(a.call(this,c))}):this.each(function(){var c=
t(this),k=c.contents();k.length?k.wrapAll(a):c.append(a)})},wrap:function(a){var c=t.isFunction(a);return this.each(function(k){t(this).wrapAll(c?a.call(this,k):a)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}});t.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};t.expr.filters.visible=function(a){return!t.expr.filters.hidden(a)};var Kb=/%20/g,uc=/\[\]$/,Lb=/\r?\n/g,Fc=/^(?:submit|button|image|reset|file)$/i,
Ua=/^(?:input|select|textarea|keygen)/i;t.param=function(a,c){var k,e=[],p=function(a,c){c=t.isFunction(c)?c():null==c?"":c;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};void 0===c&&(c=t.ajaxSettings&&t.ajaxSettings.traditional);if(t.isArray(a)||a.jquery&&!t.isPlainObject(a))t.each(a,function(){p(this.name,this.value)});else for(k in a)W(k,a[k],c,p);return e.join("&").replace(Kb,"+")};t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=
t.prop(this,"elements");return a?t.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!t(this).is(":disabled")&&Ua.test(this.nodeName)&&!Fc.test(a)&&(this.checked||!Fb.test(a))}).map(function(a,c){var k=t(this).val();return null==k?null:t.isArray(k)?t.map(k,function(a){return{name:c.name,value:a.replace(Lb,"\r\n")}}):{name:c.name,value:k.replace(Lb,"\r\n")}}).get()}});t.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Va=0,Ea={},ic={0:200,1223:204},kb=
t.ajaxSettings.xhr();if(a.ActiveXObject)t(a).on("unload",function(){for(var a in Ea)Ea[a]()});U.cors=!!kb&&"withCredentials"in kb;U.ajax=kb=!!kb;t.ajaxTransport(function(a){var c;if(U.cors||kb&&!a.crossDomain)return{send:function(k,e){var p,f=a.xhr(),g=++Va;f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(p in a.xhrFields)f[p]=a.xhrFields[p];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||k["X-Requested-With"]||(k["X-Requested-With"]="XMLHttpRequest");
for(p in k)f.setRequestHeader(p,k[p]);c=function(a){return function(){c&&(delete Ea[g],c=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?e(f.status,f.statusText):e(ic[f.status]||f.status,f.statusText,"string"===typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}};f.onload=c();f.onerror=c("error");c=Ea[g]=c("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(c)throw h;}},abort:function(){c&&c()}}});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){t.globalEval(a);return a}}});t.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});t.ajaxTransport("script",function(a){if(a.crossDomain){var c,k;return{send:function(e,p){c=t("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",k=function(a){c.remove();k=null;a&&p("error"===a.type?404:200,a.type)});aa.head.appendChild(c[0])},abort:function(){k&&k()}}}});
var yb=[],zb=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=yb.pop()||t.expando+"_"+Jb++;this[a]=!0;return a}});t.ajaxPrefilter("json jsonp",function(c,k,e){var p,f,g,h=!1!==c.jsonp&&(zb.test(c.url)?"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&zb.test(c.data)&&"data");if(h||"jsonp"===c.dataTypes[0])return p=c.jsonpCallback=t.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h?c[h]=c[h].replace(zb,"$1"+
p):!1!==c.jsonp&&(c.url+=(xb.test(c.url)?"&":"?")+c.jsonp+"="+p),c.converters["script json"]=function(){g||t.error(p+" was not called");return g[0]},c.dataTypes[0]="json",f=a[p],a[p]=function(){g=arguments},e.always(function(){a[p]=f;c[p]&&(c.jsonpCallback=k.jsonpCallback,yb.push(p));g&&t.isFunction(f)&&f(g[0]);g=f=void 0}),"script"});t.parseHTML=function(a,c,k){if(!a||"string"!==typeof a)return null;"boolean"===typeof c&&(k=c,c=!1);c=c||aa;var e=wa.exec(a);k=!k&&[];if(e)return[c.createElement(e[1])];
e=t.buildFragment([a],c,k);k&&k.length&&t(k).remove();return t.merge([],e.childNodes)};var jc=t.fn.load;t.fn.load=function(a,c,k){if("string"!==typeof a&&jc)return jc.apply(this,arguments);var e,p,f,g=this,h=a.indexOf(" ");0<=h&&(e=t.trim(a.slice(h)),a=a.slice(0,h));t.isFunction(c)?(k=c,c=void 0):c&&"object"===typeof c&&(p="POST");0<g.length&&t.ajax({url:a,type:p,dataType:"html",data:c}).done(function(a){f=arguments;g.html(e?t("<div>").append(t.parseHTML(a)).find(e):a)}).complete(k&&function(a,c){g.each(k,
f||[a.responseText,c,a])});return this};t.expr.filters.animated=function(a){return t.grep(t.timers,function(c){return a===c.elem}).length};var Ra=a.document.documentElement;t.offset={setOffset:function(a,c,k){var e,p,f,g=t.css(a,"position"),h=t(a),w={};"static"===g&&(a.style.position="relative");f=h.offset();p=t.css(a,"top");e=t.css(a,"left");("absolute"===g||"fixed"===g)&&-1<(p+e).indexOf("auto")?(e=h.position(),p=e.top,e=e.left):(p=parseFloat(p)||0,e=parseFloat(e)||0);t.isFunction(c)&&(c=c.call(a,
k,f));null!=c.top&&(w.top=c.top-f.top+p);null!=c.left&&(w.left=c.left-f.left+e);"using"in c?c.using.call(a,w):h.css(w)}};t.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(c){t.offset.setOffset(this,a,c)});var c,k;k=this[0];var e={top:0,left:0},p=k&&k.ownerDocument;if(p){c=p.documentElement;if(!t.contains(c,k))return e;"undefined"!==typeof k.getBoundingClientRect&&(e=k.getBoundingClientRect());k=T(p);return{top:e.top+k.pageYOffset-c.clientTop,left:e.left+
k.pageXOffset-c.clientLeft}}},position:function(){if(this[0]){var a,c,k=this[0],e={top:0,left:0};"fixed"===t.css(k,"position")?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),t.nodeName(a[0],"html")||(e=a.offset()),e.top+=t.css(a[0],"borderTopWidth",!0),e.left+=t.css(a[0],"borderLeftWidth",!0));return{top:c.top-e.top-t.css(k,"marginTop",!0),left:c.left-e.left-t.css(k,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ra;a&&!t.nodeName(a,
"html")&&"static"===t.css(a,"position");)a=a.offsetParent;return a||Ra})}});t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,k){var e="pageYOffset"===k;t.fn[c]=function(p){return Da(this,function(c,p,f){var g=T(c);if(void 0===f)return g?g[k]:c[p];g?g.scrollTo(e?a.pageXOffset:f,e?f:a.pageYOffset):c[p]=f},c,p,arguments.length,null)}});t.each(["top","left"],function(a,c){t.cssHooks[c]=D(U.pixelPosition,function(a,k){if(k)return k=B(a,c),Ub.test(k)?t(a).position()[c]+"px":k})});t.each({Height:"height",
Width:"width"},function(a,c){t.each({padding:"inner"+a,content:c,"":"outer"+a},function(k,e){t.fn[e]=function(e,p){var f=arguments.length&&(k||"boolean"!==typeof e),g=k||(!0===e||!0===p?"margin":"border");return Da(this,function(c,k,e){return t.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(k=c.documentElement,Math.max(c.body["scroll"+a],k["scroll"+a],c.body["offset"+a],k["offset"+a],k["client"+a])):void 0===e?t.css(c,k,g):t.style(c,k,e,g)},c,f?e:void 0,f,null)}})});t.fn.size=
function(){return this.length};t.fn.andSelf=t.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return t});var Ab=a.jQuery,kc=a.$;t.noConflict=function(c){a.$===t&&(a.$=kc);c&&a.jQuery===t&&(a.jQuery=Ab);return t};"undefined"===typeof f&&(a.jQuery=a.$=t);return t});window.define=window.$$define;define("jquery",[],function(){});delete window.$$define;
(function(a,f){"function"===typeof define&&define.amd?define("qui/lib/arm",["jquery","exports"],function(c,e){a.Arm=f(a,e,c||a.$)}):"undefined"!==typeof exports?f(a,exports,$):a.Arm=f(a,{},a.jQuery||a.Zepto||a.ender||a.$||a.mooltools||a.Arm_$)})(this,function(a,f,c){var e;a=window||this;var h=f._||{};c=c||h;var g={},l=a.console||{};l.log||(l.log=function(){},l.warn=function(){},l.error=function(){});f="undefined"!==typeof exports?exports:a.Arm={};var m,n,q,r,s,u,x,v;f.Class=null;f.View=null;var y=
a.Base||{},z=Array.prototype,k=Object.prototype,p=String.prototype,w=z.slice,B=z.concat,D=k.toString,F=k.hasOwnProperty,h={isArray:Array.isArray||function(a){return"[object Array]"==k.toString.call(a)},isArrayOrList:function(a){return h.isArray(a)||a instanceof n},isObjectOrMap:function(a){return h.isObject(a)||a instanceof m},isObject:function(a){return"[object Object]"==k.toString.call(a)},isString:function(a){return"[object String]"==k.toString.call(a)},isNumber:function(a){return"[object Number]"==
k.toString.call(a)},isBoolean:function(a){return"[object Boolean]"==k.toString.call(a)},isJSONType:function(a){return h.isString(a)||h.isNumber(a)||h.isBoolean(a)||h.isObject(a)||h.isArray(a)||null===a?!0:!1},isDate:function(a){return"[object Date]"==k.toString.call(a)},isFunction:function(a){return"[object Function]"==k.toString.call(a)},isElement:function(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))},isPlainObject:function(a){return"object"!==typeof a||a.nodeType||a.window==window||a.constructor&&
!F.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isUndefined:function(a){return void 0===a},isEmptyObject:function(a){for(var c in a)return!1;return!0},stringifyJSON:function(c){return a.JSON?a.JSON.stringify(c):c},parseJSON:function(k){return(a.JSON?a.JSON.parse:c.parseJSON||function(a){return(new Function("return "+a))()})(k)},isEqual:function(a,c){var k,e=0,p=h.isEqual;if(a===c)return!0;if(void 0!==a&&void 0===c||void 0===a&&void 0!==c)return!1;var f=D.call(a);if(f!=D.call(c)||a.constructor!==
c.constructor||a.length&&a.length!=c.length)return!1;for(k in c)e++;for(k in c)if(e--,0>e)return!1;switch(f){case "[object String]":return a==String(c);case "[object Object]":for(var g in a)if(!p(a[g],c[g]))return!1;break;case "[object Number]":return a!=+a?c!=+c:0===a?1/a===1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase;case "[object Array]":for(k=0,e=a.length;k<
e;k++)if(!p(a[k],c[k]))return!1}return a.valueOf().toString()===c.valueOf().toString()},hashCode:function(a){var c=0;a=a||this;a=h.isString(a)?a:a.toString();if(0===a.length)return c;for(var k=0;k<a.length;k++)var e=a.charCodeAt(k),c=(c<<5)-c+e,c=c&c;return c},keys:Object.keys||function(a){if(!h.isObjectOrMap(a)&&!h.isArrayOrList(a))return[];var c=[],k;for(k in a)h.has(a,k)&&c.push(k);return c},values:function(a){for(var c=h.keys(a),k=0,e=c.length,p=Array(e);k<e;k++)p[k]=a[c[k]];return p},pairs:function(a){for(var c=
h.keys(a),k=0,e=c.length,p=Array(e);k<e;k++)p[k]=[c[k],a[c[k]]];return p},invert:function(a){for(var c={},k=h.keys(a),e=0,p=k.length;e<p;e++)c[a[k[e]]]=k[e];return c},negate:function(a){return function(){return!a.apply(this,arguments)}},pick:function(a,c,k){var e={},p,f;if(h.isFunction(c))for(f in a)p=a[f],c.call(k,p,f,a)&&(e[f]=p);else{p=B.apply([],w.call(arguments,1));for(var g=0,l=p.length;g<l;g++)f=p[g],f in a&&(e[f]=a[f])}return e},omit:function(a,c,k){var e,p=a instanceof m;h.isFunction(c)?
c=h.negate(c):(e=h.map(B.apply([],w.call(arguments,1)),String),c=function(c,k){if(p){if(a.hasOwnProperty(k))return!h.contains(e,k)}else return!h.contains(e,k)});return h.pick(a,c,k)},makeMap:function(a,c){for(var k={},e=a.split(c||","),p=0,f=e.length;p<f;p++)k[e[p]]=!0;return k},has:function(a,c){return F.call(a,c)},accessProperty:function(a,c){if(void 0!==c){for(var k=c.split("."),e,p=0,f=k.length;p<f;p++){e=a[k[p]];if(void 0===e)break;a=e}return e}},map:function(a,c,k){var e=[];if(void 0===a||null===
a)return e;h.each(a,function(a,p,f){e.push(c.call(k,a,p,f))});return e},filter:function(a,c,k){var e=[];if(void 0===a||null===a)return e;h.each(a,function(a,p,f){c.call(k,a,p,f)&&e.push(a)});return e},indexOf:function(a,c,k,e){if(void 0===a||null===a||void 0===c)return-1;e=e||function(a,c){return h.isEqual(a,c)};var p=a.length;for(k=-1<k&&k<=p?k:0;k<p;k++)if(e(a[k],c))return k;return-1},lastIndexOf:function(a,c,k,e){if(void 0===a||null===a||void 0===c)return-1;e=e||function(a,c){return h.isEqual(a,
c)};for(var p=a.length,p=-1<k&&k<=p?k:p;p--;)if(e(a[p],c))return p;return-1},unique:function(a,c){a=a||[];c=c||function(a,c){return h.isEqual(a,c)};for(var k=a.length;0<--k;)for(var e=0;e<k;e++)if(c(a[k],a[e])){a.splice(k,1);break}return a},intersection:function(a,c,k){k=k||function(a,c){return h.isEqual(a,c)};var e=[];a=a||[];c=c?w.call(c):[];for(var p=0,f=a.length;p<f;p++)if(!(0<=h.indexOf(e,a[p],0,k)))for(var g=0,l=c.length;g<l;g++)k(a[p],c[g])&&(e.push(a[p]),c.splice(g,1));return e},getByAttribute:function(a,
c){var k=[];c=h.isArrayOrList(c)?c:[c];h.each(a,function(a){for(var e in a)if(F.call(a,e)&&0<=h.indexOf(c,e)){k.push(a);break}});return k},getByValue:function(a,c){var k=[];c=h.isArrayOrList(c)?c:[c];h.each(a,function(a){for(var e in a)if(F.call(a,e)&&0<=h.indexOf(c,a[e])){k.push(a);break}});return k},format:function(a,c,k){k=k||function(a,c){return a};var e="string"==typeof c,p=e?a:c,f;for(f in p)F.call(a,f)&&(e?f==c&&(a[f]=k(a[f],a)):a[f]="function"==typeof p[f]?p[f](a[f],a):k(p[f]||a[f],a));return a},
union:function(a,c,k){k=k||function(a,c){return h.isEqual(a,c)};var e=[];a=a?w.call(a):[];for(var p=0,f=a.length;p<f;p++)0<=h.indexOf(e,a[p],0,k)||0>h.indexOf(c,a[p],0,k)&&e.push(a[p]);return e.concat(c)},inArray:function(a,c){return-1!=h.indexOf(a,c)},contains:function(a,c,k){return void 0===a||null===a?!1:a.length===+a.length?0<=h.indexOf(a,c,0,k):!1},groupBy:function(a,c){var k={},e=h.isFunction(c)?c:function(a){return a[c]};h.each(a,function(a,c){var p=e(a,c);k[p]=k[p]||[];k[p].push(a)});return k},
indexBy:function(a,c){if(!h.isArrayOrList(a)||!c)return a;var k={};h.each(a,function(a){k[a[c]]=a});return k},sort:function(a){a.sort(function(a,c){return a-c});return a},sortBy:function(a,c,k){if(!(h.isArrayOrList(a)||a instanceof n))return a;a=a.slice(0);a.sort(function(a,e){var p=a[c],f=e[c];return void 0===p||null===p?"desc"==k?1:-1:void 0===f||null===f||p>f?"desc"==k?-1:1:p<f?"desc"==k?1:-1:0});return a},orderBy:function(a,c,k){return h.sortBy.apply(h,w.call(arguments))},each:function(a,c,k){if(void 0===
a||null===a)return a;var e,p,f;if(a.length===+a.length)for(e=0,p=a.length;e<p&&c.call(k,a[e],e,a)!==g;e++);else for(f=h.keys(a),e=0,p=f.length;e<p&&c.call(k,a[f[e]],f[e],a)!==g;e++);return a},inherits:function(a,c,k){function e(){}if(h.isUndefined(a)||h.isUndefined(c))return a;var p,f=c.prototype,g=a.prototype;!0===k&&(a=f&&f.hasOwnProperty("constructor")?f.constructor:function(){c.apply(this,arguments)});if(!0===k)for(var w in c)void 0!==a[w]&&(a[w]=c[w]);e.prototype=f;p=a.prototype=new e;f&&h.extend(p,
g);a.prototype.constructor=a;a.__super__=c.prototype;a.extend=function(c){for(var k in c)p[k]=c[k];return a};return a},extend:function(a,c,k){var e,p,f,g,l,B;!0!==a&&isNaN(a)?(f=a,e=["blank"].concat(w.call(arguments))):(e=arguments,p=a,f=c);h.each(w.call(e,2),function(a){if(a)for(var c in a)B=f[c],g=a[c],!a.hasOwnProperty(c)&&(a instanceof m||a instanceof n)||B===g||(0<p&&(h.isObjectOrMap(g)||h.isArrayOrList(g))?(p=!0===p?p:p-1,l=h.isObjectOrMap(g)?h.isObjectOrMap(B)?B:{}:h.isArrayOrList(B)?B:[],
f[c]=h.extend(p,l,g)):f[c]=g)});return f},copy:function(a,c,k,e){var p;e=e||!0;k=k||function(a,c,k){return!(a in c)};for(p in c){if(!e&&!c.hasOwnProperty(p))break;k(p,a,c)&&(a[p]=c[p])}return a},clone:function(a,c){if(!0===a)return h.deepClone(c);c=a;return h.isObjectOrMap(c)?h.isArrayOrList(c)?c.slice():h.extend({},c):c},deepClone:function(a,c){if(a&&"object"===typeof a){if(h.isString(a))return p.slice.call(a);if(h.isDate(a))return new Date(a.valueOf());if(!(a instanceof m)&&h.isFunction(a.clone))return a.clone()}else return a;
var k;c=c||!0;if(h.isArrayOrList(a))k=w.call(a);else{if(a.constructor!=={}.constructor)return a;k=h.extend({},a)}if(!h.isUndefined(c)&&(0<c||!0===c))for(var e in k)c=!0===c?c:c-1,k[e]=h.deepClone(k[e],c);return k},ajax:function(a){a=a||{};var c=a.type||"GET",k=a.url;if(k){var e=a.contentType||"application/x-www-form-urlencoded; charset=UTF-8",p=a.dataType||"JSON",c=c.toUpperCase(),p=p.toUpperCase(),f=a.cache||!1,g=a.async||!0,w=new XMLHttpRequest||new ActiveXObject("Msxml2.XMLHTTP")||new ActiveXObject("Microsoft.XMLHTTP"),
B="",m="";if("string"==typeof a.data)B=a.data;else{for(var D in a.data)m="GET"==c?encodeURIComponent(a.data[D]):a.data[D],B+=D+"="+m+"&";0<B.length&&"&"==B[B.length-1]&&(B=B.substring(0,B.length-1))}"GET"!=c||""===B&&f||(m=-1!=k.indexOf("?")?"&":"?",k+=m);"GET"==c&&"string"==typeof B&&(k+=B);"GET"!=c||f||(-1!=k.indexOf("?")&&(k+="&"),k+="_="+(new Date).getTime());w.open(c,k,g);w.setRequestHeader("Content-Type",e);for(var r in a.headers)w.setRequestHeader(r,a.headers[r]);w.upload.onprogress=function(c){"function"==
typeof a.progress&&a.progress.apply(w,c)};w.onreadystatechange=function(){var c=w.responseText||w.responseXML;c&&"JSON"==p&&(c=h.parseJSON(c));if(4==w.readyState){var k=w.status;200<=k&&300>k||304==k||1223==k||0===k?a.success&&a.success.call(w,c):a.error&&a.error.call(w,c)}};w.send(B||null);return w}l.error("ajax:, url is not correct.",a)},send:function(a,k,e,p,f){var g,w,B;"function"==typeof p?g=p:(p=p||{},w=p.success||function(a){l.log(a)},B=p.error||function(a){l.error(a)});(c.ajax||h.ajax)({url:a,
type:"string"==typeof k?k:"GET",cache:f||!1,data:e,progress:p.progress,success:function(a){(g||w).call(this,a)},error:function(a){(g||B).call(this,a)}})},fetch:function(){var a,c;"function"==typeof arguments[0]?(a=arguments[0],c=w.call(arguments,1)):c=arguments;a?a.apply(a,c):h.send.apply(this,c)},exports:function(a,c){for(var k in c)"_"!==k[0]&&h.isFunction(c[k])&&(a[k]=c[k])},curry:function(a,c){var k=w.call(arguments,1);return function(){return a.apply(c,k.concat(w.call(arguments,0)))}},currySelf:function(){var a=
this,c=w.call(arguments,0);return function(){return a.apply(a.scope,c.concat(w.call(arguments,0)))}},bind:Function.prototype.bind||function(a,c){var k=arguments.length;c=c||this;var e=w.call(arguments,k);return function(){var k=e.concat(w.call(arguments,0));return c.apply(a,k)}},before:function(a,c){c=c||this;var k=function(){a.apply(this,arguments);return c.apply(this,arguments)};k.before=h.before;k.after=h.after;return k},after:function(a,c){c=c||this;var k=function(){var k=c.apply(this,arguments),
e=w.call(arguments,0).concat([k]);a.apply(this,e);return k};k.before=h.before;k.after=h.after;return k},around:function(a,c){function k(){return a.apply(c,arguments)}c=c||this;k.before=h.before;k.after=h.after;k.around=h.around;return k},tmpl:function(a,k){return"function"==typeof c?c(a).tmpl(k):null}},K={getObject:function(c){"string"==typeof c&&0<c.length&&(c=h.accessProperty(a,c));return c},toJSON:function(a){if(h.isObject(a))for(var c in a)h.isJSONType(a[c])?"object"==typeof a[c]&&K.toJSON(a[c]):
delete a[c];else h.isArrayOrList(a)&&h.each(a,function(c,k){a[k]=K.toJSON(a[k])});return a},getModuleByName:function(a){if("string"==typeof a){var c=a.indexOf(".");return 0<c?K.getObject(a.substring(0,c)):K.getObject(a)}return a},addModuleForName:function(a,c){if(""===a||a===c||!c)return a;var k="",e=!0,k=a.indexOf(".");0>k?e=!1:(k=a.substring(0,k),k!==c&&(e=!1));return e?a:c+"."+a},getModuleInfoByName:function(a){a=a||"";var c=a.split("."),k=a.lastIndexOf(".");return{moduleName:c[0],type:c[c.length-
1],subModuleName:a.substring(0,k),fullName:a}},extendBase:function(a,c){var k=["name","module"];return h.copy(a,c,function(a,c,e){return void 0===c[a]&&!h.inArray(k,a)})},addEvent:function(a,c,k,e){var p=function(){var c=w.call(arguments,0);a[e]&&a[e].apply(a,c.concat(this))};if(k)a.on(c,k,p);else a.on(c,p)},bindEvents:function(a,c){var k,e,p;if("object"==typeof c)for(var f in c)k=f.indexOf(" "),k=0<k?k:f.length,e=f.substr(0,k),p=f.substr(++k),k=c[f],K.addEvent(a,e,p,k)}};m=function(a){h.extend(this,
a)};m.prototype={constructor:m,hashCode:function(){return h.hashCode(this.toString())},size:function(){return this.keys().length},containsKey:function(a){return this.has(a)},containsValue:function(a){for(var c in this)if(this.hasOwnProperty(c)&&this[c]===a)return!0;return!1},unset:function(a,c){return this.set(a,void 0,h.extend({},c,{unset:!0}))},has:function(a){return void 0!==this.get(a)},get:function(a){if(this.hasOwnProperty(a))return this[a]},format:function(a,c){return h.format(this,a,c)},getByAttribute:function(a){if(void 0!==
a){var c=[],k=this;a=h.isArrayOrList(a)?a:[a];h.each(a,function(a){F.call(k,a)&&c.push(k[a])});return c}},getByValue:function(a){if(void 0!==a){var c=[];a=h.isArrayOrList(a)?a:[a];for(var k in this)F.call(this,k)&&0<=h.indexOf(a,this[k])&&c.push(k);return c}},extend:function(a){return h.extend(this,a)},clone:function(){return h.clone(!0,this)},put:function(a,c){return this.set(a,c)},set:function(a,c,k){var e,p;if(void 0===a||null===a)return this;h.isObjectOrMap(a)?e=a:(e={})[a]=c;k=k||{};a=k.unset;
for(p in e)c=e[p],a?delete this[p]:this[p]=c;return this},isEmpty:function(){for(var a in this)if(F.call(this,a))return!1;return!0},remove:function(a,c){return this.unset(a,c)},equals:function(a){a=a instanceof m?a:new m(a);return h.isEqual(this,a)},clear:function(a){return this.empty()},empty:function(a){var c={},k;for(k in this)c[k]=void 0;return this.set(c,h.extend({},a))},update:function(a,c,k){if("object"==typeof a)for(var e in a)this[e]=a[e];else this.set(a,c,k)},fetch:function(a,c,k,e){var p=
this;k=k||{};var f=arguments.length,g=w.call(arguments,0),B=h.extend({success:function(a){if(void 0===a)return p;if("string"===typeof a)try{a=h.parseJSON(a)}catch(c){l.error("fetch::",p,k,c)}var k="object"==typeof a.data?a.data:a;p.empty();p.update(k);p.onFetch(k)}},e);4<=f&&"object"==typeof e&&g.pop();g.push(B);h.fetch.apply(p,g);return p},onFetch:function(a){l.log("onFetch:",a,this);return this},toPlain:function(){var a={},c;for(c in this)this.hasOwnProperty(c)&&(a[c]=this[c],a[c]instanceof m||
a[c]instanceof n)&&(a[c]=a[c].toPlain());return a},toPlainJSON:function(){return K.toJSON(this.toPlain())},toString:function(){try{return a.JSON?h.stringifyJSON(this):this.valueOf().toLocaleString()}catch(c){l.error(c)}}};h.each("keys values pairs invert pick omit".split(" "),function(a){m.prototype[a]=function(){var c=[this].concat(w.call(arguments));return h[a].apply(h,c)}});q=function(a){h.extend(this,a)};q.prototype={constructor:q,attributeKey:"id",attributeType:"type",equals:function(a){a=a instanceof
q?a:new q(a);return h.isEqual(this,a)}};h.inherits(q,m);n=function(a){this.empty();void 0!==a&&null!==a&&(a=h.isArrayOrList(a)?a:[a],this.add(a));this.push()};n.prototype={constructor:n,valueOf:function(){return w.call(this)},size:function(){return this.length},get:function(a){return this[a]},getBy:function(a,c){var k=[],e={};"string"==typeof a?e[a]=c:e=a;for(var p=0,f=this.length;p<f;p++){var g;a:{g=e;var h=void 0;for(h in g)if(g[h]!==this[p][h]){g=!1;break a}g=!0}g&&k.push(this.get(p))}return k},
getById:function(a){return this.getBy("id",a)[0]},getByAttribute:function(a){return new n(h.getByAttribute(this,a))},getByValue:function(a){return new n(h.getByValue(this,a))},validModel:function(a){if(null===this.__model__)return!0;for(var c in this.__model__)if(!a.hasOwnProperty(c))return!1;return!0},add:function(a,c){if(void 0===a||null===a)return this;var k,e=h.isArrayOrList(a)?a:[a];n.prototype.__model__=h.deepClone(e[0]);for(var p=0,f=e.length;p<f;p++)k=e[p],"object"==typeof k&&(k instanceof
q||(k=new q(e[p])),c&&!this.validModel(a)||this.push(k));return this},addAll:function(a){return this.add(a)},set:function(a,c){void 0!==a&&a<this.length&&c&&(c instanceof q||(c=new q(c)),this[a]=c);return this},setBy:function(a,c,k){this.each(function(e){e.set(a,c,k)});return this},update:function(a,c){if(h.isArrayOrList(a))this.empty(),this.addAll(a);else if("object"==typeof a){var k=this.indexOf(a);return this.set(k,c)}return this},insert:function(a,c){for(var k,e=h.isArrayOrList(c)?c:[c],p=0,f=
e.length;p<f;p++)k=e[p],k instanceof q||(k=new q(e[p])),this.splice(a,0,k),a+=1;return this},has:function(a,c){return this.contains(a,c)},contains:function(a,c){return h.contains(this,a,c)},containsBy:function(a,c){var k={};"string"==typeof a?k[a]=c:k=a;return h.isEmptyObject(k)?!1:this.contains(k,function(a,c){for(var k in c)if(c[k]!==a[k])return!1;return!0})},indexOf:function(a,c,k){return h.indexOf(this,a,c,k)},lastIndexOf:function(a,c,k){return h.lastIndexOf(this,a,c,k)},each:z.forEach||function(a,
c){h.each(this,a,c);return this},remove:function(a,c){c=c||a+1;0<c&&a<=this.size()&&this.splice(a,c-a);return this},removeItem:function(a){a=this.indexOf(a);return this.remove(a)},removeBy:function(a,c){for(var k=this.length,e;0<k;)k--,e=this[k],void 0!==e[a]&&e[a]===c&&this.remove(k);return this},removeById:function(a){return this.removeBy("id",a)},clear:function(){this.empty();for(var a in this)delete this[a];return this},isEmpty:function(){return 0===this.length},empty:function(){return this.remove(0,
this.length)},equals:function(a){a=a instanceof n?a:new n(a);return h.isEqual(this,a)},clone:function(){return new n(h.clone(this))},toString:function(){return a.JSON?h.stringifyJSON(this):"function Array(){\n   [variant code]\n}"},toPlain:function(){var a=[];h.each(this,function(c){a.push(c.toPlain())});return a},toPlainJSON:function(){return K.toJSON(this.toPlain())},toArray:function(a){var c=[];h.each(this,function(a){c.push(a)});return c},format:function(a,c){h.each(this,function(k){h.format(k,
a,c)});return this},unique:function(a){return new n(h.unique(this,a))},uniqueBy:function(a){return this.unique(function(c,k){return void 0!==c[a]&&void 0!==k[a]?h.isEqual(c[a],k[a]):!1})},intersection:function(a,c){return new n(h.intersection(this,a,c))},union:function(a,c){return new n(h.union(this,a,c))},indexBy:function(a){return new m(h.indexBy(this,a))},groupBy:function(a){return new m(h.groupBy(this,a))},sortBy:function(a,c){var k=h.sortBy(this,a,c);return new n(k)},orderBy:function(a,c){return this.sortBy(a,
c)},extend:function(a){return h.extend(this,a)},fetch:q.prototype.fetch,onFetch:function(a){l.log("onFetch:",a,this);return this}};h.each("shift push sort pop reverse join splice concat slice forEach map some every filter reduce reduceRight".split(" "),function(a){n.prototype[a]=z[a]});r=function(a,c){this.create=f.create;h.extend(this,a)};r.prototype={constructor:r,getAction:function(){return K.getObject(this.name+".Action")},getDao:function(){return K.getObject(this.name+".Dao")}};v=function(a,
c){h.extend(this,a);this.module=K.getModuleByName(a.name);this.__instance__={}};v.prototype={constructor:v,getModule:function(c){return a[c]||this.module},getInstance:function(){return this.get.apply(this,arguments)},"new":function(){return this.get.apply(this,arguments)},getClass:function(a,c,k,e){"object"==typeof a&&null!==a&&(c=a,a="");e=e||"Class";var p=this.module||{};a=a||p.name||"";var p=a.length,f=e.length;a.substr(p-f-1)==="."+e&&(a=a.substring(0,p-(f+1)));var g=a.substr(p-e.length),g={type:e,
fullName:g==e?a:a+"."+e};a.substr(p-f)!==e&&(a=a+"."+e);return this.get(a,c,k,g)},getView:function(a,c,k){return this.getClass(a,c,k,"View")},getDao:function(a,c,k){return this.getClass(a,c,k,"Dao")},getUtil:function(a,c,k){return this.getClass(a,c,k,"Util")},getConfig:function(a,c,k){return this.getClass(a,c,k,"Config")},get:function(c,k,p,f){if(void 0!==c&&null!==c){var g=this,w;(w=g.module)||l.error("Action.get::",g,"this Action has not defined `module`.");c=K.addModuleForName(c,w.name);f=f||K.getModuleInfoByName(c,
w.name);var B=f.type;c=f.fullName;c=c.substring(0,w.name.length)!=w.name?w.name+"."+c:c;w=h.accessProperty(a,c);f=function(a,c,k,p){if("function"!=typeof a||"string"!=typeof p)l.warn("[error]:getInstance:",a,p,"Clazz is undefined or fullName is undefined.");else{var f=g.__instance__,h=f[p];!0===k?(h=new a(c),e._data.push(h)):void 0===h?(h=new a(c),e._data.push(h)):h.update(c);return f[p]=h}};h.each(["Class","View"],function(a){B.substr(B.length-a.length)===a&&(B=a)});switch(B){case "Class":return f(w,
k,p,c);case "View":return f(w,k,p,c);default:return w}}},init:function(){this.get.apply(this,arguments)},run:function(a,c,k){if(a instanceof f.View)return a.run(c);if("string"==typeof a){if(c=this.getView(a,c),c.run)return c.run(k)}else if(c=this.getView(),c.run)return c.run(a);l.warn("instance run:: has not run method.",c)},extend:function(a){return h.extend(this,a)}};u=function(a){h.extend(this,a);if(this.module=K.getModuleByName(a.name))this.action=this.module.getAction()};u.prototype={constructor:u,
getAction:function(){return this.module.getAction()},extend:function(a){return h.extend(this,a)}};s=function(a){h.extend(this,a);if(this.module=K.getModuleByName(a.name))this.action=this.module.getAction()};s.prototype={constructor:s,getAction:function(){return this.action},extend:function(a){return h.extend(this,a)}};x=function(a){h.extend(this,a);if(this.module=K.getModuleByName(a.module))this.action=this.module.getAction()};x.prototype={constructor:x,getAction:function(){return this.action},extend:function(a){return h.extend(this,
a)}};f.Class=function(){};f.Class.prototype={constructor:f.Class,update:function(a,c){h.extend(this.options,a);return this},extend:function(a){return h.isObjectOrMap?h.extend(this,a):this},getAction:function(){return this.action},getClass:function(a){return a?this.action.getClass(a):this["class"]||this.action.getClass()},getView:function(a){return a?this.action.getView(a):this.view||this.action.getView()},getUtil:function(a){return a?this.action.getUtil(a):this.util||this.action.getUtil()},getConfig:function(a){return a?
this.action.getConfig(a):this.config||this.action.getConfig()},getDao:function(a){return a?this.action.getDao(a):this.dao||this.action.getDao()}};f.View=function(a){};h.extend(f.View.prototype,f.Class.prototype);f.View.prototype.constructor=f.View;e={_data:[],_createHashMap:function(a,c){return new m(a,c)},_createArrayList:function(a,c){return new n(a,c)},_createModel:function(a,c){return new q(a,c)},_createModule:function(a,c){"string"!=typeof a.name&&l.warn("createModule:",a," not input name of `Module`.");
var k=new r(a,c);return!1!==c.extendBase?K.extendBase(k,y):k},_createConfig:function(a,c){var k=new s(a,c);return!1!==c.extendBase?K.extendBase(k,y.Config):k},_createUtil:function(a,c){var k=new u(a,c);return!1!==c.extendBase?K.extendBase(k,y.Util):k},_createAction:function(a,c){a=a||{};a.module=K.getModuleByName(a.name);!a.module instanceof r&&l.warn("createAction:",a," not defined module for `Action`.");var k=new v(a,c);return!1!==c.extendBase?K.extendBase(k,y.Action):k},_createDao:function(a,c){var k=
new x(a,c);return!1!==c.extendBase?K.extendBase(k,y.Dao):k},_createClass:function(a,c){function k(c){c=c||{};h.extend(this,e);if(this.module=a.module)this.action=this.module.getAction();this.view=p;this.options=h.deepClone(a.options)||{};h.extend(this.options,c);this.construct=a.construct||a.init||this.init;this.construct.call(this)}a=a||{};var e=a.properties||{};a.module=K.getModuleByName(a.name);var p=a.view||e.view;!a.module instanceof r&&l.warn("createClass:",a," not defined module for `Class`.");
!1!==a.extendBase&&y.Class&&h.inherits(k,y.Class);h.inherits(k,f.Class);"function"!=typeof k.prototype.init&&(k.prototype.init=function(a){});k.inherits=function(a){return h.inherits(this,a)};k.prototype.getView=function(){return this.view||this.getAction().getView()};for(var g in a)"options"!==g&&"properties"!==g&&(k.prototype[g]=a[g]);for(var w in k.prototype)"function"==typeof k.prototype[w]&&(k.prototype[w].bind=h.bind,k.prototype[w].curry=h.currySelf,k.prototype[w].before=h.before,k.prototype[w].after=
h.after);k.prototype.constructor=k;k.prototype.__super__=k.__super__||k;k.prototype.constructor.name="Class";return k},_createView:function(a,k){function e(k){k=k||{};h.extend(this,p);if(this.module=a.module)this.action=this.module.getAction();this["class"]=g;this.options=h.deepClone(a.options)||{};h.extend(this.options,k);!this.options.element&&this.options.$container&&(this.options.element=this.options.$container[0]);!this.options.$container&&this.options.element&&c&&(this.options.$container=c(this.options.element));
h.isElement(this.options.element)||l.warn("new View init:",this,"is not defined element or $container.");K.bindEvents(this,a.events);this.construct=a.construct||a.init||this.init;this.construct.call(this)}a=a||{};var p=a.properties||{};a.module=K.getModuleByName(a.name);var g=a["class"]||p["class"];!a.module instanceof r&&l.warn("_createView:",a," not defined module for `View`.");!1!==a.extendBase&&y.View&&h.inherits(e,f.View);h.inherits(e,f.View);"function"!=typeof e.prototype.init&&(e.prototype.init=
function(a){this.bindEvent&&this.bindEvent(a)});h.extend(e.prototype,{find:function(a){return this.getContainer().find?this.getContainer().find(a):this.getContainer().querySelectorAll(a)},render:function(a,k,e,p){a=a||this.getElement();e=e instanceof f.ArrayList?e.slice(0):e;var g="object"==typeof e?h.tmpl(k,e):e;p=p||function(a,k,e,p){e=a.html?a.html():a;"function"==typeof c?c(k).html(a):k.innerHTML=e;return e};return p.call(this,g,a,k,e)},getElement:function(){if(this.options.element)return this.options.element;
if(this.options.$container)return this.options.$container[0]},getContainer:function(){return this.options.$container||c(this.getElement())},on:function(){this.getContainer().on.apply(this.getContainer(),arguments)},trigger:function(a,c,k){var e=this.getContainer();h.isString(c)||h.isElement(c)?e=e.find(c):k=c;e.trigger&&e.trigger(a,k);return this},getClass:function(){return this["class"]||this.getAction().getClass()}});h.each("mouseup mousemove mousedown mouseover mouseleave mouseout click dbclick drag dragstart dragend drop keydown keypress keyup".split(" "),
function(a){e.prototype[a]=function(c,k){var e=this.getContainer();if(e&&e.on)if("function"==typeof c)this.on(a,c);else this.on(a,c,k);return this}});e.inherits=function(a){return h.inherits(this,a)};for(var w in a)"options"!==w&&"properties"!==w&&"events"!==w&&(e.prototype[w]=a[w]);for(var B in e.prototype)"function"==typeof e.prototype[B]&&(e.prototype[B].bind=h.bind,e.prototype[B].curry=h.currySelf,e.prototype[B].before=h.before,e.prototype[B].after=h.after);e.prototype.constructor=e;e.prototype.__super__=
e.__super__||e;e.prototype.constructor.name="View";return e},create:function(a,c,k){k=k||{};var p;a&&e["_create"+a]?(p=e["_create"+a](c,k),"Class"!=a&&"View"!==a&&e._data.push(p)):l.error("create error: arguments is not correct.");return p},run:function(c,k,e,p){"string"==typeof c&&(c=h.accessProperty(a,c));c instanceof f.Action&&c.run(k,e,p)}};h.exports(f,e);f._=h;f.HashMap=m;f.Model=q;f.Collection=n;f.ArrayList=n;f.Module=r;f.Config=s;f.Util=u;f.Dao=x;f.Action=v;f.getBase=function(){return y};f.setBase=
function(a){y=a};f.data=function(a,c){var k=[];if(a)h.each(e._data,function(c){f[a]&&c instanceof f[a]&&k.push(c)});else return e._data;return k};return f});window.$$define=window.define;window.define=null;
(function(a){"function"===typeof define&&define.amd?define("jqueryui",["jquery"],a):a(jQuery)})(function(a){function f(k,e){var f,g;f=k.nodeName.toLowerCase();if("area"===f){f=k.parentNode;g=f.name;if(!k.href||!g||"map"!==f.nodeName.toLowerCase())return!1;f=a("img[usemap='#"+g+"']")[0];return!!f&&c(f)}return(/input|select|textarea|button|object/.test(f)?!k.disabled:"a"===f?k.href||e:e)&&c(k)}function c(c){return a.expr.filters.visible(c)&&!a(c).parents().addBack().filter(function(){return"hidden"===
a.css(this,"visibility")}).length}function e(a){for(var c;a.length&&a[0]!==document;){c=a.css("position");if("absolute"===c||"relative"===c||"fixed"===c)if(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c)return c;a=a.parent()}return 0}function h(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";
this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,
yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.regional.en=a.extend(!0,{},this.regional[""]);
this.regional["en-US"]=a.extend(!0,{},this.regional.en);this.dpDiv=g(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function g(c){return c.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&
a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",l)}function l(){a.datepicker._isDisabledDatepicker(y.inline?y.dpDiv.parent()[0]:y.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&
a(this).addClass("ui-datepicker-next-hover"))}function m(c,e){a.extend(c,e);for(var f in e)null==e[f]&&(c[f]=e[f]);return c}function n(a){return function(){var c=this.element.val();a.apply(this,arguments);this._refresh();c!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{};a.extend(a.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({scrollParent:function(c){var e=
this.css("position"),f="absolute"===e,g=c?/(auto|scroll|hidden)/:/(auto|scroll)/;c=this.parents().filter(function(){var c=a(this);return f&&"static"===c.css("position")?!1:g.test(c.css("overflow")+c.css("overflow-y")+c.css("overflow-x"))}).eq(0);return"fixed"!==e&&c.length?c:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&
a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(c){return function(e){return!!a.data(e,c)}}):function(c,e,f){return!!a.data(c,f[3])},focusable:function(c){return f(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var e=a.attr(c,"tabindex"),g=isNaN(e);return(g||0<=e)&&f(c,!g)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,e){function f(c,k,e,p){a.each(g,function(){k-=parseFloat(a.css(c,"padding"+this))||0;e&&(k-=
parseFloat(a.css(c,"border"+this+"Width"))||0);p&&(k-=parseFloat(a.css(c,"margin"+this))||0)});return k}var g="Width"===e?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(c){return void 0===c?l["inner"+e].call(this):this.each(function(){a(this).css(h,f(this,c)+"px")})};a.fn["outer"+e]=function(c,k){return"number"!==typeof c?l["outer"+e].call(this,c):this.each(function(){a(this).css(h,
f(this,c,!0,k)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(c){return function(e){return arguments.length?c.call(this,a.camelCase(e)):c.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.fn.extend({focus:function(c){return function(e,f){return"number"===typeof e?this.each(function(){var c=this;setTimeout(function(){a(c).focus();
f&&f.call(c)},e)}):c.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(c){if(void 0!==c)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var e;c.length&&c[0]!==document;){e=c.css("position");if("absolute"===e||"relative"===
e||"fixed"===e)if(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e)return e;c=c.parent()}}return 0}});a.ui.plugin={add:function(c,e,f){var g;c=a.ui[c].prototype;for(g in f)c.plugins[g]=c.plugins[g]||[],c.plugins[g].push([e,f[g]])},call:function(a,c,e,f){if((c=a.plugins[c])&&(f||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(f=0;f<c.length;f++)a.options[c[f][0]]&&c[f][1].apply(a.element,e)}};var q=0,r=Array.prototype.slice;a.cleanData=function(c){return function(e){var f,g,h;for(h=
0;null!=(g=e[h]);h++)try{(f=a._data(g,"events"))&&f.remove&&a(g).triggerHandler("remove")}catch(l){}c(e)}}(a.cleanData);a.widget=function(c,e,f){var g,h,l,m,r={},n=c.split(".")[0];c=c.split(".")[1];g=n+"-"+c;f||(f=e,e=a.Widget);a.expr[":"][g.toLowerCase()]=function(c){return!!a.data(c,g)};a[n]=a[n]||{};h=a[n][c];l=a[n][c]=function(a,c){if(!this._createWidget)return new l(a,c);arguments.length&&this._createWidget(a,c)};a.extend(l,h,{version:f.version,_proto:a.extend({},f),_childConstructors:[]});m=
new e;m.options=a.widget.extend({},m.options);a.each(f,function(c,k){a.isFunction(k)?r[c]=function(){var a=function(){return e.prototype[c].apply(this,arguments)},f=function(a){return e.prototype[c].apply(this,a)};return function(){var c=this._super,e=this._superApply,p;this._super=a;this._superApply=f;p=k.apply(this,arguments);this._super=c;this._superApply=e;return p}}():r[c]=k});l.prototype=a.widget.extend(m,{widgetEventPrefix:h?m.widgetEventPrefix||c:c},r,{constructor:l,namespace:n,widgetName:c,
widgetFullName:g});h?(a.each(h._childConstructors,function(c,k){var e=k.prototype;a.widget(e.namespace+"."+e.widgetName,l,k._proto)}),delete h._childConstructors):e._childConstructors.push(l);a.widget.bridge(c,l);return l};a.widget.extend=function(c){for(var e=r.call(arguments,1),f=0,g=e.length,h,l;f<g;f++)for(h in e[f])l=e[f][h],e[f].hasOwnProperty(h)&&void 0!==l&&(a.isPlainObject(l)?c[h]=a.isPlainObject(c[h])?a.widget.extend({},c[h],l):a.widget.extend({},l):c[h]=l);return c};a.widget.bridge=function(c,
e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"===typeof g,l=r.call(arguments,1),m=this;g=!h&&l.length?a.widget.extend.apply(null,[g].concat(l)):g;h?this.each(function(){var e,p=a.data(this,f);if("instance"===g)return m=p,!1;if(!p)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'");if(!a.isFunction(p[g])||"_"===g.charAt(0))return a.error("no such method '"+g+"' for "+c+" widget instance");e=p[g].apply(p,l);if(e!==p&&void 0!==
e)return m=e&&e.jquery?m.pushStack(e.get()):e,!1}):this.each(function(){var c=a.data(this,f);c?(c.option(g||{}),c._init&&c._init()):a.data(this,f,new e(g,this))});return m}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,e){e=a(e||this.defaultElement||this)[0];this.element=a(e);this.uuid=q++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=
a();this.hoverable=a();this.focusable=a();e!==this&&(a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this.options=a.widget.extend({},this.options,this._getCreateOptions(),c);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,
_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(c,e){var f=c,g,h,l;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof c)if(f={},g=c.split("."),c=g.shift(),g.length){h=f[c]=a.widget.extend({},this.options[c]);for(l=0;l<g.length-1;l++)h[g[l]]=h[g[l]]||{},h=h[g[l]];c=g.pop();if(1===arguments.length)return void 0===h[c]?null:h[c];h[c]=e}else{if(1===arguments.length)return void 0===this.options[c]?null:this.options[c];f[c]=e}this._setOptions(f);return this},_setOptions:function(a){for(var c in a)this._setOption(c,
a[c]);return this},_setOption:function(a,c){this.options[a]=c;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!c),c&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(c,e,f){var g,h=this;"boolean"!==typeof c&&(f=e,e=c,c=!1);f?(e=g=a(e),this.bindings=this.bindings.add(e)):(f=e,e=this.element,
g=this.widget());a.each(f,function(f,w){function l(){if(c||!0!==h.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof w?h[w]:w).apply(h,arguments)}"string"!==typeof w&&(l.guid=w.guid=w.guid||l.guid||a.guid++);var m=f.match(/^([\w:-]*)\s*(.*)$/),r=m[1]+h.eventNamespace;(m=m[2])?g.delegate(m,r,l):e.bind(r,l)})},_off:function(c,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;c.unbind(e).undelegate(e);this.bindings=a(this.bindings.not(c).get());
this.focusable=a(this.focusable.not(c).get());this.hoverable=a(this.hoverable.not(c).get())},_delay:function(a,c){var e=this;return setTimeout(function(){return("string"===typeof a?e[a]:a).apply(e,arguments)},c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){a(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){a(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,
{focusin:function(c){a(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){a(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,e,f){var g,h=this.options[c];f=f||{};e=a.Event(e);e.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();e.target=this.element[0];if(c=e.originalEvent)for(g in c)g in e||(e[g]=c[g]);this.element.trigger(e,f);return!(a.isFunction(h)&&!1===h.apply(this.element[0],[e].concat(f))||e.isDefaultPrevented())}};a.each({show:"fadeIn",
hide:"fadeOut"},function(c,e){a.Widget.prototype["_"+c]=function(f,g,h){"string"===typeof g&&(g={effect:g});var l,m=g?!0===g||"number"===typeof g?e:g.effect||e:c;g=g||{};"number"===typeof g&&(g={duration:g});l=!a.isEmptyObject(g);g.complete=h;g.delay&&f.delay(g.delay);if(l&&a.effects&&a.effects.effect[m])f[c](g);else if(m!==c&&f[m])f[m](g.duration,g.easing,h);else f.queue(function(e){a(this)[c]();h&&h.call(f[0]);e()})}});var s=!1;a(document).mouseup(function(){s=!1});a.widget("ui.mouse",{version:"1.11.2",
options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(e){if(!0===a.data(e.target,c.widgetName+".preventClickEvent"))return a.removeData(e.target,c.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!s){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var e=this,f=1===c.which,g="string"===typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;if(!f||g||!this._mouseCapture(c))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=
!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted))return c.preventDefault(),!0;!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return e._mouseMove(a)};this._mouseUpDelegate=function(a){return e._mouseUp(a)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,
this._mouseUpDelegate);c.preventDefault();return s=!0}},_mouseMove:function(c){if(this._mouseMoved&&(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button||!c.which))return this._mouseUp(c);if(c.which||c.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));return!this._mouseStarted},_mouseUp:function(c){this.document.unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return s=!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function c(a,k,e){return[parseFloat(a[0])*(q.test(a[0])?k/100:1),parseFloat(a[1])*(q.test(a[1])?e/100:1)]}function e(c){var k=c[0];return 9===k.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:a.isWindow(k)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:k.preventDefault?{width:0,height:0,offset:{top:k.pageY,left:k.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),
offset:c.offset()}}a.ui=a.ui||{};var f,g,h=Math.max,l=Math.abs,m=Math.round,r=/left|center|right/,n=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,q=/%$/,v=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==f)return f;var c,k,e=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");k=e.children()[0];a("body").append(e);c=k.offsetWidth;e.css("overflow","scroll");k=k.offsetWidth;c===k&&(k=e[0].clientWidth);
e.remove();return f=c-k},getScrollInfo:function(c){var k=c.isWindow||c.isDocument?"":c.element.css("overflow-x"),e=c.isWindow||c.isDocument?"":c.element.css("overflow-y"),k="scroll"===k||"auto"===k&&c.width<c.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&c.height<c.element[0].scrollHeight?a.position.scrollbarWidth():0,height:k?a.position.scrollbarWidth():0}},getWithinInfo:function(c){c=a(c||window);var k=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:k,isDocument:e,
offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:k||e?c.width():c.outerWidth(),height:k||e?c.height():c.outerHeight()}}};a.fn.position=function(f){if(!f||!f.of)return v.apply(this,arguments);f=a.extend({},f);var w,q,x,z,y,Q,T=a(f.of),M=a.position.getWithinInfo(f.within),X=a.position.getScrollInfo(M),S=(f.collision||"flip").split(" "),Z={};Q=e(T);T[0].preventDefault&&(f.at="left top");q=Q.width;x=Q.height;z=Q.offset;y=a.extend({},z);a.each(["my","at"],function(){var a=
(f[this]||"").split(" "),c,k;1===a.length&&(a=r.test(a[0])?a.concat(["center"]):n.test(a[0])?["center"].concat(a):["center","center"]);a[0]=r.test(a[0])?a[0]:"center";a[1]=n.test(a[1])?a[1]:"center";c=u.exec(a[0]);k=u.exec(a[1]);Z[this]=[c?c[0]:0,k?k[0]:0];f[this]=[s.exec(a[0])[0],s.exec(a[1])[0]]});1===S.length&&(S[1]=S[0]);"right"===f.at[0]?y.left+=q:"center"===f.at[0]&&(y.left+=q/2);"bottom"===f.at[1]?y.top+=x:"center"===f.at[1]&&(y.top+=x/2);w=c(Z.at,q,x);y.left+=w[0];y.top+=w[1];return this.each(function(){var e,
p,r=a(this),n=r.outerWidth(),u=r.outerHeight(),s=parseInt(a.css(this,"marginLeft"),10)||0,A=parseInt(a.css(this,"marginTop"),10)||0,H=n+s+(parseInt(a.css(this,"marginRight"),10)||0)+X.width,v=u+A+(parseInt(a.css(this,"marginBottom"),10)||0)+X.height,E=a.extend({},y),G=c(Z.my,r.outerWidth(),r.outerHeight());"right"===f.my[0]?E.left-=n:"center"===f.my[0]&&(E.left-=n/2);"bottom"===f.my[1]?E.top-=u:"center"===f.my[1]&&(E.top-=u/2);E.left+=G[0];E.top+=G[1];g||(E.left=m(E.left),E.top=m(E.top));e={marginLeft:s,
marginTop:A};a.each(["left","top"],function(c,k){if(a.ui.position[S[c]])a.ui.position[S[c]][k](E,{targetWidth:q,targetHeight:x,elemWidth:n,elemHeight:u,collisionPosition:e,collisionWidth:H,collisionHeight:v,offset:[w[0]+G[0],w[1]+G[1]],my:f.my,at:f.at,within:M,elem:r})});f.using&&(p=function(a){var c=z.left-E.left,k=c+q-n,e=z.top-E.top,p=e+x-u,g={target:{element:T,left:z.left,top:z.top,width:q,height:x},element:{element:r,left:E.left,top:E.top,width:n,height:u},horizontal:0>k?"left":0<c?"right":"center",
vertical:0>p?"top":0<e?"bottom":"middle"};q<n&&l(c+k)<q&&(g.horizontal="center");x<u&&l(e+p)<x&&(g.vertical="middle");h(l(c),l(k))>h(l(e),l(p))?g.important="horizontal":g.important="vertical";f.using.call(this,a,g)});r.offset(a.extend(E,{using:p}))})};a.ui.position={fit:{left:function(a,c){var k=c.within,e=k.isWindow?k.scrollLeft:k.offset.left,f=k.width,p=a.left-c.collisionPosition.marginLeft,k=e-p,g=p+c.collisionWidth-f-e;c.collisionWidth>f?0<k&&0>=g?(e=a.left+k+c.collisionWidth-f-e,a.left+=k-e):
a.left=0<g&&0>=k?e:k>g?e+f-c.collisionWidth:e:a.left=0<k?a.left+k:0<g?a.left-g:h(a.left-p,a.left)},top:function(a,c){var k=c.within,e=k.isWindow?k.scrollTop:k.offset.top,f=c.within.height,p=a.top-c.collisionPosition.marginTop,k=e-p,g=p+c.collisionHeight-f-e;c.collisionHeight>f?0<k&&0>=g?(e=a.top+k+c.collisionHeight-f-e,a.top+=k-e):a.top=0<g&&0>=k?e:k>g?e+f-c.collisionHeight:e:a.top=0<k?a.top+k:0<g?a.top-g:h(a.top-p,a.top)}},flip:{left:function(a,c){var k=c.within,e=k.offset.left+k.scrollLeft,f=k.width,
p=k.isWindow?k.scrollLeft:k.offset.left,g=a.left-c.collisionPosition.marginLeft,k=g-p,h=g+c.collisionWidth-f-p,g="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,w="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,B=-2*c.offset[0];if(0>k){if(e=a.left+g+w+B+c.collisionWidth-f-e,0>e||e<l(k))a.left+=g+w+B}else 0<h&&(e=a.left-c.collisionPosition.marginLeft+g+w+B-p,0<e||l(e)<h)&&(a.left+=g+w+B)},top:function(a,c){var k=c.within,e=k.offset.top+k.scrollTop,f=k.height,p=k.isWindow?
k.scrollTop:k.offset.top,g=a.top-c.collisionPosition.marginTop,k=g-p,h=g+c.collisionHeight-f-p,g="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,w="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,B=-2*c.offset[1];0>k?(e=a.top+g+w+B+c.collisionHeight-f-e,a.top+g+w+B>k&&(0>e||e<l(k))&&(a.top+=g+w+B)):0<h&&(e=a.top-c.collisionPosition.marginTop+g+w+B-p,a.top+g+w+B>h&&(0<e||l(e)<h)&&(a.top+=g+w+B))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);
a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var c,k,e,f,p=document.getElementsByTagName("body")[0];e=document.createElement("div");c=document.createElement(p?"div":"body");k={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};p&&a.extend(k,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in k)c.style[f]=k[f];c.appendChild(e);k=p||document.documentElement;
k.insertBefore(c,k.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";e=a(e).offset().left;g=10<e&&11>e;c.innerHTML="";k.removeChild(c)})()})();a.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",
paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var c=this.options;this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");c.collapsible||!1!==c.active&&null!=c.active||(c.active=0);this._processPanels();0>c.active&&(c.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,
panel:this.active.length?this.active.next():a()}},_createIcons:function(){var c=this.options.icons;c&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+c.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(c.header).addClass(c.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");
this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();
"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,c){"active"===a?this._activate(c):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(c)),this._super(a,c),"collapsible"!==a||c||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),c&&this._createIcons()),"disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",
!!c)))},_keydown:function(c){if(!c.altKey&&!c.ctrlKey){var e=a.ui.keyCode,f=this.headers.length,g=this.headers.index(c.target),h=!1;switch(c.keyCode){case e.RIGHT:case e.DOWN:h=this.headers[(g+1)%f];break;case e.LEFT:case e.UP:h=this.headers[(g-1+f)%f];break;case e.SPACE:case e.ENTER:this._eventHandler(c);break;case e.HOME:h=this.headers[0];break;case e.END:h=this.headers[f-1]}h&&(a(c.target).attr("tabIndex",-1),a(h).attr("tabIndex",0),h.focus(),c.preventDefault())}},_panelKeyDown:function(c){c.keyCode===
a.ui.keyCode.UP&&c.ctrlKey&&a(c.currentTarget).prev().focus()},refresh:function(){var c=this.options;this._processPanels();!1===c.active&&!0===c.collapsible||!this.headers.length?(c.active=!1,this.active=a()):!1===c.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(c.active=!1,this.active=a()):this._activate(Math.max(0,c.active-1)):c.active=this.headers.index(this.active);this._destroyIcons();
this._refresh()},_processPanels:function(){var a=this.headers,c=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();c&&(this._off(a.not(this.headers)),this._off(c.not(this.panels)))},_refresh:function(){var c,e=this.options,f=e.heightStyle,g=this.element.parent();
this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var c=a(this),k=c.uniqueId().attr("id"),e=c.next(),f=e.uniqueId().attr("id");c.attr("aria-controls",f);e.attr("aria-labelledby",k)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();
this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(e.event);"fill"===f?(c=g.height(),this.element.siblings(":visible").each(function(){var e=a(this),f=e.css("position");"absolute"!==f&&"fixed"!==f&&(c-=e.outerHeight(!0))}),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,
c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===f&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).css("height","").height())}).height(c))},_activate:function(c){c=this._findActive(c)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(c){return"number"===typeof c?this.headers.eq(c):a()},_setupEvents:function(c){var e={keydown:"_keydown"};c&&a.each(c.split(" "),function(a,
c){e[c]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,e);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(c){var e=this.options,f=this.active,g=a(c.currentTarget),h=g[0]===f[0],l=h&&e.collapsible,m=l?a():g.next(),r=f.next(),m={oldHeader:f,oldPanel:r,newHeader:l?a():g,newPanel:m};c.preventDefault();h&&!e.collapsible||!1===this._trigger("beforeActivate",c,m)||(e.active=
l?!1:this.headers.index(g),this.active=h?a():g,this._toggle(m),f.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&f.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),h||(g.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&g.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),g.next().addClass("ui-accordion-content-active")))},_toggle:function(c){var e=
c.newPanel,f=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=e;this.prevHide=f;this.options.animate?this._animate(e,f,c):(f.hide(),e.show(),this._toggleComplete(c));f.attr({"aria-hidden":"true"});f.prev().attr("aria-selected","false");e.length&&f.length?f.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);e.attr("aria-hidden","false").prev().attr({"aria-selected":"true",
tabIndex:0,"aria-expanded":"true"})},_animate:function(a,c,e){var f,g,h,l=this,m=0,r=a.length&&(!c.length||a.index()<c.index()),n=this.options.animate||{},r=r&&n.down||n,u=function(){l._toggleComplete(e)};"number"===typeof r&&(h=r);"string"===typeof r&&(g=r);g=g||r.easing||n.easing;h=h||r.duration||n.duration;if(!c.length)return a.animate(this.showProps,h,g,u);if(!a.length)return c.animate(this.hideProps,h,g,u);f=a.show().outerHeight();c.animate(this.hideProps,{duration:h,easing:g,step:function(a,
c){c.now=Math.round(a)}});a.hide().animate(this.showProps,{duration:h,easing:g,complete:u,step:function(a,k){k.now=Math.round(a);"height"!==k.prop?m+=k.now:"content"!==l.options.heightStyle&&(k.now=Math.round(f-c.outerHeight()-m),m=0)}})},_toggleComplete:function(a){var c=a.oldPanel;c.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");c.length&&(c.parent()[0].className=c.parent()[0].className);this._trigger("activate",null,a)}});a.widget("ui.menu",
{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled",
"true");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(c){var e=a(c.target);!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){if(!this.previousFilter){var e=
a(c.currentTarget);e.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(c,e)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,c){var e=this.active||this.element.find(this.options.items).eq(0);c||this.focus(a,e)},blur:function(c){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);
this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=
a(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){var e,f,g,h=!0;switch(c.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(c);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case a.ui.keyCode.HOME:this._move("first","first",c);break;case a.ui.keyCode.END:this._move("last","last",c);break;case a.ui.keyCode.UP:this.previous(c);break;case a.ui.keyCode.DOWN:this.next(c);break;
case a.ui.keyCode.LEFT:this.collapse(c);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(c);break;case a.ui.keyCode.ESCAPE:this.collapse(c);break;default:h=!1,e=this.previousFilter||"",f=String.fromCharCode(c.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,e=this._filterMenuItems(f),e=g&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e,e.length||
(f=String.fromCharCode(c.keyCode),e=this._filterMenuItems(f)),e.length?(this.focus(c,e),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}h&&c.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var c,e=this,f=this.options.icons.submenu;c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",
!!this.element.find(".ui-icon").length);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=a(this),k=c.parent(),e=a("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);k.attr("aria-haspopup","true").prepend(e);c.attr("aria-labelledby",k.attr("id"))});c=c.add(this.element).find(this.options.items);c.not(".ui-menu-item").each(function(){var c=
a(this);e._isDivider(c)&&c.addClass("ui-widget-content ui-menu-divider")});c.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});c.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,c){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu);
"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c);this._super(a,c)},focus:function(a,c){var e;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(c);this.active=c.first();e=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",e.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},
this.delay);e=c.children(".ui-menu");e.length&&a&&/^mouse/.test(a.type)&&this._startOpening(e);this.activeMenu=c.parent();this._trigger("focus",a,{item:c})},_scrollIntoView:function(c){var e,f,g;this._hasScroll()&&(e=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,f=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=c.offset().top-this.activeMenu.offset().top-e-f,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),c=c.outerHeight(),0>e?this.activeMenu.scrollTop(f+e):e+c>g&&this.activeMenu.scrollTop(f+
e-g+c))},blur:function(a,c){c||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(c){var e=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden",
"true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(c,e){clearTimeout(this.timer);this.timer=this._delay(function(){var f=e?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element);this._close(f);this.blur(c);this.activeMenu=f},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},
_closeOnDocumentClick:function(c){return!a(c.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(a,c))},expand:function(a){var c=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(a,c)}))},next:function(a){this._move("next",
"first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,c,e){var f;this.active&&(f="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));f&&f.length&&this.active||(f=this.activeMenu.find(this.options.items)[c]());this.focus(e,
f)},nextPage:function(c){var e,f,g;this.active?this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,g=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){e=a(this);return 0>e.offset().top-f-g}),this.focus(c,e)):this.focus(c,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(c)},previousPage:function(c){var e,f,g;this.active?this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,g=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){e=
a(this);return 0<e.offset().top-f+g}),this.focus(c,e)):this.focus(c,this.activeMenu.find(this.options.items).first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,e)},_filterMenuItems:function(c){c=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var e=
RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(a.trim(a(this).text()))})}});a.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,e,f,g=this.element[0].nodeName.toLowerCase(),
h="textarea"===g,g="input"===g;this.isMultiLine=h?!0:g?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[h||g?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly"))e=f=c=!0;else{e=f=c=!1;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:c=!0;this._move("previousPage",g);break;case h.PAGE_DOWN:c=!0;this._move("nextPage",g);break;case h.UP:c=!0;this._keyEvent("previous",
g);break;case h.DOWN:c=!0;this._keyEvent("next",g);break;case h.ENTER:this.menu.active&&(c=!0,g.preventDefault(),this.menu.select(g));break;case h.TAB:this.menu.active&&this.menu.select(g);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(g),g.preventDefault());break;default:e=!0,this._searchTimeout(g)}}},keypress:function(f){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||f.preventDefault();else if(!e){var g=a.ui.keyCode;switch(f.keyCode){case g.PAGE_UP:this._move("previousPage",
f);break;case g.PAGE_DOWN:this._move("nextPage",f);break;case g.UP:this._keyEvent("previous",f);break;case g.DOWN:this._keyEvent("next",f)}}},input:function(a){f?(f=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");
this._on(this.menu.element,{mousedown:function(c){c.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var k=this.menu.element[0];a(c.target).closest(".ui-menu-item").length||this._delay(function(){var c=this;this.document.one("mousedown",function(e){e.target===c.element[0]||e.target===k||a.contains(k,e.target)||c.close()})})},menufocus:function(c,k){var e;if(this.isNewMenu&&(this.isNewMenu=!1,c.originalEvent&&/^mouse/.test(c.originalEvent.type))){this.menu.blur();
this.document.one("mousemove",function(){a(c.target).trigger(c.originalEvent)});return}e=k.item.data("ui-autocomplete-item");!1!==this._trigger("focus",c,{item:e})&&c.originalEvent&&/^key/.test(c.originalEvent.type)&&this._value(e.value);(e=k.item.attr("aria-label")||e.value)&&a.trim(e).length&&(this.liveRegion.children().hide(),a("<div>").text(e).appendTo(this.liveRegion))},menuselect:function(a,c){var k=c.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&
(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=k}));!1!==this._trigger("select",a,{item:k})&&this._value(k.value);this.term=this._value();this.close(a);this.selectedItem=k}});this.liveRegion=a("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);
this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,c){this._super(a,c);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0));c&&c[0]||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);
return c},_initSource:function(){var c,e,f=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(e,f){f(a.ui.autocomplete.filter(c,e.term))}):"string"===typeof this.options.source?(e=this.options.source,this.source=function(c,k){f.xhr&&f.xhr.abort();f.xhr=a.ajax({url:e,data:c,dataType:"json",success:function(a){k(a)},error:function(){k([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var c=
this.term===this._value(),e=this.menu.element.is(":visible"),f=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!c||c&&!e&&!f)this.selectedItem=null,this.search(null,a)},this.options.delay)},search:function(a,c){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(c);if(!1!==this._trigger("search",c))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},
_response:function(){var c=++this.requestIndex;return a.proxy(function(a){c===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&
(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(c){return"string"===typeof c?{label:c,value:c}:a.extend({},c,{label:c.label||c.value,value:c.value||c.label})})},_suggest:function(c){var e=this.menu.element.empty();this._renderMenu(e,c);this.isNewMenu=!0;this.menu.refresh();e.show();
this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,e){var f=this;a.each(e,function(a,e){f._renderItemData(c,e)})},_renderItemData:function(a,c){return this._renderItem(a,c).data("ui-autocomplete-item",c)},_renderItem:function(c,e){return a("<li>").text(e.label).appendTo(c)},_move:function(a,
c){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](c);else this.search(null,c)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,c){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,c),c.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")},filter:function(c,e){var f=RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(c,function(a){return f.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var e;this._superApply(arguments);this.options.disabled||this.cancelSearch||(e=c&&c.length?this.options.messages.results(c.length):
this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(e).appendTo(this.liveRegion))}});var u,x=function(){var c=a(this);setTimeout(function(){c.find(":ui-button").button("refresh")},1)},v=function(c){var e=c.name,f=c.form,g=a([]);e&&(e=e.replace(/'/g,"\\'"),g=f?a(f).find("[name='"+e+"'][type=radio]"):a("[name='"+e+"'][type=radio]",c.ownerDocument).filter(function(){return!this.form}));return g};a.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,
text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,x);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var c=this,e=this.options,f="checkbox"===this.type||"radio"===this.type,g=f?"":"ui-state-active";null===
e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===u&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||a(this).removeClass(g)}).bind("click"+this.eventNamespace,function(a){e.disabled&&(a.preventDefault(),
a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});f&&this.element.bind("change"+this.eventNamespace,function(){c.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1;a(this).addClass("ui-state-active");
c.buttonElement.attr("aria-pressed","true");var f=c.element[0];v(f).not(f).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(e.disabled)return!1;a(this).addClass("ui-state-active");u=this;c.document.one("mouseup",function(){u=null})}).bind("mouseup"+this.eventNamespace,function(){if(e.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,
function(c){if(e.disabled)return!1;c.keyCode!==a.ui.keyCode.SPACE&&c.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(c){c.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",e.disabled);this._resetButton()},_determineButtonType:function(){var a,c;this.element.is("[type=checkbox]")?
this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),c="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(c),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(c),this.buttonElement.length||(this.buttonElement=a.find(c))),this.element.addClass("ui-helper-hidden-accessible"),
(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,c){this._super(a,c);"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),c&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active"))):this._resetButton()},refresh:function(){var c=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
c!==this.options.disabled&&this._setOption("disabled",c);"radio"===this.type?v(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",
"false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var c=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),e=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(c.empty()).text(),f=this.options.icons,g=f.primary&&f.secondary,h=[];f.primary||f.secondary?(this.options.text&&
h.push("ui-button-text-icon"+(g?"s":f.primary?"-primary":"-secondary")),f.primary&&c.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&c.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(h.push(g?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||c.attr("title",a.trim(e)))):h.push("ui-button-text-only");c.addClass(h.join(" "))}}});a.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,c){"disabled"===a&&this.buttons.button("option",a,c);this._super(a,c)},refresh:function(){var c="rtl"===this.element.css("direction"),e=this.element.find(this.options.items),f=e.filter(":ui-button");e.not(":ui-button").button();f.button("refresh");this.buttons=e.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(c?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(c?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});a.extend(a.ui,{datepicker:{version:"1.11.2"}});var y;a.extend(h.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){m(this._defaults,
a||{});return this},_attachDatepicker:function(c,e){var f,g,h;f=c.nodeName.toLowerCase();g="div"===f||"span"===f;c.id||(this.uuid+=1,c.id="dp"+this.uuid);h=this._newInst(a(c),g);h.settings=a.extend({},e||{});"input"===f?this._connectDatepicker(c,h):g&&this._inlineDatepicker(c,h)},_newInst:function(c,e){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?g(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(c,e){var f=a(c);e.append=a([]);e.trigger=a([]);f.hasClass(this.markerClassName)||(this._attachments(f,e),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),a.data(c,"datepicker",e),e.settings.disabled&&this._disableDatepicker(c))},_attachments:function(c,e){var f,g;f=this._get(e,"appendText");var h=this._get(e,"isRTL");e.append&&e.append.remove();f&&(e.append=a("<span class='"+this._appendClass+
"'>"+f+"</span>"),c[h?"before":"after"](e.append));c.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();f=this._get(e,"showOn");"focus"!==f&&"both"!==f||c.focus(this._showDatepicker);if("button"===f||"both"===f)f=this._get(e,"buttonText"),g=this._get(e,"buttonImage"),e.trigger=a(this._get(e,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:f,title:f}):
f)),c[h?"before":"after"](e.trigger),e.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput===c[0]?a.datepicker._hideDatepicker():(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==c[0]&&a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(c[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var c,e,f,g,h=new Date(2009,11,20),l=this._get(a,"dateFormat");l.match(/[DM]/)&&(c=function(a){for(g=f=e=0;g<a.length;g++)a[g].length>e&&
(e=a[g].length,f=g);return f},h.setMonth(c(this._get(a,l.match(/MM/)?"monthNames":"monthNamesShort"))),h.setDate(c(this._get(a,l.match(/DD/)?"dayNames":"dayNamesShort"))+20-h.getDay()));a.input.attr("size",this._formatDate(a,h).length)}},_inlineDatepicker:function(c,e){var f=a(c);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(e.dpDiv),a.data(c,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&
this._disableDatepicker(c),e.dpDiv.css("display","block"))},_dialogDatepicker:function(c,e,f,g,h){var l;c=this._dialogInst;c||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+c+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},a.data(this._dialogInput[0],"datepicker",c));m(c.settings,g||{});e=e&&e.constructor===Date?
this._formatDate(c,e):e;this._dialogInput.val(e);this._pos=h?h.length?h:[h.pageX,h.pageY]:null;this._pos||(e=document.documentElement.clientWidth,g=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[e/2-100+h,g/2-150+l]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");c.settings.onSelect=f;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",c);return this},_destroyDatepicker:function(c){var e,f=a(c),g=a.data(c,"datepicker");f.hasClass(this.markerClassName)&&(e=c.nodeName.toLowerCase(),a.removeData(c,"datepicker"),"input"===e?(g.append.remove(),g.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)):"div"!==e&&"span"!==e||f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(c){var e,f=a(c),g=a.data(c,"datepicker");if(f.hasClass(this.markerClassName)){e=c.nodeName.toLowerCase();if("input"===e)c.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===c?null:a})}},_disableDatepicker:function(c){var e,f=a(c),g=a.data(c,"datepicker");if(f.hasClass(this.markerClassName)){e=c.nodeName.toLowerCase();if("input"===e)c.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=f.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===c?null:a});this._disabledInputs[this._disabledInputs.length]=c}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var c=0;c<this._disabledInputs.length;c++)if(this._disabledInputs[c]===a)return!0;return!1},_getInst:function(c){try{return a.data(c,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,e,f){var g,h,l,r,n=this._getInst(c);if(2===arguments.length&&"string"===
typeof e)return"defaults"===e?a.extend({},a.datepicker._defaults):n?"all"===e?a.extend({},n.settings):this._get(n,e):null;g=e||{};"string"===typeof e&&(g={},g[e]=f);n&&(this._curInst===n&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),l=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),m(n.settings,g),null!==l&&void 0!==g.dateFormat&&void 0===g.minDate&&(n.settings.minDate=this._formatDate(n,l)),null!==r&&void 0!==g.dateFormat&&void 0===g.maxDate&&(n.settings.maxDate=this._formatDate(n,
r)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),n),this._autoSize(n),this._setDate(n,h),this._updateAlternate(n),this._updateDatepicker(n))},_changeDatepicker:function(a,c,e){this._optionDatepicker(a,c,e)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,c){var e=this._getInst(a);e&&(this._setDate(e,c),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(a,
c){var e=this._getInst(a);e&&!e.inline&&this._setDateFromField(e,c);return e?this._getDate(e):null},_doKeyDown:function(c){var e,f=a.datepicker._getInst(c.target);e=!0;var g=f.dpDiv.is(".ui-datepicker-rtl");f._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(c.keyCode){case 9:a.datepicker._hideDatepicker();e=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(c.target,f.selectedMonth,f.selectedYear,e[0]),
(c=a.datepicker._get(f,"onSelect"))?(e=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[e,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(c.target,c.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(c.target,c.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(c.ctrlKey||c.metaKey)&&a.datepicker._clearDate(c.target);
e=c.ctrlKey||c.metaKey;break;case 36:(c.ctrlKey||c.metaKey)&&a.datepicker._gotoToday(c.target);e=c.ctrlKey||c.metaKey;break;case 37:(c.ctrlKey||c.metaKey)&&a.datepicker._adjustDate(c.target,g?1:-1,"D");e=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&a.datepicker._adjustDate(c.target,c.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(c.ctrlKey||c.metaKey)&&a.datepicker._adjustDate(c.target,-7,"D");e=c.ctrlKey||c.metaKey;break;case 39:(c.ctrlKey||c.metaKey)&&
a.datepicker._adjustDate(c.target,g?-1:1,"D");e=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&a.datepicker._adjustDate(c.target,c.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(c.ctrlKey||c.metaKey)&&a.datepicker._adjustDate(c.target,7,"D");e=c.ctrlKey||c.metaKey;break;default:e=!1}else 36===c.keyCode&&c.ctrlKey?a.datepicker._showDatepicker(this):e=!1;e&&(c.preventDefault(),c.stopPropagation())},_doKeyPress:function(c){var e,f;e=a.datepicker._getInst(c.target);
if(a.datepicker._get(e,"constrainInput"))return e=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),f=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">f||!e||-1<e.indexOf(f)},_doKeyUp:function(c){var e;c=a.datepicker._getInst(c.target);if(c.input.val()!==c.lastVal)try{if(e=a.datepicker.parseDate(a.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,a.datepicker._getFormatConfig(c)))a.datepicker._setDateFromField(c),a.datepicker._updateAlternate(c),
a.datepicker._updateDatepicker(c)}catch(f){}return!0},_showDatepicker:function(c){c=c.target||c;"input"!==c.nodeName.toLowerCase()&&(c=a("input",c.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(c)&&a.datepicker._lastInput!==c){var f,g,h,l;f=a.datepicker._getInst(c);a.datepicker._curInst&&a.datepicker._curInst!==f&&(a.datepicker._curInst.dpDiv.stop(!0,!0),f&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));g=(g=a.datepicker._get(f,"beforeShow"))?
g.apply(c,[c,f]):{};if(!1!==g&&(m(f.settings,g),f.lastVal=null,a.datepicker._lastInput=c,a.datepicker._setDateFromField(f),a.datepicker._inDialog&&(c.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(c),a.datepicker._pos[1]+=c.offsetHeight),h=!1,a(c).parents().each(function(){h|="fixed"===a(this).css("position");return!h}),g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,f.dpDiv.empty(),f.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(f),g=a.datepicker._checkOffset(f,g,h),f.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),!f.inline)){g=a.datepicker._get(f,"showAnim");l=a.datepicker._get(f,"duration");f.dpDiv.css("z-index",e(a(c))+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[g])f.dpDiv.show(g,a.datepicker._get(f,"showOptions"),l);else f.dpDiv[g||"show"](g?l:null);a.datepicker._shouldFocusInput(f)&&
f.input.focus();a.datepicker._curInst=f}}},_updateDatepicker:function(c){this.maxRows=4;y=c;c.dpDiv.empty().append(this._generateHTML(c));this._attachHandlers(c);var e,f=this._getNumberOfMonths(c),g=f[1],h=c.dpDiv.find("."+this._dayOverClass+" a");0<h.length&&l.apply(h.get(0));c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<g&&c.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");c.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(c)&&c.input.focus();c.yearshtml&&(e=c.yearshtml,setTimeout(function(){e===c.yearshtml&&c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);e=c.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(c,
e,f){var g=c.dpDiv.outerWidth(),h=c.dpDiv.outerHeight(),l=c.input?c.input.outerWidth():0,m=c.input?c.input.outerHeight():0,r=document.documentElement.clientWidth+(f?0:a(document).scrollLeft()),n=document.documentElement.clientHeight+(f?0:a(document).scrollTop());e.left-=this._get(c,"isRTL")?g-l:0;e.left-=f&&e.left===c.input.offset().left?a(document).scrollLeft():0;e.top-=f&&e.top===c.input.offset().top+m?a(document).scrollTop():0;e.left-=Math.min(e.left,e.left+g>r&&r>g?Math.abs(e.left+g-r):0);e.top-=
Math.min(e.top,e.top+h>n&&n>h?Math.abs(h+m):0);return e},_findPos:function(c){for(var e=this._getInst(c),e=this._get(e,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||a.expr.filters.hidden(c));)c=c[e?"previousSibling":"nextSibling"];c=a(c).offset();return[c.left,c.top]},_hideDatepicker:function(c){var e,f,g=this._curInst;if(g&&(!c||g===a.data(c,"datepicker"))&&this._datepickerShowing){c=this._get(g,"showAnim");e=this._get(g,"duration");f=function(){a.datepicker._tidyDialog(g)};if(a.effects&&(a.effects.effect[c]||
a.effects[c]))g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),e,f);else g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?e:null,f);c||f();this._datepickerShowing=!1;(c=this._get(g,"onClose"))&&c.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(c){if(a.datepicker._curInst){c=a(c.target);var e=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!(c.hasClass(a.datepicker.markerClassName)||c.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==e)&&a.datepicker._hideDatepicker()}},_adjustDate:function(c,e,f){c=a(c);var g=
this._getInst(c[0]);this._isDisabledDatepicker(c[0])||(this._adjustInstDate(g,e+("M"===f?this._get(g,"showCurrentAtPos"):0),f),this._updateDatepicker(g))},_gotoToday:function(c){var e=a(c),f=this._getInst(e[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=f.currentYear):(c=new Date,f.selectedDay=c.getDate(),f.drawMonth=f.selectedMonth=c.getMonth(),f.drawYear=f.selectedYear=c.getFullYear());this._notifyChange(f);
this._adjustDate(e)},_selectMonthYear:function(c,e,f){c=a(c);var g=this._getInst(c[0]);g["selected"+("M"===f?"Month":"Year")]=g["draw"+("M"===f?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(c)},_selectDay:function(c,e,f,g){var h;h=a(c);a(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(h[0])||(h=this._getInst(h[0]),h.selectedDay=h.currentDay=a("a",g).html(),h.selectedMonth=h.currentMonth=e,h.selectedYear=h.currentYear=f,this._selectDate(c,
this._formatDate(h,h.currentDay,h.currentMonth,h.currentYear)))},_clearDate:function(c){c=a(c);this._selectDate(c,"")},_selectDate:function(c,e){var f;f=a(c);var g=this._getInst(f[0]);e=null!=e?e:this._formatDate(g);g.input&&g.input.val(e);this._updateAlternate(g);(f=this._get(g,"onSelect"))?f.apply(g.input?g.input[0]:null,[e,g]):g.input&&g.input.trigger("change");g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!==typeof g.input[0]&&g.input.focus(),this._lastInput=
null)},_updateAlternate:function(c){var e,f,g,h=this._get(c,"altField");h&&(e=this._get(c,"altFormat")||this._get(c,"dateFormat"),f=this._getDate(c),g=this.formatDate(e,f,this._getFormatConfig(c)),a(h).each(function(){a(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var c=new Date(a.getTime());c.setDate(c.getDate()+4-(c.getDay()||7));a=c.getTime();c.setMonth(0);c.setDate(1);return Math.floor(Math.round((a-c)/864E5)/7)+1},parseDate:function(c,e,f){if(null==
c||null==e)throw"Invalid arguments";e="object"===typeof e?e.toString():e+"";if(""===e)return null;var g,h,l,m=0;h=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff;h="string"!==typeof h?h:(new Date).getFullYear()%100+parseInt(h,10);l=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort;var r=(f?f.dayNames:null)||this._defaults.dayNames,n=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort,u=(f?f.monthNames:null)||this._defaults.monthNames,s=f=-1,q=-1,v=-1,x=!1,z,y=function(a){(a=
g+1<c.length&&c.charAt(g+1)===a)&&g++;return a},O=function(a){var c=y(a),c="@"===a?14:"!"===a?20:"y"===a&&c?4:"o"===a?3:2;a=RegExp("^\\d{"+("y"===a?c:1)+","+c+"}");a=e.substring(m).match(a);if(!a)throw"Missing number at position "+m;m+=a[0].length;return parseInt(a[0],10)},P=function(c,k,f){var g=-1;c=a.map(y(c)?f:k,function(a,c){return[[c,a]]}).sort(function(a,c){return-(a[1].length-c[1].length)});a.each(c,function(a,c){var k=c[1];if(e.substr(m,k.length).toLowerCase()===k.toLowerCase())return g=
c[0],m+=k.length,!1});if(-1!==g)return g+1;throw"Unknown name at position "+m;},I=function(){if(e.charAt(m)!==c.charAt(g))throw"Unexpected literal at position "+m;m++};for(g=0;g<c.length;g++)if(x)"'"!==c.charAt(g)||y("'")?I():x=!1;else switch(c.charAt(g)){case "d":q=O("d");break;case "D":P("D",l,r);break;case "o":v=O("o");break;case "m":s=O("m");break;case "M":s=P("M",n,u);break;case "y":f=O("y");break;case "@":z=new Date(O("@"));f=z.getFullYear();s=z.getMonth()+1;q=z.getDate();break;case "!":z=new Date((O("!")-
this._ticksTo1970)/1E4);f=z.getFullYear();s=z.getMonth()+1;q=z.getDate();break;case "'":y("'")?I():x=!0;break;default:I()}if(m<e.length&&(l=e.substr(m),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=h?0:-100));if(-1<v){s=1;q=v;do{h=this._getDaysInMonth(f,s-1);if(q<=h)break;s++;q-=h}while(1)}z=this._daylightSavingAdjust(new Date(f,s-1,q));if(z.getFullYear()!==f||z.getMonth()+
1!==s||z.getDate()!==q)throw"Invalid date";return z},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,c,e){if(!c)return"";var f,g=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,h=(e?e.dayNames:null)||this._defaults.dayNames,l=(e?
e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var m=function(c){(c=f+1<a.length&&a.charAt(f+1)===c)&&f++;return c},r=function(a,c,e){c=""+c;if(m(a))for(;c.length<e;)c="0"+c;return c},n=function(a,c,e,k){return m(a)?k[c]:e[c]},u="",s=!1;if(c)for(f=0;f<a.length;f++)if(s)"'"!==a.charAt(f)||m("'")?u+=a.charAt(f):s=!1;else switch(a.charAt(f)){case "d":u+=r("d",c.getDate(),2);break;case "D":u+=n("D",c.getDay(),g,h);break;case "o":u+=r("o",Math.round(((new Date(c.getFullYear(),
c.getMonth(),c.getDate())).getTime()-(new Date(c.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":u+=r("m",c.getMonth()+1,2);break;case "M":u+=n("M",c.getMonth(),l,e);break;case "y":u+=m("y")?c.getFullYear():(10>c.getYear()%100?"0":"")+c.getYear()%100;break;case "@":u+=c.getTime();break;case "!":u+=1E4*c.getTime()+this._ticksTo1970;break;case "'":m("'")?u+="'":s=!0;break;default:u+=a.charAt(f)}return u},_possibleChars:function(a){var c,e="",f=!1,g=function(e){(e=c+1<a.length&&a.charAt(c+1)===
e)&&c++;return e};for(c=0;c<a.length;c++)if(f)"'"!==a.charAt(c)||g("'")?e+=a.charAt(c):f=!1;else switch(a.charAt(c)){case "d":case "m":case "y":case "@":e+="0123456789";break;case "D":case "M":return null;case "'":g("'")?e+="'":f=!0;break;default:e+=a.charAt(c)}return e},_get:function(a,c){return void 0!==a.settings[c]?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,c){if(a.input.val()!==a.lastVal){var e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),
h=g,l=this._getFormatConfig(a);try{h=this.parseDate(e,f,l)||g}catch(m){f=c?"":f}a.selectedDay=h.getDate();a.drawMonth=a.selectedMonth=h.getMonth();a.drawYear=a.selectedYear=h.getFullYear();a.currentDay=f?h.getDate():0;a.currentMonth=f?h.getMonth():0;a.currentYear=f?h.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(c,e,f){var g=function(a){var c=new Date;c.setDate(c.getDate()+
a);return c},h=function(e){try{return a.datepicker.parseDate(a.datepicker._get(c,"dateFormat"),e,a.datepicker._getFormatConfig(c))}catch(f){}for(var g=(e.toLowerCase().match(/^c/)?a.datepicker._getDate(c):null)||new Date,h=g.getFullYear(),p=g.getMonth(),g=g.getDate(),w=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=w.exec(e);l;){switch(l[2]||"d"){case "d":case "D":g+=parseInt(l[1],10);break;case "w":case "W":g+=7*parseInt(l[1],10);break;case "m":case "M":p+=parseInt(l[1],10);g=Math.min(g,a.datepicker._getDaysInMonth(h,
p));break;case "y":case "Y":h+=parseInt(l[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(h,p))}l=w.exec(e)}return new Date(h,p,g)};if(e=(e=null==e||""===e?f:"string"===typeof e?h(e):"number"===typeof e?isNaN(e)?f:g(e):new Date(e.getTime()))&&"Invalid Date"===e.toString()?f:e)e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);return this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
c,e){var f=!c,g=a.selectedMonth,h=a.selectedYear;c=this._restrictMinMax(a,this._determineDate(a,c,new Date));a.selectedDay=a.currentDay=c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=c.getFullYear();g===a.selectedMonth&&h===a.selectedYear||e||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(f?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(c){var e=this._get(c,"stepMonths"),f="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(f,-e,"M")},next:function(){a.datepicker._adjustDate(f,+e,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(f)},selectDay:function(){a.datepicker._selectDay(f,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(f,this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(f,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var c,e,f,g,h,l,m,r,n,u,s,q,v,x,z,y,P,I,W,T,M,X,S,Z,ba,Y,V,ca=new Date,ca=this._daylightSavingAdjust(new Date(ca.getFullYear(),ca.getMonth(),ca.getDate())),U=this._get(a,"isRTL");l=this._get(a,"showButtonPanel");f=this._get(a,"hideIfNoPrevNext");h=this._get(a,"navigationAsDateFormat");
var aa=this._getNumberOfMonths(a),t=this._get(a,"showCurrentAtPos");g=this._get(a,"stepMonths");var ha=1!==aa[0]||1!==aa[1],ka=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),qa=this._getMinMaxDate(a,"min"),ra=this._getMinMaxDate(a,"max"),t=a.drawMonth-t,ia=a.drawYear;0>t&&(t+=12,ia--);if(ra)for(c=this._daylightSavingAdjust(new Date(ra.getFullYear(),ra.getMonth()-aa[0]*aa[1]+1,ra.getDate())),c=qa&&c<qa?qa:c;this._daylightSavingAdjust(new Date(ia,
t,1))>c;)t--,0>t&&(t=11,ia--);a.drawMonth=t;a.drawYear=ia;c=this._get(a,"prevText");c=h?this.formatDate(c,this._daylightSavingAdjust(new Date(ia,t-g,1)),this._getFormatConfig(a)):c;c=this._canAdjustMonth(a,-1,ia,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+c+"</span></a>":f?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+
(U?"e":"w")+"'>"+c+"</span></a>";e=this._get(a,"nextText");e=h?this.formatDate(e,this._daylightSavingAdjust(new Date(ia,t+g,1)),this._getFormatConfig(a)):e;f=this._canAdjustMonth(a,1,ia,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+e+"</span></a>":f?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":
"e")+"'>"+e+"</span></a>";g=this._get(a,"currentText");e=this._get(a,"gotoCurrent")&&a.currentDay?ka:ca;g=h?this.formatDate(g,e,this._getFormatConfig(a)):g;h=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";l=l?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?h:"")+(this._isInRange(a,e)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
g+"</button>":"")+(U?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;g=this._get(a,"showWeek");e=this._get(a,"dayNames");m=this._get(a,"dayNamesMin");r=this._get(a,"monthNames");n=this._get(a,"monthNamesShort");u=this._get(a,"beforeShowDay");s=this._get(a,"showOtherMonths");q=this._get(a,"selectOtherMonths");v=this._getDefaultDate(a);x="";z;for(y=0;y<aa[0];y++){P="";this.maxRows=4;for(I=0;I<aa[1];I++){W=this._daylightSavingAdjust(new Date(ia,t,a.selectedDay));z=" ui-corner-all";
T="";if(ha){T+="<div class='ui-datepicker-group";if(1<aa[1])switch(I){case 0:T+=" ui-datepicker-group-first";z=" ui-corner-"+(U?"right":"left");break;case aa[1]-1:T+=" ui-datepicker-group-last";z=" ui-corner-"+(U?"left":"right");break;default:T+=" ui-datepicker-group-middle",z=""}T+="'>"}T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+z+"'>"+(/all|left/.test(z)&&0===y?U?f:c:"")+(/all|right/.test(z)&&0===y?U?c:f:"")+this._generateMonthYearHeader(a,t,ia,qa,ra,0<y||0<I,r,n)+
"</div><table class='ui-datepicker-calendar'><thead><tr>";M=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(z=0;7>z;z++)X=(z+h)%7,M+="<th scope='col'"+(5<=(z+h+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+e[X]+"'>"+m[X]+"</span></th>";T+=M+"</tr></thead><tbody>";M=this._getDaysInMonth(ia,t);ia===a.selectedYear&&t===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,M));z=(this._getFirstDayOfMonth(ia,t)-h+7)%7;M=Math.ceil((z+M)/7);this.maxRows=M=
ha?this.maxRows>M?this.maxRows:M:M;X=this._daylightSavingAdjust(new Date(ia,t,1-z));for(S=0;S<M;S++){T+="<tr>";Z=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(X)+"</td>":"";for(z=0;7>z;z++)ba=u?u.apply(a.input?a.input[0]:null,[X]):[!0,""],V=(Y=X.getMonth()!==t)&&!q||!ba[0]||qa&&X<qa||ra&&X>ra,Z+="<td class='"+(5<=(z+h+6)%7?" ui-datepicker-week-end":"")+(Y?" ui-datepicker-other-month":"")+(X.getTime()===W.getTime()&&t===a.selectedMonth&&a._keyEvent||v.getTime()===X.getTime()&&
v.getTime()===W.getTime()?" "+this._dayOverClass:"")+(V?" "+this._unselectableClass+" ui-state-disabled":"")+(Y&&!s?"":" "+ba[1]+(X.getTime()===ka.getTime()?" "+this._currentClass:"")+(X.getTime()===ca.getTime()?" ui-datepicker-today":""))+"'"+(Y&&!s||!ba[2]?"":" title='"+ba[2].replace(/'/g,"&#39;")+"'")+(V?"":" data-handler='selectDay' data-event='click' data-month='"+X.getMonth()+"' data-year='"+X.getFullYear()+"'")+">"+(Y&&!s?"&#xa0;":V?"<span class='ui-state-default'>"+X.getDate()+"</span>":"<a class='ui-state-default"+
(X.getTime()===ca.getTime()?" ui-state-highlight":"")+(X.getTime()===ka.getTime()?" ui-state-active":"")+(Y?" ui-priority-secondary":"")+"' href='#'>"+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X);T+=Z+"</tr>"}t++;11<t&&(t=0,ia++);T+="</tbody></table>"+(ha?"</div>"+(0<aa[0]&&I===aa[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");P+=T}x+=P}a._keyEvent=!1;return x+l},_generateMonthYearHeader:function(a,c,e,f,g,h,l,m){var r,n,u,s=this._get(a,"changeMonth"),
q=this._get(a,"changeYear"),v=this._get(a,"showMonthAfterYear"),x="<div class='ui-datepicker-title'>",z="";if(h||!s)z+="<span class='ui-datepicker-month'>"+l[c]+"</span>";else{l=f&&f.getFullYear()===e;r=g&&g.getFullYear()===e;z+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(n=0;12>n;n++)(!l||n>=f.getMonth())&&(!r||n<=g.getMonth())&&(z+="<option value='"+n+"'"+(n===c?" selected='selected'":"")+">"+m[n]+"</option>");z+="</select>"}v||(x+=z+(!h&&s&&q?"":"&#xa0;"));
if(!a.yearshtml)if(a.yearshtml="",h||!q)x+="<span class='ui-datepicker-year'>"+e+"</span>";else{m=this._get(a,"yearRange").split(":");u=(new Date).getFullYear();l=function(a){a=a.match(/c[+\-].*/)?e+parseInt(a.substring(1),10):a.match(/[+\-].*/)?u+parseInt(a,10):parseInt(a,10);return isNaN(a)?u:a};c=l(m[0]);m=Math.max(c,l(m[1]||""));c=f?Math.max(c,f.getFullYear()):c;m=g?Math.min(m,g.getFullYear()):m;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";c<=
m;c++)a.yearshtml+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+c+"</option>";a.yearshtml+="</select>";x+=a.yearshtml;a.yearshtml=null}x+=this._get(a,"yearSuffix");v&&(x+=(!h&&s&&q?"":"&#xa0;")+z);return x+"</div>"},_adjustInstDate:function(a,c,e){var f=a.drawYear+("Y"===e?c:0),g=a.drawMonth+("M"===e?c:0);c=Math.min(a.selectedDay,this._getDaysInMonth(f,g))+("D"===e?c:0);f=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(f,g,c)));a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=
f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();"M"!==e&&"Y"!==e||this._notifyChange(a)},_restrictMinMax:function(a,c){var e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),e=e&&c<e?e:c;return f&&e>f?f:e},_notifyChange:function(a){var c=this._get(a,"onChangeMonthYear");c&&c.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,
c){return this._determineDate(a,this._get(a,c+"Date"),null)},_getDaysInMonth:function(a,c){return 32-this._daylightSavingAdjust(new Date(a,c,32)).getDate()},_getFirstDayOfMonth:function(a,c){return(new Date(a,c,1)).getDay()},_canAdjustMonth:function(a,c,e,f){var g=this._getNumberOfMonths(a);e=this._daylightSavingAdjust(new Date(e,f+(0>c?c:g[0]*g[1]),1));0>c&&e.setDate(this._getDaysInMonth(e.getFullYear(),e.getMonth()));return this._isInRange(a,e)},_isInRange:function(a,c){var e,f,g=this._getMinMaxDate(a,
"min"),h=this._getMinMaxDate(a,"max"),l=null,m=null;if(e=this._get(a,"yearRange"))e=e.split(":"),f=(new Date).getFullYear(),l=parseInt(e[0],10),m=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(l+=f),e[1].match(/[+\-].*/)&&(m+=f);return(!g||c.getTime()>=g.getTime())&&(!h||c.getTime()<=h.getTime())&&(!l||c.getFullYear()>=l)&&(!m||c.getFullYear()<=m)},_getFormatConfig:function(a){var c=this._get(a,"shortYearCutoff"),c="string"!==typeof c?c:(new Date).getFullYear()%100+parseInt(c,10);return{shortYearCutoff:c,
dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,c,e,f){c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);c=c?"object"===typeof c?c:this._daylightSavingAdjust(new Date(f,e,c)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),c,this._getFormatConfig(a))}});
a.fn.datepicker=function(c){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"===typeof c&&("isDisabled"===c||"getDate"===c||"widget"===c)||"option"===c&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+c+"Datepicker"].apply(a.datepicker,[this[0]].concat(e)):
this.each(function(){"string"===typeof c?a.datepicker["_"+c+"Datepicker"].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,c)})};a.datepicker=new h;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.11.2";a.widget("ui.draggable",a.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,
opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(a,c){this._super(a,
c);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(c){var e=this.options;this._blurActiveElement(c);if(this.helper||e.disabled||0<a(c.target).closest(".ui-resizable-handle").length)return!1;this.handle=this._getHandle(c);
if(!this.handle)return!1;this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix);return!0},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var c=a(this);return a("<div>").css("position","absolute").appendTo(c.parent()).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).offset(c.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var e=this.document[0];if(this.handleElement.is(c.target))try{e.activeElement&&
"body"!==e.activeElement.nodeName.toLowerCase()&&a(e.activeElement).blur()}catch(f){}},_mouseStart:function(c){var e=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(!0);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===
a(this).css("position")}).length;this.positionAbs=this.element.offset();this._refreshOffsets(c);this.originalPosition=this.position=this._generatePosition(c,!1);this.originalPageX=c.pageX;this.originalPageY=c.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c);this._normalizeRightBottom();this._mouseDrag(c,!0);
a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c);return!0},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(c,e){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(c,!0);this.positionAbs=this._convertPositionTo("absolute");
if(!e){var f=this._uiHash();if(!1===this._trigger("drag",c,f))return this._mouseUp({}),!1;this.position=f.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var e=this,f=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(f=a.ui.ddmanager.drop(this,c));this.dropped&&(f=this.dropped,this.dropped=!1);"invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||
!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",c)&&e._clear()}):!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){this._unblockFrames();a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,c);this.handleElement.is(c.target)&&this.element.focus();return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?
this._mouseUp({}):this._clear();return this},_getHandle:function(c){return this.options.handle?!!a(c.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(c){var e=this.options,f=a.isFunction(e.helper);
c=f?a(e.helper.apply(this.element[0],[c])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo);f&&c[0]===this.element[0]&&this._setPositionRelative();c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute");return c},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(c){"string"===
typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),
e=this.document[0];"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0});return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=
this.element.position(),c=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(c?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(c?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||
0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,e,f;c=this.options;e=this.document[0];this.relativeContainer=null;if(c.containment)if("window"===c.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-
this.margins.left,a(window).scrollTop()+(a(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if("document"===c.containment)this.containment=[0,0,a(e).width()-this.helperProportions.width-this.margins.left,(a(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(c.containment.constructor===Array)this.containment=c.containment;else{if("parent"===c.containment&&(c.containment=this.helper[0].parentNode),
e=a(c.containment),f=e[0])c=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(c?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-
(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e}else this.containment=null},_convertPositionTo:function(a,c){c||(c=this.position);var e="absolute"===a?1:-1,f=this._isRootNode(this.scrollParent[0]);return{top:c.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.offset.scroll.top:f?0:this.offset.scroll.top)*e,left:c.left+this.offset.relative.left*
e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.offset.scroll.left:f?0:this.offset.scroll.left)*e}},_generatePosition:function(a,c){var e,f,g,h=this.options,l=this._isRootNode(this.scrollParent[0]);g=a.pageX;f=a.pageY;l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});c&&(this.containment&&(this.relativeContainer?(e=this.relativeContainer.offset(),e=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+
e.left,this.containment[3]+e.top]):e=this.containment,a.pageX-this.offset.click.left<e[0]&&(g=e[0]+this.offset.click.left),a.pageY-this.offset.click.top<e[1]&&(f=e[1]+this.offset.click.top),a.pageX-this.offset.click.left>e[2]&&(g=e[2]+this.offset.click.left),a.pageY-this.offset.click.top>e[3]&&(f=e[3]+this.offset.click.top)),h.grid&&(f=h.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,f=e?f-this.offset.click.top>=e[1]||f-this.offset.click.top>e[3]?
f:f-this.offset.click.top>=e[1]?f-h.grid[1]:f+h.grid[1]:f,g=h.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,g=e?g-this.offset.click.left>=e[0]||g-this.offset.click.left>e[2]?g:g-this.offset.click.left>=e[0]?g-h.grid[0]:g+h.grid[0]:g),"y"===h.axis&&(g=this.originalPageX),"x"===h.axis&&(f=this.originalPageY));return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?
0:this.offset.scroll.top),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&
(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(c,e,f){f=f||this._uiHash();a.ui.plugin.call(this,c,[e,f,this],!0);/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),f.offset=this.positionAbs);return a.Widget.prototype._trigger.call(this,c,e,f)},plugins:{},_uiHash:function(){return{helper:this.helper,
position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,e,f){var g=a.extend({},e,{item:f.element});f.sortables=[];a(f.options.connectToSortable).each(function(){var e=a(this).sortable("instance");e&&!e.options.disabled&&(f.sortables.push(e),e.refreshPositions(),e._trigger("activate",c,g))})},stop:function(c,e,f){var g=a.extend({},e,{item:f.element});f.cancelHelperRemoval=!1;a.each(f.sortables,function(){this.isOver?
(this.isOver=0,f.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(c),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",c,g))})},drag:function(c,e,f){a.each(f.sortables,function(){var g=!1,h=this;h.positionAbs=f.positionAbs;h.helperProportions=f.helperProportions;h.offset.click=f.offset.click;h._intersectsWith(h.containerCache)&&
(g=!0,a.each(f.sortables,function(){this.positionAbs=f.positionAbs;this.helperProportions=f.helperProportions;this.offset.click=f.offset.click;this!==h&&this._intersectsWith(this.containerCache)&&a.contains(h.element[0],this.element[0])&&(g=!1);return g}));g?(h.isOver||(h.isOver=1,h.currentItem=e.helper.appendTo(h.element).data("ui-sortable-item",!0),h.options._helper=h.options.helper,h.options.helper=function(){return e.helper[0]},c.target=h.currentItem[0],h._mouseCapture(c,!0),h._mouseStart(c,!0,
!0),h.offset.click.top=f.offset.click.top,h.offset.click.left=f.offset.click.left,h.offset.parent.left-=f.offset.parent.left-h.offset.parent.left,h.offset.parent.top-=f.offset.parent.top-h.offset.parent.top,f._trigger("toSortable",c),f.dropped=h.element,a.each(f.sortables,function(){this.refreshPositions()}),f.currentItem=f.element,h.fromOutside=f),h.currentItem&&(h._mouseDrag(c),e.position=h.position)):h.isOver&&(h.isOver=0,h.cancelHelperRemoval=!0,h.options._revert=h.options.revert,h.options.revert=
!1,h._trigger("out",c,h._uiHash(h)),h._mouseStop(c,!0),h.options.revert=h.options._revert,h.options.helper=h.options._helper,h.placeholder&&h.placeholder.remove(),f._refreshOffsets(c),e.position=f._generatePosition(c,!0),f._trigger("fromSortable",c),f.dropped=!1,a.each(f.sortables,function(){this.refreshPositions()}))})}});a.ui.plugin.add("draggable","cursor",{start:function(c,e,f){c=a("body");f=f.options;c.css("cursor")&&(f._cursor=c.css("cursor"));c.css("cursor",f.cursor)},stop:function(c,e,f){c=
f.options;c._cursor&&a("body").css("cursor",c._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(c,e,f){c=a(e.helper);f=f.options;c.css("opacity")&&(f._opacity=c.css("opacity"));c.css("opacity",f.opacity)},stop:function(c,e,f){c=f.options;c._opacity&&a(e.helper).css("opacity",c._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(a,c,e){e.scrollParentNotHidden||(e.scrollParentNotHidden=e.helper.scrollParent(!1));e.scrollParentNotHidden[0]!==e.document[0]&&"HTML"!==e.scrollParentNotHidden[0].tagName&&
(e.overflowOffset=e.scrollParentNotHidden.offset())},drag:function(c,e,f){e=f.options;var g=!1,h=f.scrollParentNotHidden[0],l=f.document[0];h!==l&&"HTML"!==h.tagName?(e.axis&&"x"===e.axis||(f.overflowOffset.top+h.offsetHeight-c.pageY<e.scrollSensitivity?h.scrollTop=g=h.scrollTop+e.scrollSpeed:c.pageY-f.overflowOffset.top<e.scrollSensitivity&&(h.scrollTop=g=h.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(f.overflowOffset.left+h.offsetWidth-c.pageX<e.scrollSensitivity?h.scrollLeft=g=h.scrollLeft+
e.scrollSpeed:c.pageX-f.overflowOffset.left<e.scrollSensitivity&&(h.scrollLeft=g=h.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(c.pageY-a(l).scrollTop()<e.scrollSensitivity?g=a(l).scrollTop(a(l).scrollTop()-e.scrollSpeed):a(window).height()-(c.pageY-a(l).scrollTop())<e.scrollSensitivity&&(g=a(l).scrollTop(a(l).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(c.pageX-a(l).scrollLeft()<e.scrollSensitivity?g=a(l).scrollLeft(a(l).scrollLeft()-e.scrollSpeed):a(window).width()-(c.pageX-a(l).scrollLeft())<
e.scrollSensitivity&&(g=a(l).scrollLeft(a(l).scrollLeft()+e.scrollSpeed))));!1!==g&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(f,c)}});a.ui.plugin.add("draggable","snap",{start:function(c,e,f){c=f.options;f.snapElements=[];a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),e=c.offset();this!==f.element[0]&&f.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(c,e,
f){var g,h,l,m,r,n,u,s,q,v,x=f.options,z=x.snapTolerance,y=e.offset.left,O=y+f.helperProportions.width,P=e.offset.top,I=P+f.helperProportions.height;for(q=f.snapElements.length-1;0<=q;q--)r=f.snapElements[q].left-f.margins.left,n=r+f.snapElements[q].width,u=f.snapElements[q].top-f.margins.top,s=u+f.snapElements[q].height,O<r-z||y>n+z||I<u-z||P>s+z||!a.contains(f.snapElements[q].item.ownerDocument,f.snapElements[q].item)?(f.snapElements[q].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,
c,a.extend(f._uiHash(),{snapItem:f.snapElements[q].item})),f.snapElements[q].snapping=!1):("inner"!==x.snapMode&&(g=Math.abs(u-I)<=z,h=Math.abs(s-P)<=z,l=Math.abs(r-O)<=z,m=Math.abs(n-y)<=z,g&&(e.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top),h&&(e.position.top=f._convertPositionTo("relative",{top:s,left:0}).top),l&&(e.position.left=f._convertPositionTo("relative",{top:0,left:r-f.helperProportions.width}).left),m&&(e.position.left=f._convertPositionTo("relative",
{top:0,left:n}).left)),v=g||h||l||m,"outer"!==x.snapMode&&(g=Math.abs(u-P)<=z,h=Math.abs(s-I)<=z,l=Math.abs(r-y)<=z,m=Math.abs(n-O)<=z,g&&(e.position.top=f._convertPositionTo("relative",{top:u,left:0}).top),h&&(e.position.top=f._convertPositionTo("relative",{top:s-f.helperProportions.height,left:0}).top),l&&(e.position.left=f._convertPositionTo("relative",{top:0,left:r}).left),m&&(e.position.left=f._convertPositionTo("relative",{top:0,left:n-f.helperProportions.width}).left)),!f.snapElements[q].snapping&&
(g||h||l||m||v)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,c,a.extend(f._uiHash(),{snapItem:f.snapElements[q].item})),f.snapElements[q].snapping=g||h||l||m||v)}});a.ui.plugin.add("draggable","stack",{start:function(c,e,f){var g;c=a.makeArray(a(f.options.stack)).sort(function(c,e){return(parseInt(a(c).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});c.length&&(g=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(c){a(this).css("zIndex",g+c)}),this.css("zIndex",g+c.length))}});
a.ui.plugin.add("draggable","zIndex",{start:function(c,e,f){c=a(e.helper);f=f.options;c.css("zIndex")&&(f._zIndex=c.css("zIndex"));c.css("zIndex",f.zIndex)},stop:function(c,e,f){c=f.options;c._zIndex&&a(e.helper).css("zIndex",c._zIndex)}});a.widget("ui.resizable",a.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,
minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(c,e){if("hidden"===a(c).css("overflow"))return!1;var f=e&&"left"===e?"scrollLeft":"scrollTop",g=!1;if(0<c[f])return!0;c[f]=1;g=0<c[f];c[f]=0;return g},_create:function(){var c,e,f,g,h,l=this,m=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!m.aspectRatio,aspectRatio:m.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),
this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=m.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),c=this.handles.split(","),
this.handles={},e=0;e<c.length;e++)f=a.trim(c[e]),h="ui-resizable-"+f,g=a("<div class='ui-resizable-handle "+h+"'></div>"),g.css({zIndex:m.zIndex}),"se"===f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(g);this._renderAxis=function(c){var e,k,f;c=c||this.element;for(e in this.handles)this.handles[e].constructor===String&&(this.handles[e]=this.element.children(this.handles[e]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&
(k=a(this.handles[e],this.element),f=/sw|ne|nw|se|n|s/.test(e)?k.outerHeight():k.outerWidth(),k=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),c.css(k,f),this._proportionallyResize()),a(this.handles[e])};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){l.resizing||(this.className&&(g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=g&&g[1]?
g[1]:"se")});m.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){m.disabled||(a(this).removeClass("ui-resizable-autohide"),l._handles.show())}).mouseleave(function(){m.disabled||l.resizing||(a(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var c,e=function(c){a(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
this.elementIsWrapper&&(e(this.element),c=this.element,this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove());this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(c){var e,f,g=!1;for(e in this.handles)if(f=a(this.handles[e])[0],f===c.target||a.contains(f,c.target))g=!0;return!this.options.disabled&&g},_mouseStart:function(c){var e,
f,g=this.options,h=this.element;this.resizing=!0;this._renderProxy();e=this._num(this.helper.css("left"));f=this._num(this.helper.css("top"));g.containment&&(e+=a(g.containment).scrollLeft()||0,f+=a(g.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:e,top:f};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()};this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),
height:h.height()};this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()};this.originalPosition={left:e,top:f};this.originalMousePosition={left:c.pageX,top:c.pageY};this.aspectRatio="number"===typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;e=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===e?this.axis+"-resize":e);h.addClass("ui-resizable-resizing");this._propagate("start",c);return!0},_mouseDrag:function(c){var e,
f=this.originalMousePosition;e=c.pageX-f.left||0;var f=c.pageY-f.top||0,g=this._change[this.axis];this._updatePrevProperties();if(!g)return!1;e=g.apply(this,[c,e,f]);this._updateVirtualBoundaries(c.shiftKey);if(this._aspectRatio||c.shiftKey)e=this._updateRatio(e,c);e=this._respectSize(e,c);this._updateCache(e);this._propagate("resize",c);e=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();a.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",
c,this.ui()),this._applyChanges());return!1},_mouseStop:function(c){this.resizing=!1;var e,f,g,h=this.options;this._helper&&(e=this._proportionallyResizeElements,e=(f=e.length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:this.sizeDiff.height,f=f?0:this.sizeDiff.width,f={width:this.helper.width()-f,height:this.helper.height()-e},e=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,g=parseInt(this.element.css("top"),10)+(this.position.top-
this.originalPosition.top)||null,h.animate||this.element.css(a.extend(f,{top:g,left:e})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!h.animate&&this._proportionallyResize());a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",c);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,
height:this.size.height}},_applyChanges:function(){var a={};this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px");this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var c,e,f,g;g=this.options;g={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,
maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:Infinity,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||a)a=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,c=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,a>g.minWidth&&(g.minWidth=a),e>g.minHeight&&(g.minHeight=e),c<g.maxWidth&&(g.maxWidth=c),f<g.maxHeight&&(g.maxHeight=f);this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset();
this._isNumber(a.left)&&(this.position.left=a.left);this._isNumber(a.top)&&(this.position.top=a.top);this._isNumber(a.height)&&(this.size.height=a.height);this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var c=this.position,e=this.size,f=this.axis;this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===f&&(a.left=c.left+(e.width-a.width),a.top=null);"nw"===f&&(a.top=c.top+(e.height-a.height),a.left=
c.left+(e.width-a.width));return a},_respectSize:function(a){var c=this._vBoundaries,e=this.axis,f=this._isNumber(a.width)&&c.maxWidth&&c.maxWidth<a.width,g=this._isNumber(a.height)&&c.maxHeight&&c.maxHeight<a.height,h=this._isNumber(a.width)&&c.minWidth&&c.minWidth>a.width,l=this._isNumber(a.height)&&c.minHeight&&c.minHeight>a.height,m=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,n=/sw|nw|w/.test(e),e=/nw|ne|n/.test(e);h&&(a.width=c.minWidth);l&&(a.height=
c.minHeight);f&&(a.width=c.maxWidth);g&&(a.height=c.maxHeight);h&&n&&(a.left=m-c.minWidth);f&&n&&(a.left=m-c.maxWidth);l&&e&&(a.top=r-c.minHeight);g&&e&&(a.top=r-c.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_getPaddingPlusBorderDimensions:function(a){var c=0,e=[],f=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];for(a=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),
a.css("paddingLeft")];4>c;c++)e[c]=parseInt(f[c],10)||0,e[c]+=parseInt(a[c],10)||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,c=0,e=this.helper||this.element;c<this._proportionallyResizeElements.length;c++)a=this._proportionallyResizeElements[c],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||
0})},_renderProxy:function(){var c=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+
c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,c,e){return{height:this.originalSize.height+e}},se:function(c,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,e,f]))},sw:function(c,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,e,f]))},ne:function(c,e,f){return a.extend(this._change.n.apply(this,
arguments),this._change.e.apply(this,[c,e,f]))},nw:function(c,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[c,e,f]))}},_propagate:function(c,e){a.ui.plugin.call(this,c,[e,this.ui()]);"resize"!==c&&this._trigger(c,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable",
"animate",{stop:function(c){var e=a(this).resizable("instance"),f=e.options,g=e._proportionallyResizeElements,h=g.length&&/textarea/i.test(g[0].nodeName),l=h&&e._hasScroll(g[0],"left")?0:e.sizeDiff.height,h={width:e.size.width-(h?0:e.sizeDiff.width),height:e.size.height-l},l=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,m=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(h,m&&l?{top:m,left:l}:{}),{duration:f.animateDuration,
easing:f.animateEasing,step:function(){var f={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};g&&g.length&&a(g[0]).css({width:f.width,height:f.height});e._updateCache(f);e._propagate("resize",c)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var c,e,f,g,h,l=a(this).resizable("instance"),m=l.element;f=l.options.containment;if(m=f instanceof a?f.get(0):/parent/.test(f)?
m.parent().get(0):f)l.containerElement=a(m),/document/.test(f)||f===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(m),e=[],a(["Top","Right","Left","Bottom"]).each(function(a,f){e[a]=l._num(c.css("padding"+f))}),l.containerOffset=c.offset(),l.containerPosition=c.position(),l.containerSize={height:c.innerHeight()-e[3],width:c.innerWidth()-
e[1]},f=l.containerOffset,g=l.containerSize.height,h=l.containerSize.width,h=l._hasScroll(m,"left")?m.scrollWidth:h,g=l._hasScroll(m)?m.scrollHeight:g,l.parentData={element:m,left:f.left,top:f.top,width:h,height:g})},resize:function(c){var e,f,g,h=a(this).resizable("instance");e=h.options;f=h.containerOffset;g=h.position;c=h._aspectRatio||c.shiftKey;var l={top:0,left:0},m=h.containerElement,r=!0;m[0]!==document&&/static/.test(m.css("position"))&&(l=f);g.left<(h._helper?f.left:0)&&(h.size.width+=h._helper?
h.position.left-f.left:h.position.left-l.left,c&&(h.size.height=h.size.width/h.aspectRatio,r=!1),h.position.left=e.helper?f.left:0);g.top<(h._helper?f.top:0)&&(h.size.height+=h._helper?h.position.top-f.top:h.position.top,c&&(h.size.width=h.size.height*h.aspectRatio,r=!1),h.position.top=h._helper?f.top:0);e=h.containerElement.get(0)===h.element.parent().get(0);g=/relative|absolute/.test(h.containerElement.css("position"));e&&g?(h.offset.left=h.parentData.left+h.position.left,h.offset.top=h.parentData.top+
h.position.top):(h.offset.left=h.element.offset().left,h.offset.top=h.element.offset().top);e=Math.abs(h.sizeDiff.width+(h._helper?h.offset.left-l.left:h.offset.left-f.left));f=Math.abs(h.sizeDiff.height+(h._helper?h.offset.top-l.top:h.offset.top-f.top));e+h.size.width>=h.parentData.width&&(h.size.width=h.parentData.width-e,c&&(h.size.height=h.size.width/h.aspectRatio,r=!1));f+h.size.height>=h.parentData.height&&(h.size.height=h.parentData.height-f,c&&(h.size.width=h.size.height*h.aspectRatio,r=!1));
r||(h.position.left=h.prevPosition.left,h.position.top=h.prevPosition.top,h.size.width=h.prevSize.width,h.size.height=h.prevSize.height)},stop:function(){var c=a(this).resizable("instance"),e=c.options,f=c.containerOffset,g=c.containerPosition,h=c.containerElement,l=a(c.helper),m=l.offset(),r=l.outerWidth()-c.sizeDiff.width,l=l.outerHeight()-c.sizeDiff.height;c._helper&&!e.animate&&/relative/.test(h.css("position"))&&a(this).css({left:m.left-g.left-f.left,width:r,height:l});c._helper&&!e.animate&&
/static/.test(h.css("position"))&&a(this).css({left:m.left-g.left-f.left,width:r,height:l})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var c=a(this).resizable("instance").options,e=function(c){a(c).each(function(){var c=a(this);c.data("ui-resizable-alsoresize",{width:parseInt(c.width(),10),height:parseInt(c.height(),10),left:parseInt(c.css("left"),10),top:parseInt(c.css("top"),10)})})};"object"!==typeof c.alsoResize||c.alsoResize.parentNode?e(c.alsoResize):c.alsoResize.length?(c.alsoResize=
c.alsoResize[0],e(c.alsoResize)):a.each(c.alsoResize,function(a){e(a)})},resize:function(c,e){var f=a(this).resizable("instance"),g=f.options,h=f.originalSize,l=f.originalPosition,m={height:f.size.height-h.height||0,width:f.size.width-h.width||0,top:f.position.top-l.top||0,left:f.position.left-l.left||0},r=function(c,f){a(c).each(function(){var c=a(this),k=a(this).data("ui-resizable-alsoresize"),g={},h=f&&f.length?f:c.parents(e.originalElement[0]).length?["width","height"]:["width","height","top",
"left"];a.each(h,function(a,c){var e=(k[c]||0)+(m[c]||0);e&&0<=e&&(g[c]=e||null)});c.css(g)})};"object"!==typeof g.alsoResize||g.alsoResize.nodeType?r(g.alsoResize):a.each(g.alsoResize,function(a,c){r(a,c)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var c=a(this).resizable("instance"),e=c.options,f=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,
margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof e.ghost?e.ghost:"");c.ghost.appendTo(c.helper)},resize:function(){var c=a(this).resizable("instance");c.ghost&&c.ghost.css({position:"relative",height:c.size.height,width:c.size.width})},stop:function(){var c=a(this).resizable("instance");c.ghost&&c.helper&&c.helper.get(0).removeChild(c.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var c,e=a(this).resizable("instance"),f=e.options,g=e.size,h=
e.originalSize,l=e.originalPosition,m=e.axis,r="number"===typeof f.grid?[f.grid,f.grid]:f.grid,n=r[0]||1,u=r[1]||1,s=Math.round((g.width-h.width)/n)*n,g=Math.round((g.height-h.height)/u)*u,q=h.width+s,v=h.height+g,x=f.maxWidth&&f.maxWidth<q,z=f.maxHeight&&f.maxHeight<v,y=f.minWidth&&f.minWidth>q,O=f.minHeight&&f.minHeight>v;f.grid=r;y&&(q+=n);O&&(v+=u);x&&(q-=n);z&&(v-=u);if(/^(se|s|e)$/.test(m))e.size.width=q,e.size.height=v;else if(/^(ne)$/.test(m))e.size.width=q,e.size.height=v,e.position.top=
l.top-g;else if(/^(sw)$/.test(m))e.size.width=q,e.size.height=v,e.position.left=l.left-s;else{if(0>=v-u||0>=q-n)c=e._getPaddingPlusBorderDimensions(this);0<v-u?(e.size.height=v,e.position.top=l.top-g):(v=u-c.height,e.size.height=v,e.position.top=l.top+h.height-v);0<q-n?(e.size.width=q,e.position.left=l.left-s):(q=u-c.height,e.size.width=q,e.position.left=l.left+h.width-q)}}});a.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",
dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(c){var e=a(this).css(c).offset().top;0>e&&a(this).css("top",c.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,
minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=
this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var c=this.options.appendTo;return c&&(c.jquery||
c.nodeType)?a(c):this.document.find(c||"body").eq(0)},_destroy:function(){var a,c=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=c.parent.children().eq(c.index);a.length&&a[0]!==this.element[0]?a.before(this.element):c.parent.append(this.element)},widget:function(){return this.uiDialog},
disable:a.noop,enable:a.noop,close:function(c){var e,f=this;if(this._isOpen&&!1!==this._trigger("beforeClose",c)){this._isOpen=!1;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").focus().length)try{(e=this.document[0].activeElement)&&"body"!==e.nodeName.toLowerCase()&&a(e).blur()}catch(g){}this._hide(this.uiDialog,this.options.hide,function(){f._trigger("close",c)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(c,e){var f=!1,g=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),g=Math.max.apply(null,g);g>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",g+1),f=!0);f&&!e&&this._trigger("focus",c);return f},open:function(){var c=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&
this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){c._focusTabbable();c._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},
_keepFocus:function(c){function e(){var c=this.document[0].activeElement;this.uiDialog[0]===c||a.contains(this.uiDialog[0],c)||this._focusTabbable()}c.preventDefault();e.call(this);this._delay(e)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(c){if(this.options.closeOnEscape&&!c.isDefaultPrevented()&&
c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE)c.preventDefault(),this.close(c);else if(c.keyCode===a.ui.keyCode.TAB&&!c.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),f=e.filter(":first"),g=e.filter(":last");c.target!==g[0]&&c.target!==this.uiDialog[0]||c.shiftKey?c.target!==f[0]&&c.target!==this.uiDialog[0]||!c.shiftKey||(this._delay(function(){g.focus()}),c.preventDefault()):(this._delay(function(){f.focus()}),c.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});
this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var c;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(c){a(c.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,
icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});c=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(c);this.uiDialog.attr({"aria-labelledby":c.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var c=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(e)||a.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(e,function(e,f){var g,h;f=a.isFunction(f)?{click:f,text:e}:f;f=a.extend({type:"button"},f);g=f.click;f.click=function(){g.apply(c.element[0],arguments)};h={icons:f.icons,
text:f.showText};delete f.icons;delete f.showText;a("<button></button>",f).button(h).appendTo(c.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function c(a){return{position:a.position,offset:a.offset}}var e=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,g){a(this).addClass("ui-dialog-dragging");
e._blockFrames();e._trigger("dragStart",f,c(g))},drag:function(a,f){e._trigger("drag",a,c(f))},stop:function(g,h){var l=h.offset.left-e.document.scrollLeft(),m=h.offset.top-e.document.scrollTop();f.position={my:"left top",at:"left"+(0<=l?"+":"")+l+" top"+(0<=m?"+":"")+m,of:e.window};a(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",g,c(h))}})},_makeResizable:function(){function c(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,
size:a.size}}var e=this,f=this.options,g=f.resizable,h=this.uiDialog.css("position"),g="string"===typeof g?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:g,start:function(f,g){a(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",f,c(g))},resize:function(a,f){e._trigger("resize",a,c(f))},stop:function(g,
h){var l=e.uiDialog.offset(),m=l.left-e.document.scrollLeft(),l=l.top-e.document.scrollTop();f.height=e.uiDialog.height();f.width=e.uiDialog.width();f.position={my:"left top",at:"left"+(0<=m?"+":"")+m+" top"+(0<=l?"+":"")+l,of:e.window};a(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",g,c(h))}}).css("position",h)},_trackFocus:function(){this._on(this.widget(),{focusin:function(c){this._makeFocusTarget();this._focusedElement=a(c.target)}})},_makeFocusTarget:function(){this._untrackInstance();
this._trackingInstances().unshift(this)},_untrackInstance:function(){var c=this._trackingInstances(),e=a.inArray(this,c);-1!==e&&c.splice(e,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");a||(a=[],this.document.data("ui-dialog-instances",a));return a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);
a||this.uiDialog.hide()},_setOptions:function(c){var e=this,f=!1,g={};a.each(c,function(a,c){e._setOption(a,c);a in e.sizeRelatedOptions&&(f=!0);a in e.resizableRelatedOptions&&(g[a]=c)});f&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,c){var e,f=this.uiDialog;"dialogClass"===a&&f.removeClass(this.options.dialogClass).addClass(c);"disabled"!==a&&(this._super(a,c),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),
"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===a&&((e=f.is(":data(ui-draggable)"))&&!c&&f.draggable("destroy"),!e&&c&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((e=f.is(":data(ui-resizable)"))&&!c&&f.resizable("destroy"),e&&"string"===typeof c&&f.resizable("option","handles",c),e||!1===c||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,
c,e,f=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});f.minWidth>f.width&&(f.width=f.minWidth);a=this.uiDialog.css({height:"auto",width:f.width}).outerHeight();c=Math.max(0,f.minHeight-a);e="number"===typeof f.maxHeight?Math.max(0,f.maxHeight-a):"none";"auto"===f.height?this.element.css({minHeight:c,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,f.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",
this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var c=a(this);return a("<div>").css({position:"absolute",width:c.outerWidth(),height:c.outerHeight()}).appendTo(c.parent()).offset(c.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(c){return a(c.target).closest(".ui-dialog").length?!0:!!a(c.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var c=
!0;this._delay(function(){c=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){c||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=
this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});a.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,e=this.options,f=e.accept;this.isover=!1;
this.isout=!0;this.accept=a.isFunction(f)?f:function(a){return a.is(f)};this.proportions=function(){if(arguments.length)c=arguments[0];else return c?c:c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(e.scope);e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(c){a.ui.ddmanager.droppables[c]=a.ui.ddmanager.droppables[c]||[];a.ui.ddmanager.droppables[c].push(this)},_splice:function(a){for(var c=0;c<a.length;c++)a[c]===this&&a.splice(c,
1)},_destroy:function(){this._splice(a.ui.ddmanager.droppables[this.options.scope]);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,e){"accept"===c?this.accept=a.isFunction(e)?e:function(a){return a.is(e)}:"scope"===c&&(this._splice(a.ui.ddmanager.droppables[this.options.scope]),this._addToManager(e));this._super(c,e)},_activate:function(c){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);e&&this._trigger("activate",
c,this.ui(e))},_deactivate:function(c){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",c,this.ui(e))},_over:function(c){var e=a.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(e)))},_out:function(c){var e=a.ui.ddmanager.current;
e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(e)))},_drop:function(c,e){var f=e||a.ui.ddmanager.current,g=!1;if(!f||(f.currentItem||f.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=a(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&
e.options.scope===f.options.scope&&e.accept.call(e.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(e,{offset:e.element.offset()}),e.options.tolerance,c))return g=!0,!1});return g?!1:this.accept.call(this.element[0],f.currentItem||f.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(f)),this.element):!1},ui:function(a){return{draggable:a.currentItem||
a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(){return function(a,c,e,f){if(!c.offset)return!1;var g=(a.positionAbs||a.position.absolute).left+a.margins.left,h=(a.positionAbs||a.position.absolute).top+a.margins.top,l=g+a.helperProportions.width,m=h+a.helperProportions.height,r=c.offset.left,n=c.offset.top,u=r+c.proportions().width,q=n+c.proportions().height;switch(e){case "fit":return r<=g&&l<=u&&n<=h&&m<=q;case "intersect":return r<g+a.helperProportions.width/
2&&l-a.helperProportions.width/2<u&&n<h+a.helperProportions.height/2&&m-a.helperProportions.height/2<q;case "pointer":a=f.pageY;e=c.proportions().height;if(n=a>=n&&a<n+e)f=f.pageX,c=c.proportions().width,n=f>=r&&f<r+c;return n;case "touch":return(h>=n&&h<=q||m>=n&&m<=q||h<n&&m>q)&&(g>=r&&g<=u||l>=r&&l<=u||g<r&&l>u);default:return!1}}}();a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,e){var f,g,h=a.ui.ddmanager.droppables[c.options.scope]||[],l=e?e.type:null,m=(c.currentItem||
c.element).find(":data(ui-droppable)").addBack();f=0;a:for(;f<h.length;f++)if(!(h[f].options.disabled||c&&!h[f].accept.call(h[f].element[0],c.currentItem||c.element))){for(g=0;g<m.length;g++)if(m[g]===h[f].element[0]){h[f].proportions().height=0;continue a}h[f].visible="none"!==h[f].element.css("display");h[f].visible&&("mousedown"===l&&h[f]._activate.call(h[f],e),h[f].offset=h[f].element.offset(),h[f].proportions({width:h[f].element[0].offsetWidth,height:h[f].element[0].offsetHeight}))}},drop:function(c,
e){var f=!1;a.each((a.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance,e)&&(f=this._drop.call(this,e)||f),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))});return f},dragStart:function(c,e){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||
a.ui.ddmanager.prepareOffsets(c,e)})},drag:function(c,e){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,e);a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,g,h;h=a.ui.intersect(c,this,this.options.tolerance,e);var l=!h&&this.isover?"isout":h&&!this.isover?"isover":null;l&&(this.options.greedy&&(g=this.options.scope,h=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===
g}),h.length&&(f=a(h[0]).droppable("instance"),f.greedyChild="isover"===l)),f&&"isover"===l&&(f.isover=!1,f.isout=!0,f._out.call(f,e)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,e),f&&"isout"===l&&(f.isout=!1,f.isover=!0,f._over.call(f,e)))}})},dragStop:function(c,e){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,e)}};var z=a;a.effects={effect:{}};(function(a,c){function e(a,c,
f){var k=n[c.type]||{};if(null==a)return f||!c.def?null:c.def;a=k.floor?~~a:parseFloat(a);return isNaN(a)?c.def:k.mod?(a+k.mod)%k.mod:0>a?0:k.max<a?k.max:a}function f(c){var e=m(),g=e._rgba=[];c=c.toLowerCase();v(l,function(a,f){var k,h=f.re.exec(c);k=h&&f.parse(h);h=f.space||"rgba";if(k)return k=e[h](k),e[r[h].cache]=k[r[h].cache],g=e._rgba=k._rgba,!1});return g.length?("0,0,0,0"===g.join()&&a.extend(g,s.transparent),e):s[c]}function g(a,c,e){e=(e+1)%1;return 1>6*e?a+(c-a)*e*6:1>2*e?c:2>3*e?a+(c-
a)*(2/3-e)*6:a}var h=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,
parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=a.Color=function(c,e,f,g){return new a.Color.fn.parse(c,e,f,g)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},
lightness:{idx:2,type:"percent"}}}},n={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=m.support={},q=a("<p>")[0],s,v=a.each;q.style.cssText="background-color:rgba(1,1,1,.5)";u.rgba=-1<q.style.backgroundColor.indexOf("rgba");v(r,function(a,c){c.cache="_"+a;c.props.alpha={idx:3,type:"percent",def:1}});m.fn=a.extend(m.prototype,{parse:function(g,h,l,n){if(g===c)return this._rgba=[null,null,null,null],this;if(g.jquery||g.nodeType)g=a(g).css(h),h=c;var u=this,q=a.type(g),D=this._rgba=
[];h!==c&&(g=[g,h,l,n],q="array");if("string"===q)return this.parse(f(g)||s._default);if("array"===q)return v(r.rgba.props,function(a,c){D[c.idx]=e(g[c.idx],c)}),this;if("object"===q)return g instanceof m?v(r,function(a,c){g[c.cache]&&(u[c.cache]=g[c.cache].slice())}):v(r,function(c,f){var h=f.cache;v(f.props,function(a,c){if(!u[h]&&f.to){if("alpha"===a||null==g[a])return;u[h]=f.to(u._rgba)}u[h][c.idx]=e(g[a],c,!0)});u[h]&&0>a.inArray(null,u[h].slice(0,3))&&(u[h][3]=1,f.from&&(u._rgba=f.from(u[h])))}),
this},is:function(a){var c=m(a),e=!0,f=this;v(r,function(a,g){var k,h=c[g.cache];h&&(k=f[g.cache]||g.to&&g.to(f._rgba)||[],v(g.props,function(a,c){if(null!=h[c.idx])return e=h[c.idx]===k[c.idx]}));return e});return e},_space:function(){var a=[],c=this;v(r,function(e,f){c[f.cache]&&a.push(e)});return a.pop()},transition:function(a,c){var f=m(a),g=f._space(),k=r[g],h=0===this.alpha()?m("transparent"):this,p=h[k.cache]||k.to(h._rgba),l=p.slice(),f=f[k.cache];v(k.props,function(a,g){var k=g.idx,h=p[k],
m=f[k],r=n[g.type]||{};null!==m&&(null===h?l[k]=m:(r.mod&&(m-h>r.mod/2?h+=r.mod:h-m>r.mod/2&&(h-=r.mod)),l[k]=e((m-h)*c+h,g)))});return this[g](l)},blend:function(c){if(1===this._rgba[3])return this;var e=this._rgba.slice(),f=e.pop(),g=m(c)._rgba;return m(a.map(e,function(a,c){return(1-f)*g[c]+f*a}))},toRgbaString:function(){var c="rgba(",e=a.map(this._rgba,function(a,c){return null==a?2<c?1:0:a});1===e[3]&&(e.pop(),c="rgb(");return c+e.join()+")"},toHslaString:function(){var c="hsla(",e=a.map(this.hsla(),
function(a,c){null==a&&(a=2<c?1:0);c&&3>c&&(a=Math.round(100*a)+"%");return a});1===e[3]&&(e.pop(),c="hsl(");return c+e.join()+")"},toHexString:function(c){var e=this._rgba.slice(),f=e.pop();c&&e.push(~~(255*f));return"#"+a.map(e,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=m.fn;r.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=
a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(c,e,f),k=Math.min(c,e,f),h=g-k,p=g+k,l=0.5*p,p=0===h?0:0.5>=l?h/p:h/(2-p);return[Math.round(k===g?0:c===g?60*(e-f)/h+360:e===g?60*(f-c)/h+120:60*(c-e)/h+240)%360,p,l,null==a?1:a]};r.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=a[0]/360,e=a[1],f=a[2];a=a[3];e=0.5>=f?f*(1+e):f+e-f*e;f=2*f-e;return[Math.round(255*g(f,e,c+1/3)),Math.round(255*g(f,e,c)),Math.round(255*g(f,e,c-1/3)),a]};v(r,function(f,
g){var l=g.props,r=g.cache,n=g.to,u=g.from;m.fn[f]=function(f){n&&!this[r]&&(this[r]=n(this._rgba));if(f===c)return this[r].slice();var g,h=a.type(f),q="array"===h||"object"===h?f:arguments,s=this[r].slice();v(l,function(a,c){var f=q["object"===h?a:c.idx];null==f&&(f=s[c.idx]);s[c.idx]=e(f,c)});return u?(g=m(u(s)),g[r]=s,g):m(s)};v(l,function(c,e){m.fn[c]||(m.fn[c]=function(g){var p=a.type(g),l="alpha"===c?this._hsla?"hsla":"rgba":f,m=this[l](),w=m[e.idx];if("undefined"===p)return w;"function"===
p&&(g=g.call(this,w),p=a.type(g));if(null==g&&e.empty)return this;"string"===p&&(p=h.exec(g))&&(g=w+parseFloat(p[2])*("+"===p[1]?1:-1));m[e.idx]=g;return this[l](m)})})});m.hook=function(c){c=c.split(" ");v(c,function(c,e){a.cssHooks[e]={set:function(c,g){var h,p="";if("transparent"!==g&&("string"!==a.type(g)||(h=f(g)))){g=m(h||g);if(!u.rgba&&1!==g._rgba[3]){for(h="backgroundColor"===e?c.parentNode:c;(""===p||"transparent"===p)&&h&&h.style;)try{p=a.css(h,"backgroundColor"),h=h.parentNode}catch(l){}g=
g.blend(p&&"transparent"!==p?p:"_default")}g=g.toRgbaString()}try{c.style[e]=g}catch(w){}}};a.fx.step[e]=function(c){c.colorInit||(c.start=m(c.elem,e),c.end=m(c.end),c.colorInit=!0);a.cssHooks[e].set(c.elem,c.start.transition(c.end,c.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor={expand:function(a){var c={};v(["Top","Right","Bottom","Left"],function(e,
f){c["border"+f+"Color"]=a});return c}};s=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(z);(function(){function c(e){var f,g=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,k={};
if(g&&g.length&&g[0]&&g[g[0]])for(e=g.length;e--;)f=g[e],"string"===typeof g[f]&&(k[a.camelCase(f)]=g[f]);else for(f in g)"string"===typeof g[f]&&(k[f]=g[f]);return k}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(c,e){a.fx.step[e]=function(a){if("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)z.style(a.elem,
e,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(g,h,l,m){var r=a.speed(h,l,m);return this.queue(function(){var h=a(this),l=h.attr("class")||"",m,n=r.children?h.find("*").addBack():h,n=n.map(function(){return{el:a(this),start:c(this)}});m=function(){a.each(e,function(a,c){if(g[c])h[c+"Class"](g[c])})};m();n=n.map(function(){this.end=c(this.el[0]);var e=this.start,g=this.end,h={},p,
l;for(p in g)l=g[p],e[p]===l||f[p]||!a.fx.step[p]&&isNaN(parseFloat(l))||(h[p]=l);this.diff=h;return this});h.attr("class",l);n=n.map(function(){var c=this,e=a.Deferred(),f=a.extend({},r,{queue:!1,complete:function(){e.resolve(c)}});this.el.animate(this.diff,f);return e.promise()});a.when.apply(a,n.get()).done(function(){m();a.each(arguments,function(){var c=this.el;a.each(this.diff,function(a){c.css(a,"")})});r.complete.call(h[0])})})};a.fn.extend({addClass:function(c){return function(e,f,g,k){return f?
a.effects.animateClass.call(this,{add:e},f,g,k):c.apply(this,arguments)}}(a.fn.addClass),removeClass:function(c){return function(e,f,g,k){return 1<arguments.length?a.effects.animateClass.call(this,{remove:e},f,g,k):c.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(e,f,g,k,h){return"boolean"===typeof f||void 0===f?g?a.effects.animateClass.call(this,f?{add:e}:{remove:e},g,k,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:e},f,g,k)}}(a.fn.toggleClass),
switchClass:function(c,e,f,g,k){return a.effects.animateClass.call(this,{add:e,remove:c},f,g,k)}})})();(function(){function c(e,f,g,k){a.isPlainObject(e)&&(f=e,e=e.effect);e={effect:e};null==f&&(f={});a.isFunction(f)&&(k=f,g=null,f={});if("number"===typeof f||a.fx.speeds[f])k=g,g=f,f={};a.isFunction(g)&&(k=g,g=null);f&&a.extend(e,f);g=g||f.duration;e.duration=a.fx.off?0:"number"===typeof g?g:g in a.fx.speeds?a.fx.speeds[g]:a.fx.speeds._default;e.complete=k||f.complete;return e}function e(c){return!c||
"number"===typeof c||a.fx.speeds[c]||"string"===typeof c&&!a.effects.effect[c]||a.isFunction(c)||"object"===typeof c&&!c.effect?!0:!1}a.extend(a.effects,{version:"1.11.2",save:function(a,c){for(var e=0;e<c.length;e++)null!==c[e]&&a.data("ui-effects-"+c[e],a[0].style[c[e]])},restore:function(a,c){var e,f;for(f=0;f<c.length;f++)null!==c[f]&&(e=a.data("ui-effects-"+c[f]),void 0===e&&(e=""),a.css(c[f],e))},setMode:function(a,c){"toggle"===c&&(c=a.is(":hidden")?"show":"hide");return c},getBaseline:function(a,
c){var e,f;switch(a[0]){case "top":e=0;break;case "middle":e=0.5;break;case "bottom":e=1;break;default:e=a[0]/c.height}switch(a[1]){case "left":f=0;break;case "center":f=0.5;break;case "right":f=1;break;default:f=a[1]/c.width}return{x:f,y:e}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var e={width:c.outerWidth(!0),height:c.outerHeight(!0),"float":c.css("float")},f=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),g={width:c.width(),height:c.height()},k=document.activeElement;try{k.id}catch(h){k=document.body}c.wrap(f);(c[0]===k||a.contains(c[0],k))&&a(k).focus();f=c.parent();"static"===c.css("position")?(f.css({position:"relative"}),c.css({position:"relative"})):(a.extend(e,{position:c.css("position"),zIndex:c.css("z-index")}),a.each(["top","left","bottom","right"],function(a,f){e[f]=c.css(f);isNaN(parseInt(e[f],10))&&(e[f]="auto")}),c.css({position:"relative",top:0,left:0,
right:"auto",bottom:"auto"}));c.css(g);return f.css(e).show()},removeWrapper:function(c){var e=document.activeElement;c.parent().is(".ui-effects-wrapper")&&(c.parent().replaceWith(c),(c[0]===e||a.contains(c[0],e))&&a(e).focus());return c},setTransition:function(c,e,f,g){g=g||{};a.each(e,function(a,e){var k=c.cssUnit(e);0<k[0]&&(g[e]=k[0]*f+k[1])});return g}});a.fn.extend({effect:function(){function e(c){function g(){a.isFunction(h)&&h.call(k[0]);a.isFunction(c)&&c()}var k=a(this),h=f.complete,l=f.mode;
(k.is(":hidden")?"hide"===l:"show"===l)?(k[l](),g()):p.call(k[0],f,g)}var f=c.apply(this,arguments),g=f.mode,h=f.queue,p=a.effects.effect[f.effect];return a.fx.off||!p?g?this[g](f.duration,f.complete):this.each(function(){f.complete&&f.complete.call(this)}):!1===h?this.each(e):this.queue(h||"fx",e)},show:function(a){return function(f){if(e(f))return a.apply(this,arguments);var g=c.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}}(a.fn.show),hide:function(a){return function(f){if(e(f))return a.apply(this,
arguments);var g=c.apply(this,arguments);g.mode="hide";return this.effect.call(this,g)}}(a.fn.hide),toggle:function(a){return function(f){if(e(f)||"boolean"===typeof f)return a.apply(this,arguments);var g=c.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}}(a.fn.toggle),cssUnit:function(c){var e=this.css(c),f=[];a.each(["em","px","%","pt"],function(a,c){0<e.indexOf(c)&&(f=[parseFloat(e),c])});return f}})})();(function(){var c={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,e){c[e]=function(c){return Math.pow(c,a+2)}});a.extend(c,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var c,e=4;a<((c=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*c-2)/22-a,2)}});a.each(c,function(c,e){a.easing["easeIn"+c]=e;a.easing["easeOut"+c]=function(a){return 1-
e(1-a)};a.easing["easeInOut"+c]=function(a){return 0.5>a?e(2*a)/2:1-e(-2*a+2)/2}})})();a.effects.effect.blind=function(c,e){var f=a(this),g="position top bottom left right height width".split(" "),h=a.effects.setMode(f,c.mode||"hide"),l=c.direction||"up",m=/up|down|vertical/.test(l),r=m?"height":"width",n=m?"top":"left",l=/up|left|vertical|horizontal/.test(l),u={},q="show"===h,s,v,x;f.parent().is(".ui-effects-wrapper")?a.effects.save(f.parent(),g):a.effects.save(f,g);f.show();s=a.effects.createWrapper(f).css({overflow:"hidden"});
v=s[r]();x=parseFloat(s.css(n))||0;u[r]=q?v:0;l||(f.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),u[n]=q?x:v+x);q&&(s.css(r,0),l||s.css(n,x+v));s.animate(u,{duration:c.duration,easing:c.easing,queue:!1,complete:function(){"hide"===h&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()}})};a.effects.effect.bounce=function(c,e){var f=a(this),g="position top bottom left right height width".split(" "),h=a.effects.setMode(f,c.mode||"effect"),l="hide"===h,m=
"show"===h,r=c.direction||"up",h=c.distance,n=c.times||5,u=2*n+(m||l?1:0),q=c.duration/u,s=c.easing,v="up"===r||"down"===r?"top":"left",r="up"===r||"left"===r,x,z,y=f.queue(),O=y.length;(m||l)&&g.push("opacity");a.effects.save(f,g);f.show();a.effects.createWrapper(f);h||(h=f["top"===v?"outerHeight":"outerWidth"]()/3);m&&(z={opacity:1},z[v]=0,f.css("opacity",0).css(v,r?2*-h:2*h).animate(z,q,s));l&&(h/=Math.pow(2,n-1));z={};for(m=z[v]=0;m<n;m++)x={},x[v]=(r?"-=":"+=")+h,f.animate(x,q,s).animate(z,q,
s),h=l?2*h:h/2;l&&(x={opacity:0},x[v]=(r?"-=":"+=")+h,f.animate(x,q,s));f.queue(function(){l&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()});1<O&&y.splice.apply(y,[1,0].concat(y.splice(O,u+1)));f.dequeue()};a.effects.effect.clip=function(c,e){var f=a(this),g="position top bottom left right height width".split(" "),h="show"===a.effects.setMode(f,c.mode||"hide"),l="vertical"===(c.direction||"vertical"),m=l?"height":"width",l=l?"top":"left",r={},n,u;a.effects.save(f,g);f.show();n=a.effects.createWrapper(f).css({overflow:"hidden"});
n="IMG"===f[0].tagName?n:f;u=n[m]();h&&(n.css(m,0),n.css(l,u/2));r[m]=h?u:0;r[l]=h?0:u/2;n.animate(r,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){h||f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()}})};a.effects.effect.drop=function(c,e){var f=a(this),g="position top bottom left right opacity height width".split(" "),h=a.effects.setMode(f,c.mode||"hide"),l="show"===h,m=c.direction||"left",r="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m?"pos":"neg",n={opacity:l?
1:0},u;a.effects.save(f,g);f.show();a.effects.createWrapper(f);u=c.distance||f["top"===r?"outerHeight":"outerWidth"](!0)/2;l&&f.css("opacity",0).css(r,"pos"===m?-u:u);n[r]=(l?"pos"===m?"+=":"-=":"pos"===m?"-=":"+=")+u;f.animate(n,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===h&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()}})};a.effects.effect.explode=function(c,e){function f(){q.push(this);q.length===g*h&&(l.css({visibility:"visible"}),a(q).remove(),
m||l.hide(),e())}var g=c.pieces?Math.round(Math.sqrt(c.pieces)):3,h=g,l=a(this),m="show"===a.effects.setMode(l,c.mode||"hide"),r=l.show().css("visibility","hidden").offset(),n=Math.ceil(l.outerWidth()/h),u=Math.ceil(l.outerHeight()/g),q=[],s,v,x,z,y,O;for(s=0;s<g;s++)for(z=r.top+s*u,O=s-(g-1)/2,v=0;v<h;v++)x=r.left+v*n,y=v-(h-1)/2,l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-v*n,top:-s*u}).parent().addClass("ui-effects-explode").css({position:"absolute",
overflow:"hidden",width:n,height:u,left:x+(m?y*n:0),top:z+(m?O*u:0),opacity:m?0:1}).animate({left:x+(m?0:y*n),top:z+(m?0:O*u),opacity:m?1:0},c.duration||500,c.easing,f)};a.effects.effect.fade=function(c,e){var f=a(this),g=a.effects.setMode(f,c.mode||"toggle");f.animate({opacity:g},{queue:!1,duration:c.duration,easing:c.easing,complete:e})};a.effects.effect.fold=function(c,e){var f=a(this),g="position top bottom left right height width".split(" "),h=a.effects.setMode(f,c.mode||"hide"),l="show"===h,
m="hide"===h,h=c.size||15,r=/([0-9]+)%/.exec(h),n=!!c.horizFirst,u=l!==n,q=u?["width","height"]:["height","width"],s=c.duration/2,v,x={},z={};a.effects.save(f,g);f.show();v=a.effects.createWrapper(f).css({overflow:"hidden"});u=u?[v.width(),v.height()]:[v.height(),v.width()];r&&(h=parseInt(r[1],10)/100*u[m?0:1]);l&&v.css(n?{height:0,width:h}:{height:h,width:0});x[q[0]]=l?u[0]:h;z[q[1]]=l?u[1]:0;v.animate(x,s,c.easing).animate(z,s,c.easing,function(){m&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);
e()})};a.effects.effect.highlight=function(c,e){var f=a(this),g=["backgroundImage","backgroundColor","opacity"],h=a.effects.setMode(f,c.mode||"show"),l={backgroundColor:f.css("backgroundColor")};"hide"===h&&(l.opacity=0);a.effects.save(f,g);f.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(l,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===h&&f.hide();a.effects.restore(f,g);e()}})};a.effects.effect.size=function(c,e){var f,g,h,l,m,r,n=a(this),
u="position top bottom left right width height overflow opacity".split(" ");m="position top bottom left right overflow opacity".split(" ");var q=["width","height","overflow"],s=["fontSize"],v=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],x=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],z=a.effects.setMode(n,c.mode||"effect"),y=c.restore||"effect"!==z,O=c.scale||"both";r=c.origin||["middle","center"];var P=n.css("position"),I=y?u:m,W={height:0,width:0,outerHeight:0,
outerWidth:0};"show"===z&&n.show();m={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};"toggle"===c.mode&&"show"===z?(n.from=c.to||W,n.to=c.from||m):(n.from=c.from||("show"===z?W:m),n.to=c.to||("hide"===z?W:m));h=n.from.height/m.height;l=n.from.width/m.width;f=n.to.height/m.height;g=n.to.width/m.width;if("box"===O||"both"===O)h!==f&&(I=I.concat(v),n.from=a.effects.setTransition(n,v,h,n.from),n.to=a.effects.setTransition(n,v,f,n.to)),l!==g&&(I=I.concat(x),n.from=
a.effects.setTransition(n,x,l,n.from),n.to=a.effects.setTransition(n,x,g,n.to));"content"!==O&&"both"!==O||h===f||(I=I.concat(s).concat(q),n.from=a.effects.setTransition(n,s,h,n.from),n.to=a.effects.setTransition(n,s,f,n.to));a.effects.save(n,I);n.show();a.effects.createWrapper(n);n.css("overflow","hidden").css(n.from);r&&(r=a.effects.getBaseline(r,m),n.from.top=(m.outerHeight-n.outerHeight())*r.y,n.from.left=(m.outerWidth-n.outerWidth())*r.x,n.to.top=(m.outerHeight-n.to.outerHeight)*r.y,n.to.left=
(m.outerWidth-n.to.outerWidth)*r.x);n.css(n.from);if("content"===O||"both"===O)v=v.concat(["marginTop","marginBottom"]).concat(s),x=x.concat(["marginLeft","marginRight"]),q=u.concat(v).concat(x),n.find("*[width]").each(function(){var e=a(this),p=e.height(),m=e.width(),n=e.outerHeight(),r=e.outerWidth();y&&a.effects.save(e,q);e.from={height:p*h,width:m*l,outerHeight:n*h,outerWidth:r*l};e.to={height:p*f,width:m*g,outerHeight:p*f,outerWidth:m*g};h!==f&&(e.from=a.effects.setTransition(e,v,h,e.from),e.to=
a.effects.setTransition(e,v,f,e.to));l!==g&&(e.from=a.effects.setTransition(e,x,l,e.from),e.to=a.effects.setTransition(e,x,g,e.to));e.css(e.from);e.animate(e.to,c.duration,c.easing,function(){y&&a.effects.restore(e,q)})});n.animate(n.to,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity);"hide"===z&&n.hide();a.effects.restore(n,I);y||("static"===P?n.css({position:"relative",top:n.to.top,left:n.to.left}):a.each(["top","left"],function(a,
c){n.css(c,function(c,e){var f=parseInt(e,10),g=a?n.to.left:n.to.top;return"auto"===e?g+"px":f+g+"px"})}));a.effects.removeWrapper(n);e()}})};a.effects.effect.scale=function(c,e){var f=a(this),g=a.extend(!0,{},c),h=a.effects.setMode(f,c.mode||"effect"),l=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===h?0:100),m=c.direction||"both",n=c.origin,r={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},u="horizontal"!==m?l/100:1,l="vertical"!==m?l/100:
1;g.effect="size";g.queue=!1;g.complete=e;"effect"!==h&&(g.origin=n||["middle","center"],g.restore=!0);g.from=c.from||("show"===h?{height:0,width:0,outerHeight:0,outerWidth:0}:r);g.to={height:r.height*u,width:r.width*l,outerHeight:r.outerHeight*u,outerWidth:r.outerWidth*l};g.fade&&("show"===h&&(g.from.opacity=0,g.to.opacity=1),"hide"===h&&(g.from.opacity=1,g.to.opacity=0));f.effect(g)};a.effects.effect.puff=function(c,e){var f=a(this),g=a.effects.setMode(f,c.mode||"hide"),h="hide"===g,l=parseInt(c.percent,
10)||150,m=l/100,n={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};a.extend(c,{effect:"scale",queue:!1,fade:!0,mode:g,complete:e,percent:h?l:100,from:h?n:{height:n.height*m,width:n.width*m,outerHeight:n.outerHeight*m,outerWidth:n.outerWidth*m}});f.effect(c)};a.effects.effect.pulsate=function(c,e){var f=a(this),g=a.effects.setMode(f,c.mode||"show"),h="show"===g,l="hide"===g,g=2*(c.times||5)+(h||"hide"===g?1:0),m=c.duration/g,n=0,r=f.queue(),u=r.length;if(h||
!f.is(":visible"))f.css("opacity",0).show(),n=1;for(h=1;h<g;h++)f.animate({opacity:n},m,c.easing),n=1-n;f.animate({opacity:n},m,c.easing);f.queue(function(){l&&f.hide();e()});1<u&&r.splice.apply(r,[1,0].concat(r.splice(u,g+1)));f.dequeue()};a.effects.effect.shake=function(c,e){var f=a(this),g="position top bottom left right height width".split(" "),h=a.effects.setMode(f,c.mode||"effect"),l=c.direction||"left",m=c.distance||20,n=c.times||3,r=2*n+1,u=Math.round(c.duration/r),q="up"===l||"down"===l?
"top":"left",s="up"===l||"left"===l,l={},v={},x={},z=f.queue(),y=z.length;a.effects.save(f,g);f.show();a.effects.createWrapper(f);l[q]=(s?"-=":"+=")+m;v[q]=(s?"+=":"-=")+2*m;x[q]=(s?"-=":"+=")+2*m;f.animate(l,u,c.easing);for(m=1;m<n;m++)f.animate(v,u,c.easing).animate(x,u,c.easing);f.animate(v,u,c.easing).animate(l,u/2,c.easing).queue(function(){"hide"===h&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()});1<y&&z.splice.apply(z,[1,0].concat(z.splice(y,r+1)));f.dequeue()};a.effects.effect.slide=
function(c,e){var f=a(this),g="position top bottom left right width height".split(" "),h=a.effects.setMode(f,c.mode||"show"),l="show"===h,m=c.direction||"left",n="up"===m||"down"===m?"top":"left",m="up"===m||"left"===m,r,u={};a.effects.save(f,g);f.show();r=c.distance||f["top"===n?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(f).css({overflow:"hidden"});l&&f.css(n,m?isNaN(r)?"-"+r:-r:r);u[n]=(l?m?"+=":"-=":m?"-=":"+=")+r;f.animate(u,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===
h&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);e()}})};a.effects.effect.transfer=function(c,e){var f=a(this),g=a(c.to),h="fixed"===g.css("position"),l=a("body"),m=h?l.scrollTop():0,l=h?l.scrollLeft():0,n=g.offset(),g={top:n.top-m,left:n.left-l,height:g.innerHeight(),width:g.innerWidth()},n=f.offset(),r=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(c.className).css({top:n.top-m,left:n.left-l,height:f.innerHeight(),width:f.innerWidth(),position:h?"fixed":
"absolute"}).animate(g,c.duration,c.easing,function(){r.remove();e()})};a.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},
_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(a){if(void 0===a)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){void 0===a&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?
!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var c=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(c);this._refreshValue()},_setOption:function(a,c){"max"===a&&(c=Math.max(this.min,c));"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c);this._super(a,c)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=
this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(e.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c}),this.overlayDiv&&
(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==c&&(this.oldValue=c,this._trigger("change"));c===this.options.max&&this._trigger("complete")}});a.widget("ui.selectable",a.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,e=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=a(e.options.filter,
e.element[0]);c.addClass("ui-selectee");c.each(function(){var c=a(this),e=c.offset();a.data(this,"selectable-item",{element:this,$element:c,left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");
this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(c){var e=this,f=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=a(f.filter,this.element[0]),this._trigger("start",c),a(f.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),f.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=!0;c.metaKey||
c.ctrlKey||(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,e._trigger("unselecting",c,{unselecting:f.element}))}),a(c.target).parents().addBack().each(function(){var f,g=a.data(this,"selectable-item");if(g)return f=!c.metaKey&&!c.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting"),g.unselecting=!f,g.selecting=f,(g.selected=f)?e._trigger("selecting",
c,{selecting:g.element}):e._trigger("unselecting",c,{unselecting:g.element}),!1}))},_mouseDrag:function(c){this.dragged=!0;if(!this.options.disabled){var e,f=this,g=this.options,h=this.opos[0],l=this.opos[1],m=c.pageX,n=c.pageY;h>m&&(e=m,m=h,h=e);l>n&&(e=n,n=l,l=e);this.helper.css({left:h,top:l,width:m-h,height:n-l});this.selectees.each(function(){var e=a.data(this,"selectable-item"),p=!1;e&&e.element!==f.element[0]&&("touch"===g.tolerance?p=!(e.left>m||e.right<h||e.top>n||e.bottom<l):"fit"===g.tolerance&&
(p=e.left>h&&e.right<m&&e.top>l&&e.bottom<n),p?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,f._trigger("selecting",c,{selecting:e.element}))):(e.selecting&&((c.metaKey||c.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),
e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),f._trigger("unselecting",c,{unselecting:e.element}))),!e.selected||c.metaKey||c.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,f._trigger("unselecting",c,{unselecting:e.element}))))});return!1}},_mouseStop:function(c){var e=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");
f.$element.removeClass("ui-unselecting");f.unselecting=!1;f.startselected=!1;e._trigger("unselected",c,{unselected:f.element})});a(".ui-selecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=!1;f.selected=!0;f.startselected=!0;e._trigger("selected",c,{selected:f.element})});this._trigger("stop",c);this.helper.remove();return!1}});a.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",
options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var c=this,e=this.element.attr("tabindex");this.label=a("label[for='"+this.ids.element+
"']").attr("for",this.ids.button);this._on(this.label,{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=a("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:e||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);a("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);
this.buttonText=a("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){c.menuItems||c._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var c=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=a("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());
this.menuInstance=this.menu.menu({role:"listbox",select:function(a,e){a.preventDefault();c._setSelection();c._select(e.item.data("ui-selectmenu-item"),a)},focus:function(a,e){var f=e.item.data("ui-selectmenu-item");null!=c.focusIndex&&f.index!==c.focusIndex&&(c._trigger("focus",a,{item:f}),c.isOpen||c._select(f,a));c.focusIndex=f.index;c.button.attr("aria-activedescendant",c.menuItems.eq(f.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,
"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a;a=this.element.find("option");a.length&&(this._parseOptions(a),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),
a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(a.extend({of:this.button},
this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(c,e){var f=this,g="";a.each(e,function(e,h){h.optgroup!==g&&(a("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(h.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:h.optgroup}).appendTo(c),g=h.optgroup);f._renderItemData(c,
h)})},_renderItemData:function(a,c){return this._renderItem(a,c).data("ui-selectmenu-item",c)},_renderItem:function(c,e){var f=a("<li>");e.disabled&&f.addClass("ui-state-disabled");this._setText(f,e.label);return f.appendTo(c)},_setText:function(a,c){c?a.text(c):a.html("&#160;")},_move:function(a,c){var e,f=".ui-menu-item";this.isOpen?e=this.menuItems.eq(this.focusIndex):(e=this.menuItems.eq(this.element[0].selectedIndex),f+=":not(.ui-state-disabled)");e="first"===a||"last"===a?e["first"===a?"prevAll":
"nextAll"](f).eq(-1):e[a+"All"](f).eq(0);e.length&&this.menuInstance.focus(c,e)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(c){this.isOpen&&(a(c.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||
this.close(c))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection();this._toggle(a)},keydown:function(c){var e=!0;switch(c.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(c);e=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(c);break;case a.ui.keyCode.UP:c.altKey?this._toggle(c):this._move("prev",
c);break;case a.ui.keyCode.DOWN:c.altKey?this._toggle(c):this._move("next",c);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(c):this._toggle(c);break;case a.ui.keyCode.LEFT:this._move("prev",c);break;case a.ui.keyCode.RIGHT:this._move("next",c);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",c);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",c);break;default:this.menu.trigger(c),e=!1}e&&c.preventDefault()}},_selectFocusedItem:function(a){var c=
this.menuItems.eq(this.focusIndex);c.hasClass("ui-state-disabled")||this._select(c.data("ui-selectmenu-item"),a)},_select:function(a,c){var e=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this._setText(this.buttonText,a.label);this._setAria(a);this._trigger("select",c,{item:a});a.index!==e&&this._trigger("change",c,{item:a});this.close(c)},_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",
a)},_setOption:function(a,c){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(c.button);this._super(a,c);"appendTo"===a&&this.menuWrap.appendTo(this._appendTo());"disabled"===a&&(this.menuInstance.option("disabled",c),this.button.toggleClass("ui-state-disabled",c).attr("aria-disabled",c),this.element.prop("disabled",c),c?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));"width"===a&&this._resizeButton()},_appendTo:function(){var c=
this.options.appendTo;c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0));c&&c[0]||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),
this.element.hide());this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(c){var e=[];c.each(function(c,f){var g=a(f),h=g.parent("optgroup");e.push({element:g,index:c,value:g.attr("value"),label:g.text(),optgroup:h.attr("label")||"",disabled:h.prop("disabled")||g.prop("disabled")})});this.items=e},_destroy:function(){this.menuWrap.remove();
this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});a.widget("ui.slider",a.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();
this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c,e;c=this.options;var f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g=[];e=c.values&&c.values.length||1;f.length>e&&(f.slice(e).remove(),
f=f.slice(0,e));for(c=f.length;c<e;c++)g.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=f.add(a(g.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(c){a(this).data("ui-slider-handle-index",c)})},_createRange:function(){var c=this.options,e="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:a.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=
[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);
this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(c){var e,f,g,h,l,m=this,n=this.options;if(n.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();e=this._normValueFromMouse({x:c.pageX,y:c.pageY});
f=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var k=Math.abs(e-m.values(c));if(f>k||f===k&&(c===m._lastChangedValue||m.values(c)===n.min))f=k,g=a(this),h=c});if(!1===this._start(c,h))return!1;this._mouseSliding=!0;this._handleIndex=h;g.addClass("ui-state-active").focus();l=g.offset();this._clickOffset=a(c.target).parents().addBack().is(".ui-slider-handle")?{left:c.pageX-l.left-g.width()/2,top:c.pageY-l.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),
10)||0)+(parseInt(g.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(c,h,e);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var c=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=
!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var c;"horizontal"===this.orientation?(c=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));c=a/c;1<c&&(c=1);0>c&&(c=0);"vertical"===this.orientation&&(c=1-c);a=this._valueMax()-this._valueMin();c=this._valueMin()+
c*a;return this._trimAlignValue(c)},_start:function(a,c){var e={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(c),e.values=this.values());return this._trigger("start",a,e)},_slide:function(a,c,e){var f;this.options.values&&this.options.values.length?(f=this.values(c?0:1),2===this.options.values.length&&!0===this.options.range&&(0===c&&e>f||1===c&&e<f)&&(e=f),e!==this.values(c)&&(f=this.values(),f[c]=e,a=this._trigger("slide",a,{handle:this.handles[c],
value:e,values:f}),this.values(c?0:1),!1!==a&&this.values(c,e))):e!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[c],value:e}),!1!==a&&this.value(e))},_stop:function(a,c){var e={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(c),e.values=this.values());this._trigger("stop",a,e)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&
(e.value=this.values(c),e.values=this.values());this._lastChangedValue=c;this._trigger("change",a,e)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,e){var f,g,h;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(e),this._refreshValue(),this._change(null,c);else if(arguments.length)if(a.isArray(arguments[0])){f=this.options.values;g=arguments[0];for(h=0;h<f.length;h+=
1)f[h]=this._trimAlignValue(g[h]),this._change(null,h);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();else return this._values()},_setOption:function(c,e){var f,g=0;"range"===c&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(g=this.options.values.length);
"disabled"===c&&this.element.toggleClass("ui-state-disabled",!!e);this._super(c,e);switch(c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css("horizontal"===e?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(f=0;f<g;f+=1)this._change(null,
f);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var c,e;if(arguments.length)return c=this.options.values[a],c=this._trimAlignValue(c);if(this.options.values&&this.options.values.length){c=this.options.values.slice();for(e=0;e<c.length;e+=
1)c[e]=this._trimAlignValue(c[e]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var c=0<this.options.step?this.options.step:1,e=(a-this._valueMin())%c;a-=e;2*Math.abs(e)>=c&&(a+=0<e?c:-c);return parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-a},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},
_refreshValue:function(){var c,e,f,g,h,l=this.options.range,m=this.options,n=this,r=this._animateOff?!1:m.animate,u={};if(this.options.values&&this.options.values.length)this.handles.each(function(f){e=(n.values(f)-n._valueMin())/(n._valueMax()-n._valueMin())*100;u["horizontal"===n.orientation?"left":"bottom"]=e+"%";a(this).stop(1,1)[r?"animate":"css"](u,m.animate);if(!0===n.options.range)if("horizontal"===n.orientation){if(0===f)n.range.stop(1,1)[r?"animate":"css"]({left:e+"%"},m.animate);if(1===
f)n.range[r?"animate":"css"]({width:e-c+"%"},{queue:!1,duration:m.animate})}else{if(0===f)n.range.stop(1,1)[r?"animate":"css"]({bottom:e+"%"},m.animate);if(1===f)n.range[r?"animate":"css"]({height:e-c+"%"},{queue:!1,duration:m.animate})}c=e});else{f=this.value();g=this._valueMin();h=this._valueMax();e=h!==g?(f-g)/(h-g)*100:0;u["horizontal"===this.orientation?"left":"bottom"]=e+"%";this.handle.stop(1,1)[r?"animate":"css"](u,m.animate);if("min"===l&&"horizontal"===this.orientation)this.range.stop(1,
1)[r?"animate":"css"]({width:e+"%"},m.animate);if("max"===l&&"horizontal"===this.orientation)this.range[r?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:m.animate});if("min"===l&&"vertical"===this.orientation)this.range.stop(1,1)[r?"animate":"css"]({height:e+"%"},m.animate);if("max"===l&&"vertical"===this.orientation)this.range[r?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:m.animate})}},_handleEvents:{keydown:function(c){var e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),
!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),e=this._start(c,h),!1===e))return}g=this.options.step;e=this.options.values&&this.options.values.length?f=this.values(h):f=this.value();switch(c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-
this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},keyup:function(c){var e=a(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,e),this._change(c,e),a(c.target).removeClass("ui-state-active"))}}});a.widget("ui.sortable",a.ui.mouse,{version:"1.11.2",
widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},
_isOverAxis:function(a,c,e){return a>=c&&a<c+e},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||this._isFloating(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,c){this._super(a,c);"handle"===
a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");a.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+
"-item");return this},_mouseCapture:function(c,e){var f=null,g=!1,h=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(c);a(c.target).parents().each(function(){if(a.data(this,h.widgetName+"-item")===h)return f=a(this),!1});a.data(c.target,h.widgetName+"-item")===h&&(f=a(c.target));if(!f||this.options.handle&&!e&&(a(this.options.handle,f).find("*").addBack().each(function(){this===c.target&&(g=!0)}),!g))return!1;this.currentItem=f;this._removeCurrentsFromItems();
return!0},_mouseStart:function(c,e,f){var g;e=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();e.cursor&&"auto"!==e.cursor&&(g=this.document.find("body"),
this.storedCursor=g.css("cursor"),g.css("cursor",e.cursor),this.storedStylesheet=a("<style>*{ cursor: "+e.cursor+" !important; }</style>").appendTo(g));e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity));e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",c,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);return!0},_mouseDrag:function(c){var e,f,g,h;e=this.options;f=!1;this.position=this._generatePosition(c);
this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-c.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+e.scrollSpeed:c.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-e.scrollSpeed),
this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+e.scrollSpeed:c.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(c.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+
e.scrollSpeed)),c.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))),!1!==f&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");
this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(e=this.items.length-1;0<=e;e--)if(f=this.items[e],g=f.item[0],(h=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&g!==this.currentItem[0]&&this.placeholder[1===h?"next":"prev"]()[0]!==g&&!a.contains(this.placeholder[0],g)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],g):1)){this.direction=1===h?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(f))this._rearrange(c,
f);else break;this._trigger("change",c,this._uiHash());break}this._contactContainers(c);a.ui.ddmanager&&a.ui.ddmanager.drag(this,c);this._trigger("sort",c,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(c,e){if(c){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,c);if(this.options.revert){var f=this,g=this.placeholder.offset(),h=this.options.axis,l={};h&&"x"!==h||(l.left=g.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===
document.body?0:this.offsetParent[0].scrollLeft));h&&"y"!==h||(l.top=g.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(l,parseInt(this.options.revert,10)||500,function(){f._clear(c)})}else this._clear(c,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();
for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,
reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(c){var e=this._getItemsAsjQuery(c&&c.connected),f=[];c=c||{};a(e).each(function(){var e=(a(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);e&&f.push((c.key||e[1]+"[]")+"="+(c.key&&c.expression?e[1]:e[2]))});!f.length&&c.key&&f.push(c.key+"=");return f.join("&")},toArray:function(c){var e=
this._getItemsAsjQuery(c&&c.connected),f=[];c=c||{};e.each(function(){f.push(a(c.item||this).attr(c.attribute||"id")||"")});return f},_intersectsWith:function(a){var c=this.positionAbs.left,e=c+this.helperProportions.width,f=this.positionAbs.top,g=f+this.helperProportions.height,h=a.left,l=h+a.width,m=a.top,n=m+a.height,r=this.offset.click.top,u=this.offset.click.left,u="y"===this.options.axis||c+u>h&&c+u<l,r=("x"===this.options.axis||f+r>m&&f+r<n)&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||
"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?r:h<c+this.helperProportions.width/2&&e-this.helperProportions.width/2<l&&m<f+this.helperProportions.height/2&&g-this.helperProportions.height/2<n},_intersectsWithPointer:function(a){var c="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,
a.left,a.width);c=c&&a;a=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return c?this.floating?e&&"right"===e||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var c=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===
f&&a||"left"===f&&!a:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:
a.connectWith},_getItemsAsjQuery:function(c){function e(){l.push(this)}var f,g,h,l=[],m=[],n=this._connectWith();if(n&&c)for(c=n.length-1;0<=c;c--)for(g=a(n[c]),f=g.length-1;0<=f;f--)(h=a.data(g[f],this.widgetFullName))&&h!==this&&!h.options.disabled&&m.push([a.isFunction(h.options.items)?h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);m.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,
item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=m.length-1;0<=c;c--)m[c][0].each(e);return a(l)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var e=0;e<c.length;e++)if(c[e]===a.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var e,f,g,h,l,m=this.items,n=[[a.isFunction(this.options.items)?
this.options.items.call(this.element[0],c,{item:this.currentItem}):a(this.options.items,this.element),this]];if((l=this._connectWith())&&this.ready)for(e=l.length-1;0<=e;e--)for(g=a(l[e]),f=g.length-1;0<=f;f--)(h=a.data(g[f],this.widgetFullName))&&h!==this&&!h.options.disabled&&(n.push([a.isFunction(h.options.items)?h.options.items.call(h.element[0],c,{item:this.currentItem}):a(h.options.items,h.element),h]),this.containers.push(h));for(e=n.length-1;0<=e;e--)for(c=n[e][1],g=n[e][0],f=0,l=g.length;f<
l;f++)h=a(g[f]),h.data(this.widgetName+"-item",c),m.push({item:h,instance:c,width:0,height:0,left:0,top:0})},refreshPositions:function(c){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,f,g;for(e=this.items.length-1;0<=e;e--)f=this.items[e],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(g=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item,c||(f.width=g.outerWidth(),f.height=g.outerHeight()),
g=g.offset(),f.left=g.left,f.top=g.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)g=this.containers[e].element.offset(),this.containers[e].containerCache.left=g.left,this.containers[e].containerCache.top=g.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(c){c=
c||this;var e,f=c.options;f.placeholder&&f.placeholder.constructor!==String||(e=f.placeholder,f.placeholder={element:function(){var f=c.currentItem[0].nodeName.toLowerCase(),g=a("<"+f+">",c.document[0]).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===f?c.currentItem.children().each(function(){a("<td>&#160;</td>",c.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(g)}):"img"===f&&g.attr("src",c.currentItem.attr("src"));e||g.css("visibility",
"hidden");return g},update:function(a,g){if(!e||f.forcePlaceholderSize)g.height()||g.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}});c.placeholder=a(f.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);f.placeholder.update(c,c.placeholder)},
_contactContainers:function(c){var e,f,g,h,l,m,n,r,u=h=null;for(e=this.containers.length-1;0<=e;e--)a.contains(this.currentItem[0],this.containers[e].element[0])||(this._intersectsWith(this.containers[e].containerCache)?h&&a.contains(this.containers[e].element[0],h.element[0])||(h=this.containers[e],u=e):this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",c,this._uiHash(this)),this.containers[e].containerCache.over=0));if(h)if(1===this.containers.length)this.containers[u].containerCache.over||
(this.containers[u]._trigger("over",c,this._uiHash(this)),this.containers[u].containerCache.over=1);else{e=1E4;g=null;h=(f=h.floating||this._isFloating(this.currentItem))?"left":"top";l=f?"width":"height";r=f?"clientX":"clientY";for(f=this.items.length-1;0<=f;f--)a.contains(this.containers[u].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(m=this.items[f].item.offset()[h],n=!1,c[r]-m>this.items[f][l]/2&&(n=!0),Math.abs(c[r]-m)<e&&(e=Math.abs(c[r]-m),g=this.items[f],
this.direction=n?"up":"down"));if(g||this.options.dropOnEmpty)this.currentContainer===this.containers[u]?this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",c,this._uiHash()),this.currentContainer.containerCache.over=1):(g?this._rearrange(c,g,null,!0):this._rearrange(c,null,this.containers[u].element,!0),this._trigger("change",c,this._uiHash()),this.containers[u]._trigger("change",c,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,
this.placeholder),this.containers[u]._trigger("over",c,this._uiHash(this)),this.containers[u].containerCache.over=1)}},_createHelper:function(c){var e=this.options;c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[c,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;c.parents("body").length||a("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]);c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,
height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});c[0].style.width&&!e.forceHelperSize||c.width(this.currentItem.width());c[0].style.height&&!e.forceHelperSize||c.height(this.currentItem.height());return c},_adjustOffsetFromHelper:function(c){"string"===typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=
this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());
if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,e,f;e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode);if("document"===e.containment||"window"===e.containment)this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(e.containment)||(c=a(e.containment)[0],e=a(e.containment).offset(),f="hidden"!==a(c).css("overflow"),this.containment=[e.left+
(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),
10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,e){e||(e=this.position);var f="absolute"===c?1:-1,g="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(g[0].tagName);return{top:e.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():
h?0:g.scrollTop())*f,left:e.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:g.scrollLeft())*f}},_generatePosition:function(c){var e,f,g=this.options;f=c.pageX;e=c.pageY;var h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(h[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&
this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+
this.offset.click.top)),g.grid&&(e=this.originalPageY+Math.round((e-this.originalPageY)/g.grid[1])*g.grid[1],e=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-g.grid[1]:e+g.grid[1]:e,f=this.originalPageX+Math.round((f-this.originalPageX)/g.grid[0])*g.grid[0],f=this.containment?f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=
this.containment[0]?f-g.grid[0]:f+g.grid[0]:f));return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())}},_rearrange:function(a,c,e,f){e?e[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===
this.direction?c.item[0]:c.item[0].nextSibling);var g=this.counter=this.counter?++this.counter:1;this._delay(function(){g===this.counter&&this.refreshPositions(!f)})},_clear:function(a,c){function e(a,c,f){return function(e){f._trigger(a,e,c._uiHash(c))}}this.reverting=!1;var f,g=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(f in this._storedCSS)if("auto"===this._storedCSS[f]||
"static"===this._storedCSS[f])this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&g.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||g.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||
c||(g.push(function(a){this._trigger("remove",a,this._uiHash())}),g.push(function(a){return function(c){a._trigger("receive",c,this._uiHash(this))}}.call(this,this.currentContainer)),g.push(function(a){return function(c){a._trigger("update",c,this._uiHash(this))}}.call(this,this.currentContainer)));for(f=this.containers.length-1;0<=f;f--)c||g.push(e("deactivate",this,this.containers[f])),this.containers[f].containerCache.over&&(g.push(e("out",this,this.containers[f])),this.containers[f].containerCache.over=
0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;c||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=
null);if(!c){for(f=0;f<g.length;f++)g[f].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!this.cancelHelperRemoval},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var e=c||this;return{helper:e.helper,placeholder:e.placeholder||a([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:c?c.element:null}}});a.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",
widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},
_getCreateOptions:function(){var c={},e=this.element;a.each(["min","max","step"],function(a,f){var g=e.attr(f);void 0!==g&&g.length&&(c[f]=g)});return c},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,c){if(c){if(!this.spinning&&
!this._start(a))return!1;this._spin((0<c?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(c){function e(){this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f}))}var f;f=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();e.call(this);
this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;e.call(this)});!1!==this._start(c)&&this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(a(c.currentTarget).hasClass("ui-state-active")){if(!1===this._start(c))return!1;this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete",
"off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(0.5*a.height())&&0<a.height()&&a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(c){var e=this.options,f=a.ui.keyCode;switch(c.keyCode){case f.UP:return this._repeat(null,1,c),!0;case f.DOWN:return this._repeat(null,-1,c),!0;case f.PAGE_UP:return this._repeat(null,
e.page,c),!0;case f.PAGE_DOWN:return this._repeat(null,-e.page,c),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&
!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,c,e){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,e)},a);this._spin(c*this.options.step,e)},_spin:function(a,c){var e=this.value()||0;this.counter||(this.counter=1);e=this._adjustValue(e+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",c,{value:e})||(this._value(e),this.counter++)},_increment:function(c){var e=this.options.incremental;
return e?a.isFunction(e)?e(c):Math.floor(c*c*c/5E4-c*c/500+17*c/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var c=a.indexOf(".");return-1===c?0:a.length-c-1},_adjustValue:function(a){var c,e=this.options;c=null!==e.min?e.min:0;a=Math.round((a-c)/e.step)*e.step;a=c+a;a=parseFloat(a.toFixed(this._precision()));return null!==e.max&&a>e.max?e.max:
null!==e.min&&a<e.min?e.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,c){if("culture"===a||"numberFormat"===a){var e=this._parse(this.element.val());this.options[a]=c;this.element.val(this._format(e))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof c||(c=this._parse(c)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(c.up),
this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(c.down)),this._super(a,c),"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),this.buttons.button(c?"disable":"enable"))},_setOptions:n(function(a){this._super(a)}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===
a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,c){var e;""!==a&&(e=this._parse(a),null!==e&&(c||(e=this._adjustValue(e)),a=this._format(e)));this.element.val(a);this._refresh()},
_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:n(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:n(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),
this._stop())},pageUp:n(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:n(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());n(this._value).call(this,a)},widget:function(){return this.uiSpinner}});a.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=
/#.*$/;return function(c){var e,f;c=c.cloneNode(!1);e=c.href.replace(a,"");f=location.href.replace(a,"");try{e=decodeURIComponent(e)}catch(g){}try{f=decodeURIComponent(f)}catch(h){}return 1<c.hash.length&&e===f}}(),_create:function(){var c=this,e=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible);this._processTabs();e.active=this._initialActive();a.isArray(e.disabled)&&(e.disabled=a.unique(e.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),
function(a){return c.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(e.active):a();this._refresh();this.active.length&&this.load(e.active)},_initialActive:function(){var c=this.options.active,e=this.options.collapsible,f=location.hash.substring(1);null===c&&(f&&this.tabs.each(function(e,g){if(a(g).attr("aria-controls")===f)return c=e,!1}),null===c&&(c=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===c||-1===c)&&(c=this.tabs.length?0:
!1);!1!==c&&(c=this.tabs.index(this.tabs.eq(c)),-1===c&&(c=e?!1:0));!e&&!1===c&&this.anchors.length&&(c=0);return c},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(c){var e=a(this.document[0].activeElement).closest("li"),f=this.tabs.index(e),g=!0;if(!this._handlePageNav(c)){switch(c.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:f++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:g=!1;f--;break;
case a.ui.keyCode.END:f=this.anchors.length-1;break;case a.ui.keyCode.HOME:f=0;break;case a.ui.keyCode.SPACE:c.preventDefault();clearTimeout(this.activating);this._activate(f);return;case a.ui.keyCode.ENTER:c.preventDefault();clearTimeout(this.activating);this._activate(f===this.options.active?!1:f);return;default:return}c.preventDefault();clearTimeout(this.activating);f=this._focusNextTab(f,g);c.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(f).attr("aria-selected","true"),this.activating=
this._delay(function(){this.option("active",f)},this.delay))}},_panelKeydown:function(c){!this._handlePageNav(c)&&c.ctrlKey&&c.keyCode===a.ui.keyCode.UP&&(c.preventDefault(),this.active.focus())},_handlePageNav:function(c){if(c.altKey&&c.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(c.altKey&&c.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(c,e){function f(){c>
g&&(c=0);0>c&&(c=g);return c}for(var g=this.tabs.length-1;-1!==a.inArray(f(),this.options.disabled);)c=e?c+1:c-1;return c},_focusNextTab:function(a,c){a=this._findNextTab(a,c);this.tabs.eq(a).focus();return a},_setOption:function(a,c){"active"===a?this._activate(c):"disabled"===a?this._setupDisabled(c):(this._super(a,c),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",c),c||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(c),"heightStyle"===a&&this._setupHeightStyle(c))},
_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var c=this.options,e=this.tablist.children(":has(a[href])");c.disabled=a.map(e.filter(".ui-state-disabled"),function(a){return e.index(a)});this._processTabs();!1!==c.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===c.disabled.length?(c.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,c.active-1),!1)):
c.active=this.tabs.index(this.active):(c.active=!1,this.active=a());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",
"aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var c=this,e=this.tabs,f=this.anchors,g=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(c){a(this).is(".ui-state-disabled")&&c.preventDefault()}).delegate(".ui-tabs-anchor",
"focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=a();this.anchors.each(function(e,f){var g,h,l=a(f).uniqueId().attr("id"),m=a(f).closest("li"),p=m.attr("aria-controls");c._isLocal(f)?(g=
f.hash,h=g.substring(1),g=c.element.find(c._sanitizeSelector(g))):(h=m.attr("aria-controls")||a({}).uniqueId()[0].id,g=c.element.find("#"+h),g.length||(g=c._createPanel(h),g.insertAfter(c.panels[e-1]||c.tablist)),g.attr("aria-live","polite"));g.length&&(c.panels=c.panels.add(g));p&&m.data("ui-tabs-aria-controls",p);m.attr({"aria-controls":h,"aria-labelledby":l});g.attr("aria-labelledby",l)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");e&&(this._off(e.not(this.tabs)),
this._off(f.not(this.anchors)),this._off(g.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(c){return a("<div>").attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(c){a.isArray(c)&&(c.length?c.length===this.anchors.length&&(c=!0):c=!1);for(var e=0,f;f=this.tabs[e];e++)!0===c||-1!==a.inArray(e,c)?a(f).addClass("ui-state-disabled").attr("aria-disabled","true"):
a(f).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=c},_setupEvents:function(c){var e={};c&&a.each(c.split(" "),function(a,c){e[c]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,e);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(c){var e,
f=this.element.parent();"fill"===c?(e=f.height(),e-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var c=a(this),f=c.css("position");"absolute"!==f&&"fixed"!==f&&(e-=c.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){e-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===c&&(e=0,this.panels.each(function(){e=Math.max(e,
a(this).height("").height())}).height(e))},_eventHandler:function(c){var e=this.options,f=this.active,g=a(c.currentTarget).closest("li"),h=g[0]===f[0],l=h&&e.collapsible,m=l?a():this._getPanelForTab(g),n=f.length?this._getPanelForTab(f):a(),f={oldTab:f,oldPanel:n,newTab:l?a():g,newPanel:m};c.preventDefault();g.hasClass("ui-state-disabled")||g.hasClass("ui-tabs-loading")||this.running||h&&!e.collapsible||!1===this._trigger("beforeActivate",c,f)||(e.active=l?!1:this.tabs.index(g),this.active=h?a():
g,this.xhr&&this.xhr.abort(),n.length||m.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),m.length&&this.load(this.tabs.index(g),c),this._toggle(c,f))},_toggle:function(c,e){function f(){h.running=!1;h._trigger("activate",c,e)}function g(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active");l.length&&h.options.show?h._show(l,h.options.show,f):(l.show(),f())}var h=this,l=e.newPanel,m=e.oldPanel;this.running=!0;m.length&&this.options.hide?this._hide(m,this.options.hide,
function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");g()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),m.hide(),g());m.attr("aria-hidden","true");e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});l.length&&m.length?e.oldTab.attr("tabIndex",-1):l.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);l.attr("aria-hidden","false");e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},
_activate:function(c){c=this._findActive(c);c[0]!==this.active[0]&&(c.length||(c=this.active),c=c.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(c){return!1===c?a():this.tabs.eq(c)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");
this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});
this.tabs.each(function(){var c=a(this),e=c.data("ui-tabs-aria-controls");e?c.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):c.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var e=this.options.disabled;!1!==e&&(void 0===c?e=!1:(c=this._getIndex(c),e=a.isArray(e)?a.map(e,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,e){return e!==c?e:null})),this._setupDisabled(e))},disable:function(c){var e=
this.options.disabled;if(!0!==e){if(void 0===c)e=!0;else{c=this._getIndex(c);if(-1!==a.inArray(c,e))return;e=a.isArray(e)?a.merge([c],e).sort():[c]}this._setupDisabled(e)}},load:function(c,e){c=this._getIndex(c);var f=this,g=this.tabs.eq(c),h=g.find(".ui-tabs-anchor"),l=this._getPanelForTab(g),m={tab:g,panel:l};this._isLocal(h[0])||(this.xhr=a.ajax(this._ajaxSettings(h,e,m)))&&"canceled"!==this.xhr.statusText&&(g.addClass("ui-tabs-loading"),l.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){l.html(a);
f._trigger("load",e,m)},1)}).complete(function(a,c){setTimeout(function(){"abort"===c&&f.panels.stop(!1,!0);g.removeClass("ui-tabs-loading");l.removeAttr("aria-busy");a===f.xhr&&delete f.xhr},1)}))},_ajaxSettings:function(c,e,f){var g=this;return{url:c.attr("href"),beforeSend:function(c,h){return g._trigger("beforeLoad",e,a.extend({jqXHR:c,ajaxSettings:h},f))}}},_getPanelForTab:function(c){c=a(c).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}});a.widget("ui.tooltip",
{version:"1.11.2",options:{content:function(){var c=a(this).attr("title")||"";return a("<a>").text(c).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(c,e){var f=(c.attr("aria-describedby")||"").split(/\s+/);f.push(e);c.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(f.join(" ")))},_removeDescribedBy:function(c){var e=c.data("ui-tooltip-id"),
f=(c.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(e,f);-1!==e&&f.splice(e,1);c.removeData("ui-tooltip-id");(f=a.trim(f.join(" ")))?c.attr("aria-describedby",f):c.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(c,e){var f=this;"disabled"===c?(this[e?"_disable":"_enable"](),this.options[c]=e):(this._super(c,e),"content"===c&&a.each(this.tooltips,function(a,c){f._updateContent(c.element)}))},_disable:function(){var c=this;a.each(this.tooltips,function(e,f){var g=a.Event("blur");g.target=g.currentTarget=f.element[0];c.close(g,!0)});this.element.find(this.options.items).addBack().each(function(){var c=a(this);c.is("[title]")&&c.data("ui-tooltip-title",c.attr("title")).removeAttr("title")})},
_enable:function(){this.element.find(this.options.items).addBack().each(function(){var c=a(this);c.data("ui-tooltip-title")&&c.attr("title",c.data("ui-tooltip-title"))})},open:function(c){var e=this,f=a(c?c.target:this.element).closest(this.options.items);f.length&&!f.data("ui-tooltip-id")&&(f.attr("title")&&f.data("ui-tooltip-title",f.attr("title")),f.data("ui-tooltip-open",!0),c&&"mouseover"===c.type&&f.parents().each(function(){var c=a(this),f;c.data("ui-tooltip-open")&&(f=a.Event("blur"),f.target=
f.currentTarget=this,e.close(f,!0));c.attr("title")&&(c.uniqueId(),e.parents[this.id]={element:this,title:c.attr("title")},c.attr("title",""))}),this._updateContent(f,c))},_updateContent:function(a,c){var e;e=this.options.content;var f=this,g=c?c.type:null;if("string"===typeof e)return this._open(c,a,e);(e=e.call(a[0],function(e){a.data("ui-tooltip-open")&&f._delay(function(){c&&(c.type=g);this._open(c,a,e)})}))&&this._open(c,a,e)},_open:function(c,e,f){function g(a){n.of=a;l.is(":hidden")||l.position(n)}
var h,l,m,n=a.extend({},this.options.position);f&&((h=this._find(e))?h.tooltip.find(".ui-tooltip-content").html(f):(e.is("[title]")&&(c&&"mouseover"===c.type?e.attr("title",""):e.removeAttr("title")),h=this._tooltip(e),l=h.tooltip,this._addDescribedBy(e,l.attr("id")),l.find(".ui-tooltip-content").html(f),this.liveRegion.children().hide(),f.clone&&(f=f.clone(),f.removeAttr("id").find("[id]").removeAttr("id")),a("<div>").html(f).appendTo(this.liveRegion),this.options.track&&c&&/^mouse/.test(c.type)?
(this._on(this.document,{mousemove:g}),g(c)):l.position(a.extend({of:e},this.options.position)),l.hide(),this._show(l,this.options.show),this.options.show&&this.options.show.delay&&(m=this.delayedShow=setInterval(function(){l.is(":visible")&&(g(n.of),clearInterval(m))},a.fx.interval)),this._trigger("open",c,{tooltip:l}),f={keyup:function(c){c.keyCode===a.ui.keyCode.ESCAPE&&(c=a.Event(c),c.currentTarget=e[0],this.close(c,!0))}},e[0]!==this.element[0]&&(f.remove=function(){this._removeTooltip(l)}),
c&&"mouseover"!==c.type||(f.mouseleave="close"),c&&"focusin"!==c.type||(f.focusout="close"),this._on(!0,e,f)))},close:function(c){var e,f=this,g=a(c?c.currentTarget:this.element),h=this._find(g);h&&(e=h.tooltip,h.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),h.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){f._removeTooltip(a(this))}),g.removeData("ui-tooltip-open"),this._off(g,
"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),c&&"mouseleave"===c.type&&a.each(this.parents,function(c,e){a(e.element).attr("title",e.title);delete f.parents[c]}),h.closing=!0,this._trigger("close",c,{tooltip:e}),h.hiding||(h.closing=!1)))},_tooltip:function(c){var e=a("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),f=e.uniqueId().attr("id");a("<div>").addClass("ui-tooltip-content").appendTo(e);
e.appendTo(this.document[0].body);return this.tooltips[f]={element:c,tooltip:e}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var c=this;a.each(this.tooltips,function(e,f){var g=a.Event("blur"),h=f.element;g.target=g.currentTarget=h[0];c.close(g,!0);a("#"+e).remove();h.data("ui-tooltip-title")&&(h.attr("title")||h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))});
this.liveRegion.remove()}})});window.define=window.$$define;define("jqueryui",[],function(){});delete window.$$define;if("undefined"===typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");
+function(a){function f(){var a=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in e)if(void 0!==a.style[f])return{end:e[f]};return!1}a.fn.emulateTransitionEnd=function(c){var e=!1,f=this;a(this).one("bsTransitionEnd",function(){e=!0});setTimeout(function(){e||a(f).trigger(a.support.transition.end)},c);return this};a(function(){a.support.transition=f();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(c){if(a(c.target).is(this))return c.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){var f=function(c){a(c).on("click",'[data-dismiss="alert"]',this.close)};f.VERSION="3.2.0";f.prototype.close=function(c){function f(){m.detach().trigger("closed.bs.alert").remove()}var g=a(this),l=g.attr("data-target");l||(l=(l=g.attr("href"))&&l.replace(/.*(?=#[^\s]*$)/,""));var m=a(l);c&&c.preventDefault();m.length||(m=g.hasClass("alert")?g:g.parent());m.trigger(c=a.Event("close.bs.alert"));c.isDefaultPrevented()||(m.removeClass("in"),a.support.transition&&m.hasClass("fade")?m.one("bsTransitionEnd",
f).emulateTransitionEnd(150):f())};var c=a.fn.alert;a.fn.alert=function(c){return this.each(function(){var h=a(this),g=h.data("bs.alert");g||h.data("bs.alert",g=new f(this));"string"==typeof c&&g[c].call(h)})};a.fn.alert.Constructor=f;a.fn.alert.noConflict=function(){a.fn.alert=c;return this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f.prototype.close)}(jQuery);
+function(a){function f(e){return this.each(function(){var f=a(this),l=f.data("bs.button"),m="object"==typeof e&&e;l||f.data("bs.button",l=new c(this,m));"toggle"==e?l.toggle():e&&l.setState(e)})}var c=function(e,f){this.$element=a(e);this.options=a.extend({},c.DEFAULTS,f);this.isLoading=!1};c.VERSION="3.2.0";c.DEFAULTS={loadingText:"loading..."};c.prototype.setState=function(c){var e=this.$element,f=e.is("input")?"val":"html",m=e.data();c+="Text";null==m.resetText&&e.data("resetText",e[f]());e[f](null==
m[c]?this.options[c]:m[c]);setTimeout(a.proxy(function(){"loadingText"==c?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled"))},this),0)};c.prototype.toggle=function(){var a=!0,c=this.$element.closest('[data-toggle="buttons"]');if(c.length){var e=this.$element.find("input");"radio"==e.prop("type")&&(e.prop("checked")&&this.$element.hasClass("active")?a=!1:c.find(".active").removeClass("active"));
a&&e.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var e=a.fn.button;a.fn.button=f;a.fn.button.Constructor=c;a.fn.button.noConflict=function(){a.fn.button=e;return this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var e=a(c.target);e.hasClass("btn")||(e=e.closest(".btn"));f.call(e,"toggle");c.preventDefault()})}(jQuery);
+function(a){function f(e){return this.each(function(){var f=a(this),l=f.data("bs.carousel"),m=a.extend({},c.DEFAULTS,f.data(),"object"==typeof e&&e),n="string"==typeof e?e:m.slide;l||f.data("bs.carousel",l=new c(this,m));if("number"==typeof e)l.to(e);else if(n)l[n]();else m.interval&&l.pause().cycle()})}var c=function(c,e){this.$element=a(c).on("keydown.bs.carousel",a.proxy(this.keydown,this));this.$indicators=this.$element.find(".carousel-indicators");this.options=e;this.paused=this.sliding=this.interval=
this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0";c.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()};c.prototype.cycle=function(c){c||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&
(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};c.prototype.getItemIndex=function(a){this.$items=a.parent().children(".item");return this.$items.index(a||this.$active)};c.prototype.to=function(c){var e=this,f=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(c>this.$items.length-1||0>c))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(c)}):f==c?this.pause().cycle():this.slide(c>f?"next":"prev",a(this.$items[c]))};
c.prototype.pause=function(c){c||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};c.prototype.next=function(){if(!this.sliding)return this.slide("next")};c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};c.prototype.slide=function(c,e){var f=this.$element.find(".item.active"),m=e||f[c](),n=this.interval,q="next"==c?"left":"right",
r="next"==c?"first":"last",s=this;if(!m.length){if(!this.options.wrap)return;m=this.$element.find(".item")[r]()}if(m.hasClass("active"))return this.sliding=!1;var r=m[0],u=a.Event("slide.bs.carousel",{relatedTarget:r,direction:q});this.$element.trigger(u);if(!u.isDefaultPrevented()){this.sliding=!0;n&&this.pause();this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(u=a(this.$indicators.children()[this.getItemIndex(m)]))&&u.addClass("active"));var x=a.Event("slid.bs.carousel",
{relatedTarget:r,direction:q});a.support.transition&&this.$element.hasClass("slide")?(m.addClass(c),m[0].offsetWidth,f.addClass(q),m.addClass(q),f.one("bsTransitionEnd",function(){m.removeClass([c,q].join(" ")).addClass("active");f.removeClass(["active",q].join(" "));s.sliding=!1;setTimeout(function(){s.$element.trigger(x)},0)}).emulateTransitionEnd(1E3*f.css("transition-duration").slice(0,-1))):(f.removeClass("active"),m.addClass("active"),this.sliding=!1,this.$element.trigger(x));n&&this.cycle();
return this}};var e=a.fn.carousel;a.fn.carousel=f;a.fn.carousel.Constructor=c;a.fn.carousel.noConflict=function(){a.fn.carousel=e;return this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var e,l=a(this),m=a(l.attr("data-target")||(e=l.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(m.hasClass("carousel")){e=a.extend({},m.data(),l.data());if(l=l.attr("data-slide-to"))e.interval=!1;f.call(m,e);l&&m.data("bs.carousel").to(l);c.preventDefault()}});a(window).on("load",
function(){a('[data-ride="carousel"]').each(function(){var c=a(this);f.call(c,c.data())})})}(jQuery);
+function(a){function f(e){return this.each(function(){var f=a(this),l=f.data("bs.collapse"),m=a.extend({},c.DEFAULTS,f.data(),"object"==typeof e&&e);!l&&m.toggle&&"show"==e&&(e=!e);l||f.data("bs.collapse",l=new c(this,m));if("string"==typeof e)l[e]()})}var c=function(e,f){this.$element=a(e);this.options=a.extend({},c.DEFAULTS,f);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};c.VERSION="3.2.0";c.DEFAULTS={toggle:!0};c.prototype.dimension=
function(){return this.$element.hasClass("width")?"width":"height"};c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){if((c=this.$parent&&this.$parent.find("> .panel > .in"))&&c.length){var e=c.data("bs.collapse");if(e&&e.transitioning)return;f.call(c,"hide");e||c.data("bs.collapse",null)}var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0);this.transitioning=
1;c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return c.call(this);e=a.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",a.proxy(c,this)).emulateTransitionEnd(350)[l](this.$element[0][e])}}};c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=a.Event("hide.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){c=
this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var e=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return e.call(this);this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(350)}}};c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":
"show"]()};var e=a.fn.collapse;a.fn.collapse=f;a.fn.collapse.Constructor=c;a.fn.collapse.noConflict=function(){a.fn.collapse=e;return this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var e,l=a(this);c=l.attr("data-target")||c.preventDefault()||(e=l.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");e=a(c);var m=(c=e.data("bs.collapse"))?"toggle":l.data(),n=l.attr("data-parent"),q=n&&a(n);c&&c.transitioning||(q&&q.find('[data-toggle="collapse"][data-parent="'+n+'"]').not(l).addClass("collapsed"),
l[e.hasClass("in")?"addClass":"removeClass"]("collapsed"));f.call(e,m)})}(jQuery);
+function(a){function f(f){f&&3===f.which||(a(e).remove(),a(h).each(function(){var e=c(a(this)),g={relatedTarget:this};e.hasClass("open")&&(e.trigger(f=a.Event("hide.bs.dropdown",g)),f.isDefaultPrevented()||e.removeClass("open").trigger("hidden.bs.dropdown",g))}))}function c(c){var e=c.attr("data-target");e||(e=(e=c.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));return(e=e&&a(e))&&e.length?e:c.parent()}var e=".dropdown-backdrop",h='[data-toggle="dropdown"]',g=function(c){a(c).on("click.bs.dropdown",
this.toggle)};g.VERSION="3.2.0";g.prototype.toggle=function(e){var g=a(this);if(!g.is(".disabled, :disabled")){var h=c(g);e=h.hasClass("open");f();if(!e){if("ontouchstart"in document.documentElement&&!h.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",f);var l={relatedTarget:this};h.trigger(e=a.Event("show.bs.dropdown",l));if(e.isDefaultPrevented())return;g.trigger("focus");h.toggleClass("open").trigger("shown.bs.dropdown",l)}return!1}};g.prototype.keydown=
function(e){if(/(38|40|27)/.test(e.keyCode)){var f=a(this);e.preventDefault();e.stopPropagation();if(!f.is(".disabled, :disabled")){var g=c(f),l=g.hasClass("open");if(!l||l&&27==e.keyCode)return 27==e.which&&g.find(h).trigger("focus"),f.trigger("click");f=g.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');f.length&&(g=f.index(f.filter(":focus")),38==e.keyCode&&0<g&&g--,40==e.keyCode&&g<f.length-1&&g++,~g||(g=0),f.eq(g).trigger("focus"))}}};var l=a.fn.dropdown;
a.fn.dropdown=function(c){return this.each(function(){var e=a(this),f=e.data("bs.dropdown");f||e.data("bs.dropdown",f=new g(this));"string"==typeof c&&f[c].call(e)})};a.fn.dropdown.Constructor=g;a.fn.dropdown.noConflict=function(){a.fn.dropdown=l;return this};a(document).on("click.bs.dropdown.data-api",f).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",h,g.prototype.toggle).on("keydown.bs.dropdown.data-api",h+', [role="menu"], [role="listbox"]',
g.prototype.keydown)}(jQuery);
+function(a){function f(e,f){return this.each(function(){var l=a(this),m=l.data("bs.modal"),n=a.extend({},c.DEFAULTS,l.data(),"object"==typeof e&&e);m||l.data("bs.modal",m=new c(this,n));if("string"==typeof e)m[e](f);else n.show&&m.show(f)})}var c=function(c,e){this.options=e;this.$body=a(document.body);this.$element=a(c);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};
c.VERSION="3.2.0";c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};c.prototype.show=function(c){var e=this,f=a.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(f);this.isShown||f.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var f=
a.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(e.$body);e.$element.show().scrollTop(0);f&&e.$element[0].offsetWidth;e.$element.addClass("in").attr("aria-hidden",!1);e.enforceFocus();var l=a.Event("shown.bs.modal",{relatedTarget:c});f?e.$element.find(".modal-dialog").one("bsTransitionEnd",function(){e.$element.trigger("focus").trigger(l)}).emulateTransitionEnd(300):e.$element.trigger("focus").trigger(l)}))};c.prototype.hide=function(c){c&&c.preventDefault();
c=a.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",
a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};c.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};c.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})};c.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};c.prototype.backdrop=function(c){var e=this,f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var m=a.support.transition&&f;this.$backdrop=a('<div class="modal-backdrop '+f+'" />').appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));
m&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c&&(m?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),f=function(){e.removeBackdrop();c&&c()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()):c&&c()};c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||
this.measureScrollbar())};c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)};c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var c=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return c};var e=a.fn.modal;a.fn.modal=
f;a.fn.modal.Constructor=c;a.fn.modal.noConflict=function(){a.fn.modal=e;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var e=a(this),l=e.attr("href"),m=a(e.attr("data-target")||l&&l.replace(/.*(?=#[^\s]+$)/,"")),l=m.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(l)&&l},m.data(),e.data());e.is("a")&&c.preventDefault();m.one("show.bs.modal",function(a){if(!a.isDefaultPrevented())m.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})});
f.call(m,l,this)})}(jQuery);
+function(a){var f=function(a,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,c)};f.VERSION="3.2.0";f.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};f.prototype.init=function(c,f,g){this.enabled=!0;this.type=c;this.$element=
a(f);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);c=this.options.trigger.split(" ");for(f=c.length;f--;)if(g=c[f],"click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var l="hover"==g?"mouseleave":"focusout";this.$element.on(("hover"==g?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(l+"."+this.type,
this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};f.prototype.getDefaults=function(){return f.DEFAULTS};f.prototype.getOptions=function(c){c=a.extend({},this.getDefaults(),this.$element.data(),c);c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay});return c};f.prototype.getDelegateOptions=function(){var c={},f=this.getDefaults();this._options&&a.each(this._options,function(a,
l){f[a]!=l&&(c[a]=l)});return c};f.prototype.enter=function(c){var f=c instanceof this.constructor?c:a(c.currentTarget).data("bs."+this.type);f||(f=new this.constructor(c.currentTarget,this.getDelegateOptions()),a(c.currentTarget).data("bs."+this.type,f));clearTimeout(f.timeout);f.hoverState="in";if(!f.options.delay||!f.options.delay.show)return f.show();f.timeout=setTimeout(function(){"in"==f.hoverState&&f.show()},f.options.delay.show)};f.prototype.leave=function(c){var f=c instanceof this.constructor?
c:a(c.currentTarget).data("bs."+this.type);f||(f=new this.constructor(c.currentTarget,this.getDelegateOptions()),a(c.currentTarget).data("bs."+this.type,f));clearTimeout(f.timeout);f.hoverState="out";if(!f.options.delay||!f.options.delay.hide)return f.hide();f.timeout=setTimeout(function(){"out"==f.hoverState&&f.hide()},f.options.delay.hide)};f.prototype.show=function(){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var f=a.contains(document.documentElement,
this.$element[0]);if(!c.isDefaultPrevented()&&f){var g=this,c=this.tip(),f=this.getUID(this.type);this.setContent();c.attr("id",f);this.$element.attr("aria-describedby",f);this.options.animation&&c.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,m=l.test(f);m&&(f=f.replace(l,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(f).data("bs."+this.type,this);this.options.container?
c.appendTo(this.options.container):c.insertAfter(this.$element);var l=this.getPosition(),n=c[0].offsetWidth,q=c[0].offsetHeight;if(m){var m=f,r=this.$element.parent(),r=this.getPosition(r),f="bottom"==f&&l.top+l.height+q-r.scroll>r.height?"top":"top"==f&&0>l.top-r.scroll-q?"bottom":"right"==f&&l.right+n>r.width?"left":"left"==f&&l.left-n<r.left?"right":f;c.removeClass(m).addClass(f)}l=this.getCalculatedOffset(f,l,n,q);this.applyPlacement(l,f);f=function(){g.$element.trigger("shown.bs."+g.type);g.hoverState=
null};a.support.transition&&this.$tip.hasClass("fade")?c.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}}};f.prototype.applyPlacement=function(c,f){var g=this.tip(),l=g[0].offsetWidth,m=g[0].offsetHeight,n=parseInt(g.css("margin-top"),10),q=parseInt(g.css("margin-left"),10);isNaN(n)&&(n=0);isNaN(q)&&(q=0);c.top+=n;c.left+=q;a.offset.setOffset(g[0],a.extend({using:function(a){g.css({top:Math.round(a.top),left:Math.round(a.left)})}},c),0);g.addClass("in");var q=g[0].offsetWidth,r=g[0].offsetHeight;
"top"==f&&r!=m&&(c.top=c.top+m-r);n=this.getViewportAdjustedDelta(f,c,q,r);n.left?c.left+=n.left:c.top+=n.top;l=n.left?2*n.left-l+q:2*n.top-m+r;m=n.left?"left":"top";n=n.left?"offsetWidth":"offsetHeight";g.offset(c);this.replaceArrow(l,g[0][n],m)};f.prototype.replaceArrow=function(a,c,f){this.arrow().css(f,a?50*(1-a/c)+"%":"")};f.prototype.setContent=function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")};
f.prototype.hide=function(){function c(){"in"!=f.hoverState&&g.detach();f.$element.trigger("hidden.bs."+f.type)}var f=this,g=this.tip(),l=a.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby");this.$element.trigger(l);if(!l.isDefaultPrevented())return g.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(150):c(),this.hoverState=null,this};f.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=
typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};f.prototype.hasContent=function(){return this.getTitle()};f.prototype.getPosition=function(c){c=c||this.$element;var f=c[0],g="BODY"==f.tagName;return a.extend({},"function"==typeof f.getBoundingClientRect?f.getBoundingClientRect():null,{scroll:g?document.documentElement.scrollTop||document.body.scrollTop:c.scrollTop(),width:g?a(window).width():c.outerWidth(),height:g?a(window).height():c.outerHeight()},
g?{top:0,left:0}:c.offset())};f.prototype.getCalculatedOffset=function(a,c,f,l){return"bottom"==a?{top:c.top+c.height,left:c.left+c.width/2-f/2}:"top"==a?{top:c.top-l,left:c.left+c.width/2-f/2}:"left"==a?{top:c.top+c.height/2-l/2,left:c.left-f}:{top:c.top+c.height/2-l/2,left:c.left+c.width}};f.prototype.getViewportAdjustedDelta=function(a,c,f,l){var m={top:0,left:0};if(!this.$viewport)return m;var n=this.options.viewport&&this.options.viewport.padding||0,q=this.getPosition(this.$viewport);/right|left/.test(a)?
(f=c.top-n-q.scroll,c=c.top+n-q.scroll+l,f<q.top?m.top=q.top-f:c>q.top+q.height&&(m.top=q.top+q.height-c)):(l=c.left-n,c=c.left+n+f,l<q.left?m.left=q.left-l:c>q.width&&(m.left=q.left+q.width-c));return m};f.prototype.getTitle=function(){var a=this.$element,c=this.options;return a.attr("data-original-title")||("function"==typeof c.title?c.title.call(a[0]):c.title)};f.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};f.prototype.tip=function(){return this.$tip=
this.$tip||a(this.options.template)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};f.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};f.prototype.enable=function(){this.enabled=!0};f.prototype.disable=function(){this.enabled=!1};f.prototype.toggleEnabled=function(){this.enabled=!this.enabled};f.prototype.toggle=function(c){var f=this;c&&(f=a(c.currentTarget).data("bs."+this.type),f||(f=new this.constructor(c.currentTarget,
this.getDelegateOptions()),a(c.currentTarget).data("bs."+this.type,f)));f.tip().hasClass("in")?f.leave(f):f.enter(f)};f.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var h=a(this),g=h.data("bs.tooltip"),l="object"==typeof c&&c;if(g||"destroy"!=c)if(g||h.data("bs.tooltip",g=new f(this,l)),"string"==typeof c)g[c]()})};a.fn.tooltip.Constructor=f;a.fn.tooltip.noConflict=
function(){a.fn.tooltip=c;return this}}(jQuery);
+function(a){var f=function(a,c){this.init("popover",a,c)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");f.VERSION="3.2.0";f.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});f.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);f.prototype.constructor=f;f.prototype.getDefaults=function(){return f.DEFAULTS};
f.prototype.setContent=function(){var a=this.tip(),c=this.getTitle(),f=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content").empty()[this.options.html?"string"==typeof f?"html":"append":"text"](f);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};f.prototype.hasContent=function(){return this.getTitle()||this.getContent()};f.prototype.getContent=function(){var a=this.$element,c=this.options;
return a.attr("data-content")||("function"==typeof c.content?c.content.call(a[0]):c.content)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};f.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var h=a(this),g=h.data("bs.popover"),l="object"==typeof c&&c;if(g||"destroy"!=c)if(g||h.data("bs.popover",g=new f(this,l)),"string"==typeof c)g[c]()})};a.fn.popover.Constructor=
f;a.fn.popover.noConflict=function(){a.fn.popover=c;return this}}(jQuery);
+function(a){function f(c,e){var l=a.proxy(this.process,this);this.$body=a("body");this.$scrollElement=a(c).is("body")?a(window):a(c);this.options=a.extend({},f.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",l);this.refresh();this.process()}function c(c){return this.each(function(){var e=a(this),l=e.data("bs.scrollspy"),m="object"==typeof c&&c;l||e.data("bs.scrollspy",
l=new f(this,m));if("string"==typeof c)l[c]()})}f.VERSION="3.2.0";f.DEFAULTS={offset:10};f.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};f.prototype.refresh=function(){var c="offset",e=0;a.isWindow(this.$scrollElement[0])||(c="position",e=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var f=this;this.$body.find(this.selector).map(function(){var f=
a(this),f=f.data("target")||f.attr("href"),l=/^#./.test(f)&&a(f);return l&&l.length&&l.is(":visible")&&[[l[c]().top+e,f]]||null}).sort(function(a,c){return a[0]-c[0]}).each(function(){f.offsets.push(this[0]);f.targets.push(this[1])})};f.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),e=this.options.offset+c-this.$scrollElement.height(),f=this.offsets,n=this.targets,q=this.activeTarget,r;this.scrollHeight!=c&&this.refresh();if(a>=e)return q!=
(r=n[n.length-1])&&this.activate(r);if(q&&a<=f[0])return q!=(r=n[0])&&this.activate(r);for(r=f.length;r--;)q!=n[r]&&a>=f[r]&&(!f[r+1]||a<=f[r+1])&&this.activate(n[r])};f.prototype.activate=function(c){this.activeTarget=c;a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");c=a(this.selector+'[data-target="'+c+'"],'+this.selector+'[href="'+c+'"]').parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active"));c.trigger("activate.bs.scrollspy")};
var e=a.fn.scrollspy;a.fn.scrollspy=c;a.fn.scrollspy.Constructor=f;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=e;return this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var e=a(this);c.call(e,e.data())})})}(jQuery);
+function(a){function f(e){return this.each(function(){var f=a(this),l=f.data("bs.tab");l||f.data("bs.tab",l=new c(this));if("string"==typeof e)l[e]()})}var c=function(c){this.element=a(c)};c.VERSION="3.2.0";c.prototype.show=function(){var c=this.element,e=c.closest("ul:not(.dropdown-menu)"),f=c.data("target");f||(f=(f=c.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));if(!c.parent("li").hasClass("active")){var m=e.find(".active:last a")[0],n=a.Event("show.bs.tab",{relatedTarget:m});c.trigger(n);n.isDefaultPrevented()||
(f=a(f),this.activate(c.closest("li"),e),this.activate(f,f.parent(),function(){c.trigger({type:"shown.bs.tab",relatedTarget:m})}))}};c.prototype.activate=function(c,e,f){function m(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");c.addClass("active");q?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu")&&c.closest("li.dropdown").addClass("active");f&&f()}var n=e.find("> .active"),q=f&&a.support.transition&&n.hasClass("fade");q?n.one("bsTransitionEnd",
m).emulateTransitionEnd(150):m();n.removeClass("in")};var e=a.fn.tab;a.fn.tab=f;a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){a.fn.tab=e;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault();f.call(a(this),"show")})}(jQuery);
+function(a){function f(e){return this.each(function(){var f=a(this),l=f.data("bs.affix"),m="object"==typeof e&&e;l||f.data("bs.affix",l=new c(this,m));if("string"==typeof e)l[e]()})}var c=function(e,f){this.options=a.extend({},c.DEFAULTS,f);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(e);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
c.VERSION="3.2.0";c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0,target:window};c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=a(document).height(),
f=this.$target.scrollTop(),l=this.$element.offset(),m=this.options.offset,n=m.top,q=m.bottom;"object"!=typeof m&&(q=n=m);"function"==typeof n&&(n=m.top(this.$element));"function"==typeof q&&(q=m.bottom(this.$element));f=null!=this.unpin&&f+this.unpin<=l.top?!1:null!=q&&l.top+this.$element.height()>=e-q?"bottom":null!=n&&f<=n?"top":!1;this.affixed!==f&&(null!=this.unpin&&this.$element.css("top",""),l="affix"+(f?"-"+f:""),m=a.Event(l+".bs.affix"),this.$element.trigger(m),m.isDefaultPrevented()||(this.affixed=
f,this.unpin="bottom"==f?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(l).trigger(a.Event(l.replace("affix","affixed"))),"bottom"==f&&this.$element.offset({top:e-this.$element.height()-q})))}};var e=a.fn.affix;a.fn.affix=f;a.fn.affix.Constructor=c;a.fn.affix.noConflict=function(){a.fn.affix=e;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),e=c.data();e.offset=e.offset||{};e.offsetBottom&&(e.offset.bottom=e.offsetBottom);e.offsetTop&&
(e.offset.top=e.offsetTop);f.call(c,e)})})}(jQuery);define("bootstrap",function(){});var Com=Com||{string:null,cookie:null,event:null,dom:null,file:null,page:null,lang:null,array:null,format:null,date:null};
Com.lang={isElement:function(a){return!(!a||!a.nodeName||1!=a.nodeType)},isObject:function(a){return"function"===typeof a||"object"===typeof a&&null!==a},getProperty:function(a,f){if("string"!=typeof a||"object"!=typeof f)return null;if(f.hasOwnProperty(a))return f[a];for(var c in f)if("object"==typeof f[c])return Com.getProperty(a,f[c]);return null},exchange:function(a,f){},hasProperty:function(a){for(var f in a)return!0;return!1},inherits:function(a,f,c){var e,h,g=a.prototype,l=new Function;l.prototype=
f.prototype;h=a.prototype=new l;for(e in g)h[e]=g[e];a.prototype.constructor=a;a.superClass=f.prototype;"string"==typeof c&&(h.__type=c);a.extend=function(c){for(var e in c)h[e]=c[e];return a};return a},removeZeroNumberForJson:function(a,f){if(("string"==typeof a||a instanceof Array)&&"object"==typeof f){var c=[];"string"==typeof c?c[0]=c:c=a;for(var e in f)if("object"==typeof f[e])Com.lang.removeZeroNumberForJson(c,f[e]);else for(var h=0,g=c.length;h<g;h++)e==c[h]&&0===parseInt(f[e],10)&&(f[e]="")}},
removeNullForJson:function(a){for(var f in a)Com.lang.isObject(a[f])?Com.lang.removeNullForJson(props,a[f]):f||delete a.prop}};
Com.event={preventDefault:function(a){a=a||window.event;try{a.preventDefault()}catch(f){a.returnValue=!1}},getMousePosition:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},isMouseOutElement:function(a,f){f=window.event||f;var c=Com.getMousePosition(f),e=a.offset(),h=a.width(),g=a.height();return c.x<e.left||c.y<e.top||c.x>e.left+h||c.y>e.top+g}};
Com.array={trim:function(a){for(var f=a.length;0<--f;)void 0!==a[f]&&""!==a[f]||a.splice(f,1);return a},unique:function(a){for(var f=a.length;0<--f;)for(var c=0;c<f;c++)if(a[f]==a[c]){a.splice(f,1);break}return a},removeItem:function(a,f){var c,e;e=0;for(var h=a.length;e<h;e++)if(a[e]===f)return c=a.slice(0,e),e=a.slice(e+1,h),c.concat(e);return a},indexOf:function(a,f,c){var e=a.length;c=Number(c)||0;c=0>c?Math.ceil(c):Math.floor(c);for(0>c&&(c+=e);c<e;c++)if(c in a&&a[c]===f)return c;return-1},
sortBy:function(a,f,c){if(!a||!a.length)return a;c="desc"===c?"desc":"asc";f=f||"id";for(var e=function(a,c){var e=a[c-1];a[c-1]=a[c];a[c]=e},h,g,l=a.length-2;0<=l;l--)for(var m=1,n=a.length;m<n;m++){h=a[m];g=a[m-1];if(!h[f]||!g[f])return;"desc"===c&&h[f]>g[f]?e(a,m):"asc"==c&&h[f]<g[f]&&e(a,m)}console.log("sort done",a);return a}};
Com.cookie={_isValidKey:function(a){return RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(a)},getRaw:function(a){return Com.cookie._isValidKey(a)&&(a=RegExp("(^| )"+a+"=([^;]*)(;|$)").exec(document.cookie))?a[2]||null:null},get:function(a){a=Com.cookie.getRaw(a);return"string"==typeof a?a=decodeURIComponent(a):null},setRaw:function(a,f,c){if(Com.cookie._isValidKey(a)){c=c||{};var e=c.expires;"number"==typeof c.expires&&(e=new Date,e.setTime(e.getTime()+
c.expires));document.cookie=a+"="+f+(c.path?"; path="+c.path:"")+(e?"; expires="+e.toGMTString():"")+(c.domain?"; domain="+c.domain:"")+(c.secure?"; secure":"")}},remove:function(a,f){f=f||{};f.expires=new Date(0);Com.cookie.setRaw(a,"",f)},set:function(a,f,c){Com.cookie.setRaw(a,encodeURIComponent(f),c)}};
Com.dom={getParentByCss:function(a,f){"."===f.substr(0,1)&&(f=f.substr(1,f.length));for(var c="";(a=a.parentNode)&&a!=document.documentElement;){if(a.className==f)return a;c=a.className.split(" ");if(0<c.length)for(var e=0,h=c.length;e<h;e++)if(c[e]==f)return a}return null},getParentByTag:function(a,f){for(;a!=document.documentElement;){if(a.tagName.toLowerCase()==f.toLowerCase())return a;a=a.parentNode}return null},getPosition:function(a){for(var f=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)f+=
a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{x:f,y:c}},setSizeToScroll:function(a){var f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),f=Math.max(f,document.body.offsetWidth),c=Math.max(c,document.body.offsetHeight);a.style.width=f+"px";a.style.height=c+"px"},getStyle:function(a){var f=[],c={};if(a)a=a.nodeType?a.getAttribute("style"):a;else return a;a&&1<a.length&&(f=a.split(";"));var e=
-1,h,g;f.forEach(function(a,f){a&&(e=a.indexOf(":"),-1!=e&&(h=a.substr(0,e),g=a.substr(e+1)||"",c[$.trim(h)]=$.trim(g).replace(/\"/g,"'")))});return c}};
Com.string={getStrLength:function(a){"string"!=typeof a&&(a=a.toString());for(var f=0,c=0,e=a.length;c<e;c++)f=255<a.charCodeAt(c)?f+2:f+1;return f},substrCn:function(a,f){"string"!=typeof a&&(a=a.toString());var c=[],e=0,h=0;if(a.length<f)return a;for(f*=2;e<f;)255<a.charCodeAt(h)?e+=2:e++,c.push(a.charAt(h)),h++;e>f&&c.pop();return c.join("")},replaceAll:function(a,f,c){c=c||"";if(!f||0>=f.length)return a;f instanceof Array||(f=[f]);for(var e="\\,!^${}[]().*+?|<>-&".split(""),h="",g,l=0,m=f.length;l<
m;){g=f[l];for(var n=0,q=g.length;n<q;n++)h=e.indexOf&&-1!=e.indexOf(g[n])||-1!=Com.array.indexOf(e,g[n])?h+("\\"+g[n]):h+g[n];g=h;a=a.replace(RegExp(g,"gmi"),c);++l}return a},createUUID:function(a,f){return function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(a,f).toLowerCase()}}(/[xy]/g,function(a){var f=16*Math.random()|0;return("x"==a?f:f&3|8).toString(16)}),decodeHTML:function(a){return String(a).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&#([\d]+);/g,
function(a,c){return String.fromCharCode(parseInt(c,10))})},filterHTML:function(a){if(!a||""===a)return a;a=a.replace(/<\/?[^>]*>/g,"");a=a.replace(/[ | ]*\n/g,"\n");a=a.replace(/\n[\s| | ]*\r/g,"\n");return a=a.replace(/&nbsp;/ig,"")},encodeHTML:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):a},encodeHTML4Gird:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):
a},enUnicode:function(a){for(var f=[],c="",c="",e=0,h=a.length;e<h;e++)c=a.charCodeAt(e),c="\\u"+("00"+c.toString(16)).slice(-4),f.push(c);return f.join("")},deUnicode:function(a){a=a.replace(/\\/g,"%");return unescape(a)},getSeconds:function(a){return Com.date.getMilliSecondByTime(a)},filterSpecialChars:function(a,f){var c=",!\\^${}[]().*+?|<>-&".split(""),e=RegExp("h","g");$.each(f,function(f,g){g=-1!=c.indexOf(g)?"\\"+g:g;e.compile(g,"g");a=a.replace(e,"")});return a},paramToJSON:function(a){var f=
{};a=a.split("&");for(var c in a){var e=a[c].split("=");e[0]&&(f[decodeURIComponent(e[0])]=e[1]?decodeURIComponent(e[1]):null)}return f}};
Com.file={getExt:function(a){if(!a)return null;var f=a.lastIndexOf(".");return a.substr(f+1).toLowerCase()},getName:function(a){if(!a)return null;var f=a.lastIndexOf(".");return a.substr(0,f).toLowerCase()},formatSize:function(a,f){var c=f?1E3:1024,e=a;if(a<c)return a+" B";var h=f?"KB MB GB TB PB EB ZB YB".split(" "):"KMGTPEZY".split(""),g=-1;do a/=c,++g;while(a>=c);return e>c*c*c?a.toFixed(2)+" "+h[g]:Math.round(a.toFixed(2))+" "+h[g]},unFormatSize:function(a){if("string"!==typeof a)return 0;var f=
a.split(" ")[0];a=a.split(" ")[1];return f*{GB:1E9,MB:1E6,KB:1E3,G:1262485504,M:1232896,K:1024}[a]},formatBitrate:function(a){return"number"!==typeof a?"":1073741824<=a?(a/1073741824).toFixed(2)+" GB/s":1048576<=a?(a/1048576).toFixed(2)+" MB/s":1024<=a?(a/1024).toFixed(2)+" KB/s":a.toFixed(2)+" Byte/s"},getObjectURL:function(a){var f;void 0!==window.createObjectURL?f=window.createObjectURL(a):void 0!==window.URL?f=window.URL.createObjectURL(a):void 0!==window.webkitURL&&(f=window.webkitURL.createObjectURL(a));
return f}};
Com.browser={_getUserAgent:function(){var a=navigator.userAgent,f={isStrict:"CSS1Compat"==document.compatMode,isGecko:/gecko/i.test(a)&&!/like gecko/i.test(a),isWebkit:/webkit/i.test(a)};try{/(\d+\.\d+)/.test(external.max_version)&&(f.maxthon=+RegExp.$1)}catch(c){console.log(c)}/msie (\d+\.\d+)/i.test(a)?f.ie=document.documentMode||+RegExp.$1:/trident(\.*?)/i.test(a)?f.ie=document.documentMode||+RegExp.$1:/chrome\/(\d+\.\d+)/i.test(a)?f.chrome=+RegExp.$1:/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)?
f.safari=+(RegExp.$1||RegExp.$2):/firefox\/(\d+\.\d+)/i.test(a)?f.firefox=+RegExp.$1:/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(a)&&(f.opera=+(RegExp.$4||RegExp.$1));return f}};Com.browser.ie=Com.browser._getUserAgent().ie;Com.browser.chrome=Com.browser._getUserAgent().chrome;Com.browser.firefox=Com.browser._getUserAgent().firefox;Com.browser.safari=Com.browser._getUserAgent().safari;Com.browser.opera=Com.browser._getUserAgent().opera;Com.browser.isStrict=Com.browser._getUserAgent().isStrict;
Com.browser.isGecko=Com.browser._getUserAgent().isGecko;Com.browser.isWebkit=Com.browser._getUserAgent().isWebkit;
Com.page={fullScreenForIE:function(){alert("\u8bf7\u6309\u952e\u76d8\u4e0a\u7684F11\u5168\u5c4f\u89c2\u770b\uff01")},loadFullScreen:function(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():this.fullScreenForIE()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?
document.webkitCancelFullScreen():this.fullScreenForIE()},scrollToTop:function(a){if(!a||0>=a.length)a=$("#"+Base.Config.SCROLL_TOP_ID);(window.innerWidth?window.pageYOffset:document.documentElement.scrollTop)>$(window).height()/2?(a.removeClass("scroll-to-top-hide"),a.addClass("scroll-to-top")):a.addClass("scroll-to-top-hide")}};
Com.url={getQueryValue:function(a,f){return this.getParameters(f)[a]},getParameter:function(a,f){return this.getParameters(f)[a]},getParameters:function(a,f){a=a||window.location.href;var c={},e=(a||"").split(f||"?"),h,g;if(1>=e.length)return c;for(var e=e[1].split("&"),l=0,m=e.length;l<m;l++)h=e[l].split("="),g=decodeURIComponent(h[0]),h=decodeURIComponent(h[1]),c[g]?(c[g]instanceof Array||(c[g]=[c[g]]),c[g].push(h)):c[g]=h||"";return c},parse:function(a){if(!a||0>=a.length)return!1;a=/(\w+):\/\/([^/:]+)(:\d*)?([^#]*)/.exec(a);
for(var f=["protocol","host","port","path"],c={},e=1,h=a.length;e<h;e++)c[f[e-1]]=a[e]||"";return c},protocol:function(a){return this.parse(a).protocol},host:function(a){return this.parse(a).host},port:function(a){return this.parse(a).port},path:function(a){return this.parse(a).path}};
Com.helper={_fnList:[],getTarget:function(a){a=a||window.event;return a.srcElement||a.target},addFunction:function(a,f){return this._fnList.push(function(){return a.apply(f||window,arguments)})-1},callFunction:function(a){var f=this._fnList[a];return f&&f.apply(null,Array.prototype.slice.call(arguments,1))},removeFunction:function(a){a?this._fnList[a]=null:this._fnList=[]},showError:function(a,f,c){try{f&&f.addClass("error"),a&&(a.addClass("error"),a[0].focus()),c&&f&&f.html(c)}catch(e){}},showMessage:function(a,
f,c){try{f&&f.removeClass("error"),a&&a.removeClass("error"),c&&f&&f.html(c)}catch(e){}},setPlaceHoler:function(a){if(a&&a.nodeName){var f=function(a){var e=a.getAttribute("placeholder");""===a.defaultValue&&(a.value=e);a.onfocus=function(){a.value===e&&(this.value="")};a.onblur=function(){""===a.value&&(this.value=e)}};!$.browser.msie&&"placeholder"in a||"text"!==a.type||!a.getAttribute("placeholder")||f(a)}},fixIE6PNG:function(){var a=navigator.appVersion.split("MSIE"),f=parseFloat(a[1]),a=function(){var a=
h.src.toUpperCase();return"PNG"==a.substring(a.length-3,a.length)},c=function(a){a.onload=function(){var c=a.width||a.offsetWidth||a.style.width,e=a.height||a.offsetHeight||a.style.height,f=a.id?"id='"+a.id+"' ":"",h=a.className?"class='"+a.className+"' ":"",r=a.title?"title='"+a.title+"' ":"title='"+a.alt+"' ",s="display:inline-block;"+a.style.cssText;"left"==a.align&&(s="float:left;"+s);"right"==a.align&&(s="float:right;"+s);a.parentElement.href&&(s="cursor:hand;"+s);a.outerHTML="<span "+f+h+r+
' style="width:'+c+"px; height:"+e+"px;"+s+";filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.src+"', sizingMethod='scale');\"></span>"}};if(f&&6>=f&&document.body.filters)for(var f=0,e=document.images.length;f<e;f++){var h=document.images[f];a(h)&&c(h)}},imageAlign:{IMG_SIZE:{width:"150",height:"150"},CLIP_ALIGN_TYPE:"TC",align:function(a,f,c){c=c||this.IMG_SIZE;var e=c.width;c=c.height;f=f||this.CLIP_ALIGN_TYPE;var h=1;a.width<a.height?(h=a.width/e,-1==f.indexOf("T")&&(-1!=f.indexOf("M")?
a.style.marginTop=-Math.floor((a.height/h-c)/2)+"px":-1!=f.indexOf("B")&&(a.style.marginTop=-(a.height/h-c)+"px")),a.width=e):(h=a.height/c,-1==f.indexOf("L")&&(-1!=f.indexOf("C")?a.style.marginLeft=-Math.floor((a.width/h-e)/2)+"px":-1!=f.indexOf("R")&&(a.style.marginLeft=-(a.width/h-e)+"px")),a.height=c)},fitImageSize:function(a){var f=this;a.each(function(a,e){$(e).bind("load",function(){f.align(e)})})}}};
Com.date={getCurrentDate:function(){var a=new Date,f=a.getMonth()+1,c=a.getDate(),f=10>f?"0"+f:f,c=10>c?"0"+c:c;return"/"+a.getFullYear()+"/"+f+"/"+c+""},convertmilliSecond:function(a,f){return this.convertMillisecond(a,f)},convertMillisecond:function(a,f){if("undefined"==typeof a||""===a)return a;var c=[],e=0,h=0,g=0,l=0,m=0,n=0,q="",n="";f=f||{};var q=f.onlyHour,r=f.onlyMinute,n=a/1E3;if(0>n)return n;60<=n&&(m=n/60,n%=60);!r&&60<=m&&(l=m/60,m%=60);!q&&24<=l&&(g=l/24,l%=24);r||q||(30<=g&&(h=g/30,
g%=30),12<=h&&(e=h/12,h%=12),0<Math.floor(e)&&c.push(Math.floor(e)+"\u5e74"),0<Math.floor(h)&&c.push(Math.floor(h)+"\u6708"),0<Math.floor(g)&&c.push(Math.floor(g)+"\u5929 "));l=Math.floor(l);m=Math.floor(m);n=Math.floor(n);q=10>m?"0"+m:m;n=10>n?"0"+n:n;r||c.push((10>l?"0"+l:l)+":");c.push(q+":");c.push(n);return c.join("")},format:function(a,f){if(!a||!f)return"";if("string"==typeof a)return a;a instanceof Date||(a=new Date(a));var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),
"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(f)&&(f=f.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in c)RegExp("("+e+")").test(f)&&(f=f.replace(RegExp.$1,1==RegExp.$1.length?c[e]:("00"+c[e]).substr((""+c[e]).length)));return f},formatTime:function(a){if(!a||0>=a)return"00:00:00";var f=new Date(1E3*a);if(!f||"Invalid Date"==f)return"";a=Math.floor(a/86400);var c=Math.floor(a/30),e=Math.floor(c/12);a-=30*c;c-=12*e;return(e?
e+"\u5e74":"")+(c?c+"\u6708":"")+(a?a+"\u5929 ":"")+("0"+f.getUTCHours()).slice(-2)+":"+("0"+f.getUTCMinutes()).slice(-2)+":"+("0"+f.getUTCSeconds()).slice(-2)},getPreviousDate:function(a,f){var c=new Date;month=f?c.getMonth()-f:c.getMonth();date=a?c.getDate()-a:c.getDate();a=new Date(c.getFullYear(),month,date);return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)},getMilliSecondByTime:function(a){var f=0;if(!a||""===a)return a;a=$.trim(a).split(":");for(var c=
1,e=a.length;e--;)f+=parseInt(a[e],10)*c,c*=60;return 1E3*f}};
Com.format={formatFileSize:function(a,f){return Com.file.formatSize(a,f)},unFormatFileSize:function(a){return Com.file.unFormatSize(a)},formatBitrate:function(a){return Com.file.formatBitrate(a)},formatTime:function(a){return Com.date.formatTime(a)},formatState:function(a){return{"-1":"\u672a\u6293\u53d6",0:'<span class="success">\u6392\u961f\u4e2d</span>',1:'<span class="success">\u6293\u53d6\u4e2d</span>',2:'<span class="success">\u6293\u53d6\u5b8c\u6210</span>',3:'<span class="error">\u6293\u53d6\u5931\u8d25</span>',
4:'<span class="error">\u5165\u5e93\u5931\u8d25</span>',5:'<span class="success">\u5df2\u5165\u5e93</span>'}[a]}};Com.inherits=Com.lang.inherits;Com.isElement=Com.lang.isElement;Com.getMousePosition=Com.event.getMousePosition;define("qui/com/Com",function(){});window.Interface=window.Interface||{};
Interface.Flash={_inArray:function(a,f){try{for(var c=a.toString(),e=[],h=0,g=f.length;h<g;h++)e[h]=f[h].toString();for(var l=e.length-1;0<=l;l--)if(c===e[l])return l}catch(m){console.log(m.message)}return-1},_bindFuncList:{makeVideoSpot:[],closeVideoSpot:[],getVideoSpot:[]},register:function(a,f){var c=this._bindFuncList[a];if(c){var e=this._inArray(f,c);0>e?c.push(f):c.splice(e,1,f)}},unregister:function(a,f){var c=this._bindFuncList[a],e=this._inArray(f,c);0<=e&&c.splice(e,1)},_callFunction:function(a,
f){var c=this._bindFuncList[a];f=Array.prototype.slice.call(arguments,1);for(var e=c.length;0<e;)return c[0].apply(c[0].scope,f)},getVideoSpot:function(){var a=["getVideoSpot"].concat(Array.prototype.slice.call(arguments));return this._callFunction.apply(this,a)},closeVideoSpot:function(){var a=["closeVideoSpot"].concat(Array.prototype.slice.call(arguments));this._callFunction.apply(this,a)},makeVideoSpot:function(){var a=["makeVideoSpot"].concat(Array.prototype.slice.call(arguments));this._callFunction.apply(this,
a)}};define("qui/com/Interface",function(){});
var Validator=Validator||{},Validator={formulae:{number:/^\d+$/,english:/^[A-Za-z]+$/,numAndEn:/^[a-zA-Z0-9]+$/,numAndEnAndCn:/^[a-zA-Z0-9_\u4E00-\u9FA5]+$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,chinese:/^[\u0391-\uFFE5]+$/,
specailSimple:/[\\\/:*?\"<>|\']+/g},isEmail:function(a){var f=Validator.formulae.email;return!a||"string"!=typeof a||""===$.trim(a)||4>a.length?!1:a.match(f)?!0:!1},isName:function(a){if(!a||"string"!=typeof a||""===$.trim(a))return!1;var f=Com.getStrLength(a);return 4>f||25<f?!1:Validator.formulae.numAndEnAndCn.test(a)},isPassWord:function(a){return!a||"string"!=typeof a||""===$.trim(a)||6>Com.getStrLength(a)?!1:!0},isBoardName:function(a){return a&&"string"==typeof a&&""!==$.trim(a)?!Validator.formulae.specailSimple.test(a):
!1},isDomain:function(a){if(!a||"string"!=typeof a||""===$.trim(a))return!1;var f=a.length;if(5>f||15<f)return!1;var f=Validator.formulae.english,c=Validator.formulae.numAndEn,e=a.substr(0,1);return f.test(e)?c.test(a):!1},isVideo:function(a){if(!a||"string"!=typeof a||""===$.trim(a)||!this.isValidName(a))return!1;var f=Com.file.getExt(a);return""===a.substr(0,a.length-f.length-1)?!1:-1!="mpg mp4 rmvb ts vob flv m4v mkv mpeg avi mov wmv f4v m2ts m2t mts".split(" ").indexOf(f)?!0:!1},getValidator:function(a,
f){f=$.extend(!0,{invalidHandler:function(a,e){e.numberOfInvalids()?$("#pageAlertValudError").show():$("#pageAlertValudError").hide()},errorPlacement:function(a,e){var f=e.parents(".control-group").first();f.addClass("error");f.find(".controls").append(a)},success:function(a){a.parents(".control-group").first().removeClass("error");a.remove()},ignore:".ignore",errorClass:"help-block",errorElement:"span",onsubmit:!1},f);return a.validate(f)},isValidAlbumCover:function(a,f){var c;c=a.name?Com.file.getExt(a.name):
Com.file.getExt($(a).attr("data-name"));return"jpg"!=c&&"jpeg"!=c?"not_jpg_jpeg":a.width!=f.width||a.height!=f.height?"size_wrong":"perfect"},isValidPlaylistCover:function(a,f){var c;c=a.name?Com.file.getExt(a.name):Com.file.getExt($(a).attr("data-name"));return"jpg"!=c&&"jpeg"!=c?"not_jpg_jpeg":a.width<f.width||a.height!=f.height?"size_wrong":"perfect"},isValidName:function(a){return""===$.trim(a)||0>a.length?!1:!/[\\\/:*?\"<>|]+/g.test(a)},isValidDate:function(a){if(!a||19!=a.length||"string"!==
typeof a)return!1;a=a.replace(/-/g,"/");return 0<=Date.parse(new Date(a))?!0:!1},isAfterToday:function(a){if(!a||19!=a.length||"string"!==typeof a)return!1;a=a.replace(/-/g,"/");var f=new Date;return 0<=Date.parse(new Date(a))&&f<Date.parse(a)?!0:!1},isValidTime:function(a){if(!a||5>a.length||"string"!==typeof a)return!1;try{var f=(a||"").split(":");if(2<f.length)return!1;var c=Number(f[0]).toFixed(0),e=Number(f[1]).toFixed(0);if(-1!=f[0].indexOf(".")||-1!=f[1].indexOf(".")||isNaN(c)||isNaN(e))return!1;
if(0<=c&&0<=e&&60>e)return!0}catch(h){console.log(h.message)}return!1},authorizedVideoDownload:function(){return GLOBAL.auth&&GLOBAL.auth.videoDownload&&""!==GLOBAL.auth.videoDownload?!0:!1},validateDateYMD:function(a){return $.trim(a)?/^\d{4}-\d{2}-\d{2}$/.test(a)?!/Invalid|NaN/.test((new Date(a)).toString()):!1:!0}};Validator.isPassword=Validator.isPassWord;define("qui/com/Validator",function(){});window.Storage=window.Storage||{};Storage.localKeys=["upload_is_opened","upload_opened_notify","upload_file_list"];
Storage.sessionKeys=[];Storage.local={set:function(a,f){window.localStorage&&0<=$.inArray(a,Storage.localKeys)&&window.localStorage.setItem(a,f)},get:function(a){return window.localStorage.getItem(a)}};Storage.session={set:function(a,f){var c=Storage;window.sessionStorage&&0<=$.inArray(a,c.sessionKeys)&&window.sessionStorage.setItem(a,f)},get:function(a){return window.sessionStorage.getItem(a)}};StorageLocal=Storage.local;StorageSession=Storage.session;define("qui/com/Storage",function(){});
var Log=Log||{},Log={getLogImgSrc:function(){return Config.IMG_HOST+"/log/none.html"},add:function(a,f,c){var e=this.getLogImgSrc(),h=new Image,g=(new Date).getTime(),e=e+("?h="+(a||""))+("&t="+g),e=e+("&l="+window.location.href),e=e+("&c="+(f||"")),l;for(l in c)e+="&"+l+"="+c[l];h.src=e}};define("qui/com/Log",function(){});var isIE=-1!=navigator.appVersion.indexOf("MSIE")?!0:!1,isWin=-1!=navigator.appVersion.toLowerCase().indexOf("win")?!0:!1,isOpera=-1!=navigator.userAgent.indexOf("Opera")?!0:!1;
function ControlVersion(){var a,f;try{f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),a=f.GetVariable("$version")}catch(c){}if(!a)try{f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),a="WIN 6,0,21,0",f.AllowScriptAccess="always",a=f.GetVariable("$version")}catch(e){}if(!a)try{f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a=f.GetVariable("$version")}catch(h){}if(!a)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a="WIN 3,0,18,0"}catch(g){}if(!a)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
a="WIN 2,0,0,11"}catch(l){a=-1}return a}
function GetSwfVer(){var a=-1;if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),f=a[2].split("."),c=f[0],f=f[1],e=a[3];""==e&&(e=a[4]);"d"==e[0]?e=e.substring(1):"r"==e[0]&&(e=e.substring(1),0<e.indexOf("d")&&(e=e.substring(0,e.indexOf("d"))));a=c+"."+f+"."+e}}else-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.6")?
a=4:-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.5")?a=3:-1!=navigator.userAgent.toLowerCase().indexOf("webtv")?a=2:isIE&&isWin&&!isOpera&&(a=ControlVersion());return a}
function DetectFlashVer(a,f,c){versionStr=GetSwfVer();if(-1==versionStr)return!1;if(0!=versionStr){isIE&&isWin&&!isOpera?(tempArray=versionStr.split(" "),tempString=tempArray[1],versionArray=tempString.split(",")):versionArray=versionStr.split(".");var e=versionArray[0],h=versionArray[1],g=versionArray[2];return e>parseFloat(a)||e==parseFloat(a)&&(h>parseFloat(f)||h==parseFloat(f)&&g>=parseFloat(c))?!0:!1}}function AC_AddExtension(a,f){return-1!=a.indexOf("?")?a.replace(/\?/,f+"?"):a+f}
function AC_Generateobj(a,f,c){var e="";if(isIE&&isWin&&!isOpera){var e=e+"<object ",h;for(h in a)e+=h+'="'+a[h]+'" ';e+=">";for(h in f)e+='<param name="'+h+'" value="'+f[h]+'" /> ';e+="</object>"}else{e+="<embed ";for(h in c)e+=h+'="'+c[h]+'" ';e+="> </embed>"}document.write(e)}function AC_FL_RunContent(){var a=AC_GetArgs(arguments,".swf?"+(new Date).getTime(),"movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(a.objAttrs,a.params,a.embedAttrs)}
function AC_SW_RunContent(){var a=AC_GetArgs(arguments,".dcr","src","clsid:166B1BCA-3F9C-11CF-8075-444553540000",null);AC_Generateobj(a.objAttrs,a.params,a.embedAttrs)}
function AC_GetArgs(a,f,c,e,h){for(var g={embedAttrs:{},params:{},objAttrs:{}},l=0;l<a.length;l+=2)switch(a[l].toLowerCase()){case "classid":break;case "pluginspage":g.embedAttrs[a[l]]=a[l+1];break;case "src":case "movie":a[l+1]=AC_AddExtension(a[l+1],f);g.embedAttrs.src=a[l+1];g.params[c]=a[l+1];break;case "onafterupdate":case "onbeforeupdate":case "onblur":case "oncellchange":case "onclick":case "ondblclick":case "ondrag":case "ondragend":case "ondragenter":case "ondragleave":case "ondragover":case "ondrop":case "onfinish":case "onfocus":case "onhelp":case "onmousedown":case "onmouseup":case "onmouseover":case "onmousemove":case "onmouseout":case "onkeypress":case "onkeydown":case "onkeyup":case "onload":case "onlosecapture":case "onpropertychange":case "onreadystatechange":case "onrowsdelete":case "onrowenter":case "onrowexit":case "onrowsinserted":case "onstart":case "onscroll":case "onbeforeeditfocus":case "onactivate":case "onbeforedeactivate":case "ondeactivate":case "type":case "codebase":case "id":g.objAttrs[a[l]]=a[l+
1];break;case "width":case "height":case "align":case "vspace":case "hspace":case "class":case "title":case "accesskey":case "name":case "tabindex":g.embedAttrs[a[l]]=g.objAttrs[a[l]]=a[l+1];break;default:g.embedAttrs[a[l]]=g.params[a[l]]=a[l+1]}g.objAttrs.classid=e;h&&(g.embedAttrs.type=h);return g}define("qui/com/RunActiveContent",function(){});Com=Com||{};
Com.Image={resizeInside:function(a,f,c){var e=a.width();a=a.height();var h=0,g=0,l=0,m=0;e*c>a*f?(h=f,g=Math.floor(h*a/e),l=Math.floor((c-g)/2),parrdingLeft=0):(g=c,h=Math.floor(g*e/a),l=0,m=Math.floor((f-h)/2));return{width:h,height:g,top:l,left:m}},resizeOutside:function(a,f,c){var e=a.width();a=a.height();var h=0,g=0,l=0,m=0;e*c<a*f?(h=f,g=Math.floor(h*a/e),l=Math.floor((c-g)/2),m=0):(g=c,h=Math.floor(g*e/a),l=0,m=Math.floor((f-h)/2));return{width:h,height:g,top:l,left:m}},procThumbnail:function(a,
f,c){f=this.resizeOutside(a,f,c);a.data("width",a.width());a.data("height",a.height());a.width(f.width).height(f.height).css({marginLeft:f.left,marginTop:f.top})},getImageSize:function(a,f){var c=Com.file.getObjectURL(a),e=new Image;e.src=c;e.onload=function(){f&&f({width:e.width,height:e.height})}}};define("qui/com/Image",function(){});Com=Com||{};
Com.Grid={getObjectIdById:function(a){return a},getObjectIdsByData:function(a){var f=this,c=[];a=a||[];var e=f.getObjectIdById;$.each(a,function(a,g){c.push(e.call(f,g.id))});return c},getSelectedIds:function(a){return a.jqGrid("getGridParam","selarrrow")},getSelectedData:function(a){var f=this.getSelectedIds(a);return this.getRowsDataByIds(a,f)},getRowDataById:function(a,f,c){return(a=a.jqGrid("getData",f,c))?a[0]:null},getRowsDataByIds:function(a,f){return a.jqGrid("getData",f)},getPrimaryKeyByElement:function(a){return $(a).closest("tr").attr("id")},
overridePostData:function(a){var f=a.jqGrid("getGridParam","postData"),c=["page.order","page.orderBy","page.pageNo","page.pageSize"];f&&($.each(f,function(a,h){-1==$.inArray(a,c)&&delete f[a]}),a.jqGrid("setGridParam","postData",f))}};define("qui/com/Grid",function(){});
(function(a,f){function c(c,e,f,g){g={data:g||0===g||!1===g?g:e?e.data:{},_wrap:e?e._wrap:null,tmpl:null,parent:e||null,nodes:[],calls:q,nest:r,wrap:s,html:u,update:x};c&&a.extend(g,c,{nodes:[],parent:e});f&&(g.tmpl=f,g._ctnt=g._ctnt||g.tmpl(a,g),g.key=++D,(K.length?p:k)[D]=g);return g}function e(c,f,g){var k;g=g?a.map(g,function(a){return"string"===typeof a?c.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+y+'="'+c.key+'" $2'):a:e(a,c,a._ctnt)}):c;if(f)return g;g=g.join("");g.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
function(c,e,f,g){k=a(f).get();n(k);e&&(k=h(e).concat(k));g&&(k=k.concat(h(g)))});return k?k:h(g)}function h(c){var e=document.createElement("div");e.innerHTML=c;return a.makeArray(e.childNodes)}function g(c){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+a.trim(c).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(c,e,f,g,h,k,l){c=a.tmpl.tag[f];if(!c)throw"Unknown template tag: "+f;f=c._default||[];k&&!/\w$/.test(h)&&(h+=k,k="");h?(h=m(h),l=l?","+m(l)+")":k?")":"",l=k?-1<h.indexOf(".")?h+m(k):"("+h+").call($item"+l:h,k=k?l:"(typeof("+h+")==='function'?("+h+").call($item):("+h+"))"):k=l=f.$1||"null";g=m(g);return"');"+c[e?"close":"open"].split("$notnull_1").join(h?"typeof("+h+")!=='undefined' && ("+h+")!=null":"true").split("$1a").join(k).split("$1").join(l).split("$2").join(g||f.$2||"")+"__.push('"})+
"');}return __;")}function l(c,f){c._wrap=e(c,!0,a.isArray(f)?f:[z.test(f)?f:a(f).html()]).join("")}function m(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function n(e){function f(e){function h(a){a+=g;r=m[a]=m[a]||c(r,k[r.parent.key+g]||r.parent)}var l,n=e,r,u;if(u=e.getAttribute(y)){for(;n.parentNode&&1===(n=n.parentNode).nodeType&&!(l=n.getAttribute(y)););l!==u&&(n=n.parentNode?11===n.nodeType?0:n.getAttribute(y)||0:0,(r=k[u])||(r=p[u],r=c(r,k[n]||p[n]),r.key=++D,k[D]=r),F&&h(u));
e.removeAttribute(y)}else F&&(r=a.data(e,"tmplItem"))&&(h(r.key),k[r.key]=r,n=(n=a.data(e.parentNode,"tmplItem"))?n.key:0);if(r){for(l=r;l&&l.key!=n;)l.nodes.push(e),l=l.parent;delete r._ctnt;delete r._wrap;a.data(e,"tmplItem",r)}}var g="_"+F,h,l,m={},n,r,u;n=0;for(r=e.length;n<r;n++)if(1===(h=e[n]).nodeType){l=h.getElementsByTagName("*");for(u=l.length-1;0<=u;u--)f(l[u]);f(h)}}function q(a,c,e,f){if(!a)return K.pop();K.push({_:a,tmpl:c,item:this,data:e,options:f})}function r(c,e,f){return a.tmpl(a.template(c),
e,f,this)}function s(c,e){var f=c.options||{};f.wrapped=e;return a.tmpl(a.template(c.tmpl),c.data,f,c.item)}function u(c,e){var f=this._wrap;return a.map(a(a.isArray(f)?f.join(""):f).filter(c||"*"),function(a){if(e)a=a.innerText||a.textContent;else{var c;(c=a.outerHTML)||(c=document.createElement("div"),c.appendChild(a.cloneNode(!0)),c=c.innerHTML);a=c}return a})}function x(){var c=this.nodes;a.tmpl(null,null,null,this).insertBefore(c[0]);a(c).remove()}var v=a.fn.domManip,y="_tmplitem",z=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,
k={},p={},w,B={key:0,data:{}},D=0,F=0,K=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,e){a.fn[c]=function(f){var g=[];f=a(f);var h,l,m;h=1===this.length&&this[0].parentNode;w=k||{};if(h&&11===h.nodeType&&1===h.childNodes.length&&1===f.length)f[e](this[0]),g=this;else{l=0;for(m=f.length;l<m;l++)F=l,h=(0<l?this.clone(!0):this).get(),a(f[l])[e](h),g=g.concat(h);F=0;g=this.pushStack(g,c,f.selector)}f=w;w=null;a.tmpl.complete(f);
return g}});a.fn.extend({tmpl:function(c,e,f){return a.tmpl(this[0],c,e,f)},tmplItem:function(){return a.tmplItem(this[0])},template:function(c){return a.template(c,this[0])},domManip:function(c,e,f,g){if(c[0]&&a.isArray(c[0])){for(var h=a.makeArray(arguments),l=c[0],m=l.length,p=0,n;p<m&&!(n=a.data(l[p++],"tmplItem")););n&&F&&(h[2]=function(c){a.tmpl.afterManip(this,c,f)});v.apply(this,h)}else v.apply(this,arguments);F=0;w||a.tmpl.complete(k);return this}});a.extend({tmpl:function(f,g,h,m){var n=
!m;if(n)m=B,f=a.template[f]||a.template(null,f),p={};else if(!f)return f=m.tmpl,k[m.key]=m,m.nodes=[],m.wrapped&&l(m,m.wrapped),a(e(m,null,m.tmpl(a,m)));if(!f)return[];"function"===typeof g&&(g=g.call(m||{}));h&&h.wrapped&&l(h,h.wrapped);g=a.isArray(g)?a.map(g,function(a){return a?c(h,m,f,a):null}):[c(h,m,f,g)];return n?a(e(m,null,g)):g},tmplItem:function(c){var e;for(c instanceof a&&(c=c[0]);c&&1===c.nodeType&&!(e=a.data(c,"tmplItem"))&&(c=c.parentNode););return e||B},template:function(c,e){return e?
("string"===typeof e?e=g(e):e instanceof a&&(e=e[0]||{}),e.nodeType&&(e=a.data(e,"tmpl")||a.data(e,"tmpl",g(e.innerHTML))),"string"===typeof c?a.template[c]=e:e):c?"string"!==typeof c?a.template(null,c):a.template[c]||a.template(null,z.test(c)?c:a(c)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},
open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(a){k={}},afterManip:function(c,
e,f){var g=11===e.nodeType?a.makeArray(e.childNodes):1===e.nodeType?[e]:[];f.call(c,e);n(g);F++}})})(jQuery);define("qui/ui/jquery.tmpl",function(){});
(function(a){a.fn.extend({sliderAccess:function(f){f=f||{};f.touchonly=void 0!==f.touchonly?f.touchonly:!0;return!0!==f.touchonly||"ontouchend"in document?a(this).each(function(c,e){var h=a(this),g=a.extend({},{where:"after",step:h.slider("option","step"),upIcon:"ui-icon-plus",downIcon:"ui-icon-minus",text:!1,upText:"+",downText:"-",buttonset:!0,buttonsetTag:"span",isRTL:!1},f),l=a("<"+g.buttonsetTag+' class="ui-slider-access"><button data-icon="'+g.downIcon+'" data-step="'+(g.isRTL?g.step:-1*g.step)+
'">'+g.downText+'</button><button data-icon="'+g.upIcon+'" data-step="'+(g.isRTL?-1*g.step:g.step)+'">'+g.upText+"</button></"+g.buttonsetTag+">");l.children("button").each(function(c,e){var f=a(this);f.button({text:g.text,icons:{primary:f.data("icon")}}).click(function(a){var c=f.data("step"),e=h.slider("value"),c=e+=1*c,e=h.slider("option","min"),g=h.slider("option","max"),l=h.slider("option","slide")||function(){},m=h.slider("option","stop")||function(){};a.preventDefault();c<e||c>g||(h.slider("value",
c),l.call(h,null,{value:c}),m.call(h,null,{value:c}))})});h[g.where](l);g.buttonset&&(l.removeClass("ui-corner-right").removeClass("ui-corner-left").buttonset(),l.eq(0).addClass("ui-corner-left"),l.eq(1).addClass("ui-corner-right"));var l=l.css({marginLeft:"after"==g.where&&!g.isRTL||"before"==g.where&&g.isRTL?10:0,marginRight:"before"==g.where&&!g.isRTL||"after"==g.where&&g.isRTL?10:0}).outerWidth(!0)+5,m=h.outerWidth(!0);h.css("display","inline-block").width(m-l)}):a(this)}})})(jQuery);
define("qui/ui/jquery-ui-sliderAccess-addon",function(){});
(function(a){a.ui.timepicker=a.ui.timepicker||{};if(!a.ui.timepicker.version){a.extend(a.ui,{timepicker:{version:"1.4.3"}});var f=function(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1};this._defaults={showButtonPanel:!0,
timeOnly:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,
separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"};a.extend(this._defaults,this.regional[""])};a.extend(f.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,
hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(a){e(this._defaults,a||{});
return this},_newInst:function(c,e){var g=new f,l={},m={},n,q;for(n in this._defaults)if(this._defaults.hasOwnProperty(n)){var k=c.attr("time:"+n);if(k)try{l[n]=eval(k)}catch(p){l[n]=k}}n={beforeShow:function(e,f){if(a.isFunction(g._defaults.evnts.beforeShow))return g._defaults.evnts.beforeShow.call(c[0],e,f,g)},onChangeMonthYear:function(e,f,h){g._updateDateTime(h);a.isFunction(g._defaults.evnts.onChangeMonthYear)&&g._defaults.evnts.onChangeMonthYear.call(c[0],e,f,h,g)},onClose:function(e,f){!0===
g.timeDefined&&""!==c.val()&&g._updateDateTime(f);a.isFunction(g._defaults.evnts.onClose)&&g._defaults.evnts.onClose.call(c[0],e,f,g)}};for(q in n)n.hasOwnProperty(q)&&(m[q]=e[q]||null);g._defaults=a.extend({},this._defaults,l,e,n,{evnts:m,timepicker:g});g.amNames=a.map(g._defaults.amNames,function(a){return a.toUpperCase()});g.pmNames=a.map(g._defaults.pmNames,function(a){return a.toUpperCase()});g.support=h(g._defaults.timeFormat+(g._defaults.pickerTimeFormat?g._defaults.pickerTimeFormat:"")+(g._defaults.altTimeFormat?
g._defaults.altTimeFormat:""));"string"===typeof g._defaults.controlType?("slider"===g._defaults.controlType&&"undefined"===typeof a.ui.slider&&(g._defaults.controlType="select"),g.control=g._controls[g._defaults.controlType]):g.control=g._defaults.controlType;l=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==g._defaults.timezoneList&&(l=g._defaults.timezoneList);m=l.length;
q=0;n=null;if(0<m&&"object"!==typeof l[0])for(;q<m;q++)n=l[q],l[q]={value:n,label:a.timepicker.timezoneOffsetString(n,g.support.iso8601)};g._defaults.timezoneList=l;g.timezone=null!==g._defaults.timezone?a.timepicker.timezoneOffsetNumber(g._defaults.timezone):-1*(new Date).getTimezoneOffset();g.hour=g._defaults.hour<g._defaults.hourMin?g._defaults.hourMin:g._defaults.hour>g._defaults.hourMax?g._defaults.hourMax:g._defaults.hour;g.minute=g._defaults.minute<g._defaults.minuteMin?g._defaults.minuteMin:
g._defaults.minute>g._defaults.minuteMax?g._defaults.minuteMax:g._defaults.minute;g.second=g._defaults.second<g._defaults.secondMin?g._defaults.secondMin:g._defaults.second>g._defaults.secondMax?g._defaults.secondMax:g._defaults.second;g.millisec=g._defaults.millisec<g._defaults.millisecMin?g._defaults.millisecMin:g._defaults.millisec>g._defaults.millisecMax?g._defaults.millisecMax:g._defaults.millisec;g.microsec=g._defaults.microsec<g._defaults.microsecMin?g._defaults.microsecMin:g._defaults.microsec>
g._defaults.microsecMax?g._defaults.microsecMax:g._defaults.microsec;g.ampm="";g.$input=c;g._defaults.altField&&(g.$altInput=a(g._defaults.altField).css({cursor:"pointer"}).focus(function(){c.trigger("focus")}));if(0===g._defaults.minDate||0===g._defaults.minDateTime)g._defaults.minDate=new Date;if(0===g._defaults.maxDate||0===g._defaults.maxDateTime)g._defaults.maxDate=new Date;void 0!==g._defaults.minDate&&g._defaults.minDate instanceof Date&&(g._defaults.minDateTime=new Date(g._defaults.minDate.getTime()));
void 0!==g._defaults.minDateTime&&g._defaults.minDateTime instanceof Date&&(g._defaults.minDate=new Date(g._defaults.minDateTime.getTime()));void 0!==g._defaults.maxDate&&g._defaults.maxDate instanceof Date&&(g._defaults.maxDateTime=new Date(g._defaults.maxDate.getTime()));void 0!==g._defaults.maxDateTime&&g._defaults.maxDateTime instanceof Date&&(g._defaults.maxDate=new Date(g._defaults.maxDateTime.getTime()));g.$input.bind("focus",function(){g._onFocus()});return g},_addTimePicker:function(a){var c=
this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(c);this._limitMinMaxDateTime(a,!1);this._injectTimePicker()},_parseTime:function(c,e){this.inst||(this.inst=a.datepicker._getInst(this.$input[0]));if(e||!this._defaults.timeOnly){var f=a.datepicker._get(this.inst,"dateFormat");try{var g=n(f,this._defaults.timeFormat,c,a.datepicker._getFormatConfig(this.inst),this._defaults);if(!g.timeObj)return!1;a.extend(this,
g.timeObj)}catch(h){return a.timepicker.log("Error parsing the date/time string: "+h+"\ndate/time string = "+c+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+f),!1}}else{f=a.datepicker.parseTime(this._defaults.timeFormat,c,this._defaults);if(!f)return!1;a.extend(this,f)}return!0},_injectTimePicker:function(){var c=this.inst.dpDiv,e=this.inst.settings,f=this,g="",h="",l=null,m={},k={},p=null,n=0,B=0;if(0===c.find("div.ui-timepicker-div").length&&e.showTimepicker){p='<div class="ui-timepicker-div'+
(e.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(e.showTime?"":' style="display:none;"')+">"+e.timeText+'</dt><dd class="ui_tpicker_time"'+(e.showTime?"":' style="display:none;"')+"></dd>";n=0;for(B=this.units.length;n<B;n++){g=this.units[n];h=g.substr(0,1).toUpperCase()+g.substr(1);l=null!==e["show"+h]?e["show"+h]:this.support[g];m[g]=parseInt(e[g+"Max"]-(e[g+"Max"]-e[g+"Min"])%e["step"+h],10);k[g]=0;p+='<dt class="ui_tpicker_'+g+'_label"'+(l?"":' style="display:none;"')+
">"+e[g+"Text"]+'</dt><dd class="ui_tpicker_'+g+'"><div class="ui_tpicker_'+g+'_slider"'+(l?"":' style="display:none;"')+"></div>";if(l&&0<e[g+"Grid"]){p+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if("hour"===g)for(h=e[g+"Min"];h<=m[g];h+=parseInt(e[g+"Grid"],10))k[g]++,l=a.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:h},e),p+='<td data-for="'+g+'">'+l+"</td>";else for(h=e[g+"Min"];h<=m[g];h+=parseInt(e[g+"Grid"],10))k[g]++,p+='<td data-for="'+g+'">'+(10>
h?"0":"")+h+"</td>";p+="</tr></table></div>"}p+="</dd>"}var n=null!==e.showTimezone?e.showTimezone:this.support.timezone,p=p+('<dt class="ui_tpicker_timezone_label"'+(n?"":' style="display:none;"')+">"+e.timezoneText+"</dt>"),p=p+('<dd class="ui_tpicker_timezone" '+(n?"":' style="display:none;"')+"></dd>")+"</dl></div>",D=a(p);!0===e.timeOnly&&(D.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+e.timeOnlyTitle+"</div></div>"),c.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());
n=0;for(B=f.units.length;n<B;n++)g=f.units[n],h=g.substr(0,1).toUpperCase()+g.substr(1),l=null!==e["show"+h]?e["show"+h]:this.support[g],f[g+"_slider"]=f.control.create(f,D.find(".ui_tpicker_"+g+"_slider"),g,f[g],e[g+"Min"],m[g],e["step"+h]),l&&0<e[g+"Grid"]&&(p=100*k[g]*e[g+"Grid"]/(m[g]-e[g+"Min"]),D.find(".ui_tpicker_"+g+" table").css({width:p+"%",marginLeft:e.isRTL?"0":p/(-2*k[g])+"%",marginRight:e.isRTL?p/(-2*k[g])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(c){var e=a(this),
h=e.html();c=parseInt(h.replace(/[^0-9]/g),10);h=h.replace(/[^apm]/ig);e=e.data("for");"hour"===e&&(-1!==h.indexOf("p")&&12>c?c+=12:-1!==h.indexOf("a")&&12===c&&(c=0));f.control.value(f,f[e+"_slider"],g,c);f._onTimeChange();f._onSelectHandler()}).css({cursor:"pointer",width:100/k[g]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=D.find(".ui_tpicker_timezone").append("<select></select>").find("select");a.fn.append.apply(this.timezone_select,a.map(e.timezoneList,function(c,e){return a("<option />").val("object"===
typeof c?c.value:c).text("object"===typeof c?c.label:c)}));"undefined"!==typeof this.timezone&&null!==this.timezone&&""!==this.timezone?-1*(new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12)).getTimezoneOffset()===this.timezone?q(f):this.timezone_select.val(this.timezone):"undefined"!==typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(e.timezone):q(f);this.timezone_select.change(function(){f._onTimeChange();f._onSelectHandler()});e=c.find(".ui-datepicker-buttonpane");
e.length?e.before(D):c.append(D);this.$timeObj=D.find(".ui_tpicker_time");null!==this.inst&&(c=this.timeDefined,this._onTimeChange(),this.timeDefined=c);if(this._defaults.addSliderAccess){var F=this._defaults.sliderAccessArgs,K=this._defaults.isRTL;F.isRTL=K;setTimeout(function(){if(0===D.find(".ui-slider-access").length){D.find(".ui-slider:visible").sliderAccess(F);var c=D.find(".ui-slider-access:eq(0)").outerWidth(!0);c&&D.find("table:visible").each(function(){var e=a(this),f=e.outerWidth(),g=e.css(K?
"marginRight":"marginLeft").toString().replace("%",""),h=f-c,k={width:h,marginRight:0,marginLeft:0};k[K?"marginRight":"marginLeft"]=g*h/f+"%";e.css(k)})}},10)}f._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(c,e){var f=this._defaults,g=new Date(c.selectedYear,c.selectedMonth,c.selectedDay);if(this._defaults.showTimepicker){if(null!==a.datepicker._get(c,"minDateTime")&&void 0!==a.datepicker._get(c,"minDateTime")&&g){var h=a.datepicker._get(c,"minDateTime"),l=new Date(h.getFullYear(),
h.getMonth(),h.getDate(),0,0,0,0);if(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)this.hourMinOriginal=f.hourMin,this.minuteMinOriginal=f.minuteMin,this.secondMinOriginal=f.secondMin,this.millisecMinOriginal=f.millisecMin,this.microsecMinOriginal=f.microsecMin;c.settings.timeOnly||l.getTime()===g.getTime()?(this._defaults.hourMin=h.getHours(),this.hour<=this._defaults.hourMin?(this.hour=
this._defaults.hourMin,this._defaults.minuteMin=h.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=h.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=h.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=h.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),
this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):
(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==a.datepicker._get(c,"maxDateTime")&&void 0!==a.datepicker._get(c,"maxDateTime")&&g){h=a.datepicker._get(c,"maxDateTime");l=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0);if(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||
null===this.secondMaxOriginal||null===this.millisecMaxOriginal)this.hourMaxOriginal=f.hourMax,this.minuteMaxOriginal=f.minuteMax,this.secondMaxOriginal=f.secondMax,this.millisecMaxOriginal=f.millisecMax,this.microsecMaxOriginal=f.microsecMax;c.settings.timeOnly||l.getTime()===g.getTime()?(this._defaults.hourMax=h.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=h.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,
this._defaults.secondMax=h.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=h.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=h.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=
this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=
this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(void 0!==e&&!0===e){var f=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),g=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),h=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),
l=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),m=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:f}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour));this.minute_slider&&(this.control.options(this,this.minute_slider,
"minute",{min:this._defaults.minuteMin,max:g}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute));this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:h}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond));this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:l}),this.control.value(this,
this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec));this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:m}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var c=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,e=this.minute_slider?this.control.value(this,
this.minute_slider,"minute"):!1,f=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,g=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,h=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):!1,l=this.timezone_select?this.timezone_select.val():!1,m=this._defaults,k=m.pickerTimeFormat||m.timeFormat,p=m.pickerTimeSuffix||m.timeSuffix;"object"===typeof c&&(c=!1);"object"===typeof e&&(e=!1);"object"===typeof f&&(f=!1);"object"===
typeof g&&(g=!1);"object"===typeof h&&(h=!1);"object"===typeof l&&(l=!1);!1!==c&&(c=parseInt(c,10));!1!==e&&(e=parseInt(e,10));!1!==f&&(f=parseInt(f,10));!1!==g&&(g=parseInt(g,10));!1!==h&&(h=parseInt(h,10));!1!==l&&(l=l.toString());var n=m[12>c?"amNames":"pmNames"][0],q=c!==parseInt(this.hour,10)||e!==parseInt(this.minute,10)||f!==parseInt(this.second,10)||g!==parseInt(this.millisec,10)||h!==parseInt(this.microsec,10)||0<this.ampm.length&&12>c!==(-1!==a.inArray(this.ampm.toUpperCase(),this.amNames))||
null!==this.timezone&&l!==this.timezone.toString();q&&(!1!==c&&(this.hour=c),!1!==e&&(this.minute=e),!1!==f&&(this.second=f),!1!==g&&(this.millisec=g),!1!==h&&(this.microsec=h),!1!==l&&(this.timezone=l),this.inst||(this.inst=a.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0));this.support.ampm&&(this.ampm=n);this.formattedTime=a.datepicker.formatTime(m.timeFormat,this,m);this.$timeObj&&(k===m.timeFormat?this.$timeObj.text(this.formattedTime+p):this.$timeObj.text(a.datepicker.formatTime(k,
this,m)+p));this.timeDefined=!0;q&&(this._updateDateTime(),this.$input.focus())}},_onSelectHandler:function(){var a=this._defaults.onSelect||this.inst.settings.onSelect,c=this.$input?this.$input[0]:null;a&&c&&a.apply(c,[this.formattedDateTime,this])},_updateDateTime:function(c){c=this.inst||c;var e=a.datepicker._daylightSavingAdjust(0<c.currentYear?new Date(c.currentYear,c.currentMonth,c.currentDay):new Date(c.selectedYear,c.selectedMonth,c.selectedDay)),f=a.datepicker._get(c,"dateFormat"),g=a.datepicker._getFormatConfig(c),
h=null!==e&&this.timeDefined,f=this.formattedDate=a.datepicker.formatDate(f,null===e?new Date:e,g);""===c.lastVal&&(c.currentYear=c.selectedYear,c.currentMonth=c.selectedMonth,c.currentDay=c.selectedDay);!0===this._defaults.timeOnly?f=this.formattedTime:!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||h)&&(f+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix);this.formattedDateTime=f;this._defaults.showTimepicker?this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly?
(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$input.val(f),c="",h=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,f=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix,this._defaults.timeOnly||(c=this._defaults.altFormat?a.datepicker.formatDate(this._defaults.altFormat,null===e?new Date:e,g):this.formattedDate)&&(c+=h),c=this._defaults.altTimeFormat?c+(a.datepicker.formatTime(this._defaults.altTimeFormat,
this,this._defaults)+f):c+(this.formattedTime+f),this.$altInput.val(c)):this.$input.val(f):this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var c=a.datepicker._getInst(this.$input.get(0)),e=a.datepicker._get(c,"timepicker");if(e&&e._defaults.timeOnly&&c.input.val()!==c.lastVal)try{a.datepicker._updateDatepicker(c)}catch(f){a.timepicker.log(f)}}},_controls:{slider:{create:function(c,
e,f,g,h,l,m){var k=c._defaults.isRTL;return e.prop("slide",null).slider({orientation:"horizontal",value:k?-1*g:g,min:k?-1*l:h,max:k?-1*h:l,step:m,slide:function(e,g){c.control.value(c,a(this),f,k?-1*g.value:g.value);c._onTimeChange()},stop:function(a,e){c._onSelectHandler()}})},options:function(a,c,e,f,g){if(a._defaults.isRTL){if("string"===typeof f)return"min"===f||"max"===f?void 0!==g?c.slider(f,-1*g):Math.abs(c.slider(f)):c.slider(f);a=f.min;e=f.max;f.min=f.max=null;void 0!==a&&(f.max=-1*a);void 0!==
e&&(f.min=-1*e);return c.slider(f)}return"string"===typeof f&&void 0!==g?c.slider(f,g):c.slider(f)},value:function(a,c,e,f){return a._defaults.isRTL?void 0!==f?c.slider("value",-1*f):Math.abs(c.slider("value")):void 0!==f?c.slider("value",f):c.slider("value")}},select:{create:function(c,e,f,g,h,l,m){for(var k='<select class="ui-timepicker-select" data-unit="'+f+'" data-min="'+h+'" data-max="'+l+'" data-step="'+m+'">',p=c._defaults.pickerTimeFormat||c._defaults.timeFormat;h<=l;h+=m)k+='<option value="'+
h+'"'+(h===g?" selected":"")+">",k="hour"===f?k+a.datepicker.formatTime(a.trim(p.replace(/[^ht ]/ig,"")),{hour:h},c._defaults):"millisec"===f||"microsec"===f||10<=h?k+h:k+("0"+h.toString()),k+="</option>";k+="</select>";e.children("select").remove();a(k).appendTo(e).change(function(a){c._onTimeChange();c._onSelectHandler()});return e},options:function(a,c,e,f,g){e={};var h=c.children("select");if("string"===typeof f){if(void 0===g)return h.data(f);e[f]=g}else e=f;return a.control.create(a,c,h.data("unit"),
h.val(),e.min||h.data("min"),e.max||h.data("max"),e.step||h.data("step"))},value:function(a,c,e,f){a=c.children("select");return void 0!==f?a.val(f):a.val()}}}});a.fn.extend({timepicker:function(c){c=c||{};var e=Array.prototype.slice.call(arguments);"object"===typeof c&&(e[0]=a.extend(c,{timeOnly:!0}));return a(this).each(function(){a.fn.datetimepicker.apply(a(this),e)})},datetimepicker:function(c){c=c||{};var e=arguments;return"string"===typeof c?"getDate"===c?a.fn.datepicker.apply(a(this[0]),e):
this.each(function(){var c=a(this);c.datepicker.apply(c,e)}):this.each(function(){var e=a(this);e.datepicker(a.timepicker._newInst(e,c)._defaults)})}});a.datepicker.parseDateTime=function(a,c,e,f,g){a=n(a,c,e,f,g);a.timeObj&&(c=a.timeObj,a.date.setHours(c.hour,c.minute,c.second,c.millisec),a.date.setMicroseconds(c.microsec));return a.date};a.datepicker.parseTime=function(c,f,g){g=e(e({},a.timepicker._defaults),g||{});c.replace(/\'.*?\'/g,"").indexOf("Z");var h=function(c,e,f){var g=function(c,e){var f=
[];c&&a.merge(f,c);e&&a.merge(f,e);f=a.map(f,function(a){return a.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+f.join("|")+")?"},h="^"+c.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(a){var c=a.length;switch(a.charAt(0).toLowerCase()){case "h":return 1===c?"(\\d?\\d)":"(\\d{"+c+"})";case "m":return 1===c?"(\\d?\\d)":"(\\d{"+c+"})";case "s":return 1===c?"(\\d?\\d)":"(\\d{"+c+"})";case "l":return"(\\d?\\d?\\d)";case "c":return"(\\d?\\d?\\d)";case "z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";
case "t":return g(f.amNames,f.pmNames);default:return"("+a.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(a){return"\\"+a})+")?"}}).replace(/\s/g,"\\s?")+f.timeSuffix+"$";c=function(a){a=a.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g);var c={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(a)for(var e=0;e<a.length;e++)-1===c[a[e].toString().charAt(0)]&&(c[a[e].toString().charAt(0)]=e+1);return c}(c);var l="";e=e.match(RegExp(h,"i"));h={hour:0,minute:0,
second:0,millisec:0,microsec:0};return e?(-1!==c.t&&(void 0===e[c.t]||0===e[c.t].length?(l="",h.ampm=""):(l=-1!==a.inArray(e[c.t].toUpperCase(),f.amNames)?"AM":"PM",h.ampm=f["AM"===l?"amNames":"pmNames"][0])),-1!==c.h&&(h.hour="AM"===l&&"12"===e[c.h]?0:"PM"===l&&"12"!==e[c.h]?parseInt(e[c.h],10)+12:Number(e[c.h])),-1!==c.m&&(h.minute=Number(e[c.m])),-1!==c.s&&(h.second=Number(e[c.s])),-1!==c.l&&(h.millisec=Number(e[c.l])),-1!==c.c&&(h.microsec=Number(e[c.c])),-1!==c.z&&void 0!==e[c.z]&&(h.timezone=
a.timepicker.timezoneOffsetNumber(e[c.z])),h):!1},l=function(c,e,f){try{var g=new Date("2012-01-01 "+e);if(isNaN(g.getTime())&&(g=new Date("2012-01-01T"+e),isNaN(g.getTime())&&(g=new Date("01/01/2012 "+e),isNaN(g.getTime()))))throw"Unable to parse time with native Date: "+e;return{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds(),millisec:g.getMilliseconds(),microsec:g.getMicroseconds(),timezone:-1*g.getTimezoneOffset()}}catch(l){try{return h(c,e,f)}catch(m){a.timepicker.log("Unable to parse \ntimeString: "+
e+"\ntimeFormat: "+c)}}return!1};return"function"===typeof g.parse?g.parse(c,f,g):"loose"===g.parse?l(c,f,g):h(c,f,g)};a.datepicker.formatTime=function(c,e,f){f=f||{};f=a.extend({},a.timepicker._defaults,f);e=a.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},e);var h=f.amNames[0],l=parseInt(e.hour,10);11<l&&(h=f.pmNames[0]);return c=c.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(c){switch(c){case "HH":return("0"+l).slice(-2);case "H":return l;case "hh":return("0"+
g(l)).slice(-2);case "h":return g(l);case "mm":return("0"+e.minute).slice(-2);case "m":return e.minute;case "ss":return("0"+e.second).slice(-2);case "s":return e.second;case "l":return("00"+e.millisec).slice(-3);case "c":return("00"+e.microsec).slice(-3);case "z":return a.timepicker.timezoneOffsetString(null===e.timezone?f.timezone:e.timezone,!1);case "Z":return a.timepicker.timezoneOffsetString(null===e.timezone?f.timezone:e.timezone,!0);case "T":return h.charAt(0).toUpperCase();case "TT":return h.toUpperCase();
case "t":return h.charAt(0).toLowerCase();case "tt":return h.toLowerCase();default:return c.replace(/'/g,"")}})};a.datepicker._base_selectDate=a.datepicker._selectDate;a.datepicker._selectDate=function(c,e){var f=this._getInst(a(c)[0]),g=this._get(f,"timepicker");g?(g._limitMinMaxDateTime(f,!0),f.inline=f.stay_open=!0,this._base_selectDate(c,e),f.inline=f.stay_open=!1,this._notifyChange(f),this._updateDatepicker(f)):this._base_selectDate(c,e)};a.datepicker._base_updateDatepicker=a.datepicker._updateDatepicker;
a.datepicker._updateDatepicker=function(c){var e=c.input[0];if(!a.datepicker._curInst||a.datepicker._curInst===c||!a.datepicker._datepickerShowing||a.datepicker._lastInput===e)if("boolean"!==typeof c.stay_open||!1===c.stay_open)this._base_updateDatepicker(c),(e=this._get(c,"timepicker"))&&e._addTimePicker(c)};a.datepicker._base_doKeyPress=a.datepicker._doKeyPress;a.datepicker._doKeyPress=function(c){var e=a.datepicker._getInst(c.target),f=a.datepicker._get(e,"timepicker");if(f&&a.datepicker._get(e,
"constrainInput")){var g=f.support.ampm,h=null!==f._defaults.showTimezone?f._defaults.showTimezone:f.support.timezone,e=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),f=f._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,g?"APM":"").replace(/Tt/g,g?"AaPpMm":"").replace(/tT/g,g?"AaPpMm":"").replace(/T/g,g?"AP":"").replace(/tt/g,g?"apm":"").replace(/t/g,g?"ap":"")+" "+f._defaults.separator+f._defaults.timeSuffix+(h?f._defaults.timezoneList.join(""):"")+f._defaults.amNames.join("")+
f._defaults.pmNames.join("")+e,g=String.fromCharCode(void 0===c.charCode?c.keyCode:c.charCode);return c.ctrlKey||" ">g||!e||-1<f.indexOf(g)}return a.datepicker._base_doKeyPress(c)};a.datepicker._base_updateAlternate=a.datepicker._updateAlternate;a.datepicker._updateAlternate=function(c){var e=this._get(c,"timepicker");if(e){var f=e._defaults.altField;if(f){var g=this._getDate(c);c=a.datepicker._getFormatConfig(c);var h,l=e._defaults.altSeparator?e._defaults.altSeparator:e._defaults.separator;h=e._defaults.altTimeSuffix?
e._defaults.altTimeSuffix:e._defaults.timeSuffix;h=""+(a.datepicker.formatTime(null!==e._defaults.altTimeFormat?e._defaults.altTimeFormat:e._defaults.timeFormat,e,e._defaults)+h);e._defaults.timeOnly||e._defaults.altFieldTimeOnly||null===g||(h=e._defaults.altFormat?a.datepicker.formatDate(e._defaults.altFormat,g,c)+l+h:e.formattedDate+l+h);a(f).val(h)}}else a.datepicker._base_updateAlternate(c)};a.datepicker._base_doKeyUp=a.datepicker._doKeyUp;a.datepicker._doKeyUp=function(c){var e=a.datepicker._getInst(c.target),
f=a.datepicker._get(e,"timepicker");if(f&&f._defaults.timeOnly&&e.input.val()!==e.lastVal)try{a.datepicker._updateDatepicker(e)}catch(g){a.timepicker.log(g)}return a.datepicker._base_doKeyUp(c)};a.datepicker._base_gotoToday=a.datepicker._gotoToday;a.datepicker._gotoToday=function(c){var e=this._getInst(a(c)[0]),f=e.dpDiv;this._base_gotoToday(c);c=this._get(e,"timepicker");q(c);this._setTime(e,new Date);a(".ui-datepicker-today",f).click()};a.datepicker._disableTimepickerDatepicker=function(c){var e=
this._getInst(c);if(e){var f=this._get(e,"timepicker");a(c).datepicker("getDate");f&&(e.settings.showTimepicker=!1,f._defaults.showTimepicker=!1,f._updateDateTime(e))}};a.datepicker._enableTimepickerDatepicker=function(c){var e=this._getInst(c);if(e){var f=this._get(e,"timepicker");a(c).datepicker("getDate");f&&(e.settings.showTimepicker=!0,f._defaults.showTimepicker=!0,f._addTimePicker(e),f._updateDateTime(e))}};a.datepicker._setTime=function(a,c){var e=this._get(a,"timepicker");if(e){var f=e._defaults;
e.hour=c?c.getHours():f.hour;e.minute=c?c.getMinutes():f.minute;e.second=c?c.getSeconds():f.second;e.millisec=c?c.getMilliseconds():f.millisec;e.microsec=c?c.getMicroseconds():f.microsec;e._limitMinMaxDateTime(a,!0);e._onTimeChange();e._updateDateTime(a)}};a.datepicker._setTimeDatepicker=function(a,c,e){if(a=this._getInst(a)){var f=this._get(a,"timepicker");f&&(this._setDateFromField(a),c&&("string"===typeof c?(f._parseTime(c,e),e=new Date,e.setHours(f.hour,f.minute,f.second,f.millisec),e.setMicroseconds(f.microsec)):
(e=new Date(c.getTime()),e.setMicroseconds(c.getMicroseconds())),"Invalid Date"===e.toString()&&(e=void 0),this._setTime(a,e)))}};a.datepicker._base_setDateDatepicker=a.datepicker._setDateDatepicker;a.datepicker._setDateDatepicker=function(c,e){var f=this._getInst(c);if(f){"string"===typeof e&&(e=new Date(e),e.getTime()||a.timepicker.log("Error creating Date object from string."));var g=this._get(f,"timepicker"),h;e instanceof Date?(h=new Date(e.getTime()),h.setMicroseconds(e.getMicroseconds())):
h=e;g&&h&&(g.support.timezone||null!==g._defaults.timezone||(g.timezone=-1*h.getTimezoneOffset()),e=a.timepicker.timezoneAdjust(e,g.timezone),h=a.timepicker.timezoneAdjust(h,g.timezone));this._updateDatepicker(f);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(c,h,!0)}};a.datepicker._base_getDateDatepicker=a.datepicker._getDateDatepicker;a.datepicker._getDateDatepicker=function(c,e){var f=this._getInst(c);if(f){var g=this._get(f,"timepicker");return g?(void 0===f.lastVal&&
this._setDateFromField(f,e),(f=this._getDate(f))&&g._parseTime(a(c).val(),g.timeOnly)&&(f.setHours(g.hour,g.minute,g.second,g.millisec),f.setMicroseconds(g.microsec),null!=g.timezone&&(g.support.timezone||null!==g._defaults.timezone||(g.timezone=-1*f.getTimezoneOffset()),f=a.timepicker.timezoneAdjust(f,g.timezone))),f):this._base_getDateDatepicker(c,e)}};a.datepicker._base_parseDate=a.datepicker.parseDate;a.datepicker.parseDate=function(c,e,f){var g;try{g=this._base_parseDate(c,e,f)}catch(h){if(0<=
h.indexOf(":"))g=this._base_parseDate(c,e.substring(0,e.length-(h.length-h.indexOf(":")-2)),f),a.timepicker.log("Error parsing the date string: "+h+"\ndate string = "+e+"\ndate format = "+c);else throw h;}return g};a.datepicker._base_formatDate=a.datepicker._formatDate;a.datepicker._formatDate=function(a,c,e,f){return(c=this._get(a,"timepicker"))?(c._updateDateTime(a),c.$input.val()):this._base_formatDate(a)};a.datepicker._base_optionDatepicker=a.datepicker._optionDatepicker;a.datepicker._optionDatepicker=
function(e,f,g){var h=this._getInst(e),l;if(!h)return null;if(h=this._get(h,"timepicker")){var m=null,n=null,k=null,p=h._defaults.evnts,q={},B;if("string"===typeof f)if("minDate"===f||"minDateTime"===f)m=g;else if("maxDate"===f||"maxDateTime"===f)n=g;else if("onSelect"===f)k=g;else{if(p.hasOwnProperty(f)){if("undefined"===typeof g)return p[f];q[f]=g;l={}}}else if("object"===typeof f)for(B in f.minDate?m=f.minDate:f.minDateTime?m=f.minDateTime:f.maxDate?n=f.maxDate:f.maxDateTime&&(n=f.maxDateTime),
p)p.hasOwnProperty(B)&&f[B]&&(q[B]=f[B]);for(B in q)q.hasOwnProperty(B)&&(p[B]=q[B],l||(l=a.extend({},f)),delete l[B]);if(l&&c(l))return;m?(m=0===m?new Date:new Date(m),h._defaults.minDate=m,h._defaults.minDateTime=m):n?(n=0===n?new Date:new Date(n),h._defaults.maxDate=n,h._defaults.maxDateTime=n):k&&(h._defaults.onSelect=k)}return void 0===g?this._base_optionDatepicker.call(a.datepicker,e,f):this._base_optionDatepicker.call(a.datepicker,e,l||f,g)};var c=function(a){for(var c in a)if(a.hasOwnProperty(c))return!1;
return!0},e=function(c,e){a.extend(c,e);for(var f in e)if(null===e[f]||void 0===e[f])c[f]=e[f];return c},h=function(a){var c=a.replace(/'.*?'/g,"").toLowerCase(),e=function(a,c){return-1!==a.indexOf(c)?!0:!1};return{hour:e(c,"h"),minute:e(c,"m"),second:e(c,"s"),millisec:e(c,"l"),microsec:e(c,"c"),timezone:e(c,"z"),ampm:e(c,"t")&&e(a,"h"),iso8601:e(a,"Z")}},g=function(a){a%=12;0===a&&(a=12);return String(a)},l=function(c,e){return c&&c[e]?c[e]:a.timepicker._defaults[e]},m=function(a,c){var e=l(c,"separator"),
f=l(c,"timeFormat").split(e).length,g=a.split(e),h=g.length;return 1<h?{dateString:g.splice(0,h-f).join(e),timeString:g.splice(0,f).join(e)}:{dateString:a,timeString:""}},n=function(c,e,f,g,h){f=m(f,h);c=a.datepicker._base_parseDate(c,f.dateString,g);if(""===f.timeString)return{date:c};e=a.datepicker.parseTime(e,f.timeString,h);if(!e)throw"Wrong time format";return{date:c,timeObj:e}},q=function(a,c){a&&a.timezone_select&&a.timezone_select.val(-(c||new Date).getTimezoneOffset())};a.timepicker=new f;
a.timepicker.timezoneOffsetString=function(a,c){if(isNaN(a)||840<a||-720>a)return a;var e=a%60,f=c?":":"",e=(0<=a?"+":"-")+("0"+Math.abs((a-e)/60)).slice(-2)+f+("0"+Math.abs(e)).slice(-2);return"+00:00"===e?"Z":e};a.timepicker.timezoneOffsetNumber=function(a){var c=a.toString().replace(":","");return"Z"===c.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(c)?("-"===c.substr(0,1)?-1:1)*(60*parseInt(c.substr(1,2),10)+parseInt(c.substr(3,2),10)):a};a.timepicker.timezoneAdjust=function(c,e){var f=a.timepicker.timezoneOffsetNumber(e);
isNaN(f)||c.setMinutes(c.getMinutes()+-c.getTimezoneOffset()-f);return c};a.timepicker.timeRange=function(c,e,f){return a.timepicker.handleRange("timepicker",c,e,f)};a.timepicker.datetimeRange=function(c,e,f){a.timepicker.handleRange("datetimepicker",c,e,f)};a.timepicker.dateRange=function(c,e,f){a.timepicker.handleRange("datepicker",c,e,f)};a.timepicker.handleRange=function(c,e,f,g){function h(a,k){var l=e[c]("getDate"),m=f[c]("getDate"),n=a[c]("getDate");if(null!==l){var q=new Date(l.getTime()),
v=new Date(l.getTime());q.setMilliseconds(q.getMilliseconds()+g.minInterval);v.setMilliseconds(v.getMilliseconds()+g.maxInterval);if(0<g.minInterval&&q>m)f[c]("setDate",q);else if(0<g.maxInterval&&v<m)f[c]("setDate",v);else if(l>m)k[c]("setDate",n)}}function l(a,e,f){a.val()&&(a=a[c].call(a,"getDate"),null!==a&&0<g.minInterval&&("minDate"===f&&a.setMilliseconds(a.getMilliseconds()+g.minInterval),"maxDate"===f&&a.setMilliseconds(a.getMilliseconds()-g.minInterval)),a.getTime&&e[c].call(e,"option",f,
a))}g=a.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},g);a.fn[c].call(e,a.extend({onClose:function(c,e){h(a(this),f)},onSelect:function(c){l(a(this),f,"minDate")}},g,g.start));a.fn[c].call(f,a.extend({onClose:function(c,f){h(a(this),e)},onSelect:function(c){l(a(this),e,"maxDate")}},g,g.end));h(e,f);l(e,f,"minDate");l(f,e,"maxDate");return a([e.get(0),f.get(0)])};a.timepicker.log=function(a){window.console&&window.console.log(a)};a.timepicker._util={_extendRemove:e,_isEmptyObject:c,_convert24to12:g,
_detectSupport:h,_selectLocalTimezone:q,_computeEffectiveSetting:l,_splitDateTime:m,_parseDateTimeInternal:n};Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(a){this.setMilliseconds(this.getMilliseconds()+Math.floor(a/1E3));this.microseconds=a%1E3;return this});a.timepicker.version="1.4.3"}})(jQuery);define("qui/ui/jquery-ui-timepicker-addon",function(){});
jQuery(function(a){a.datepicker.setDefaults({changeYear:!0,changeMonth:!0,yearRange:"c-5:c+5"});a.datepicker.regional["zh-cn"]={closeText:"\u5173\u95ed",prevText:"&#x3C;\u4e0a\u6708",nextText:"\u4e0b\u6708&#x3E;",currentText:"\u4eca\u5929",monthNames:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),monthNamesShort:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),dayNames:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),
dayNamesShort:"\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" "),dayNamesMin:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),weekHeader:"\u5468",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0};a.datepicker.setDefaults(a.datepicker.regional["zh-cn"]);a.timepicker.regional["zh-cn"]={timeOnlyTitle:"\u65f6\u95f4\u9009\u62e9",timeText:"\u65f6\u95f4",hourText:"\u65f6",minuteText:"\u5206",secondText:"\u79d2",currentText:"\u5f53\u524d\u65f6\u95f4",
closeText:" \u786e\u8ba4",timeFormat:"HH:mm:ss",amNames:["AM","A"],pmNames:["PM","P"],isRTL:!1};a.timepicker.setDefaults(a.timepicker.regional["zh-cn"]);a.timepicker.setDefaults({controlType:{create:function(f,c,e,h,g,l,m){a('<input class="ui-timepicker-input" value="'+h+'" style="width:50%">').appendTo(c).spinner({min:g,max:l,step:m,change:function(a,c){void 0!==a.originalEvent&&f._onTimeChange();f._onSelectHandler()},spin:function(a,g){f.control.value(f,c,e,g.value);f._onTimeChange();f._onSelectHandler()}});
return c},options:function(a,c,e,h,g){return"string"==typeof h&&void 0!==g?c.find(".ui-timepicker-input").spinner(h,g):c.find(".ui-timepicker-input").spinner(h)},value:function(a,c,e,h){return void 0!==h?c.find(".ui-timepicker-input").spinner("value",h):c.find(".ui-timepicker-input").spinner("value")},numberOfMonths:1}})});define("qui/ui/jquery.ui.datepicker-zh-cn",function(){});
(function(a){a.jgrid=a.jgrid||{};a.extend(a.jgrid,{defaults:{recordtext:"{0} - {1}\u3000\u5171 {2} \u6761",emptyrecords:"\u65e0\u6570\u636e\u663e\u793a",loadtext:"\u8bfb\u53d6\u4e2d...",pgtext:" {0} \u5171 {1} \u9875"},search:{caption:"\u641c\u7d22...",Find:"\u67e5\u627e",Reset:"\u91cd\u7f6e",odata:"\u7b49\u4e8e\u3000\u3000 \u4e0d\u7b49\u3000\u3000 \u5c0f\u4e8e\u3000\u3000 \u5c0f\u4e8e\u7b49\u4e8e \u5927\u4e8e\u3000\u3000 \u5927\u4e8e\u7b49\u4e8e \u5f00\u59cb\u4e8e \u4e0d\u5f00\u59cb\u4e8e \u5c5e\u4e8e\u3000\u3000 \u4e0d\u5c5e\u4e8e \u7ed3\u675f\u4e8e \u4e0d\u7ed3\u675f\u4e8e \u5305\u542b\u3000\u3000 \u4e0d\u5305\u542b \u7a7a\u503c\u4e8e\u3000\u3000 \u975e\u7a7a\u503c".split(" "),
groupOps:[{op:"AND",text:"\u6240\u6709"},{op:"OR",text:"\u4efb\u4e00"}],matchText:" \u5339\u914d",rulesText:" \u89c4\u5219"},edit:{addCaption:"\u6dfb\u52a0\u8bb0\u5f55",editCaption:"\u7f16\u8f91\u8bb0\u5f55",bSubmit:"\u63d0\u4ea4",bCancel:"\u53d6\u6d88",bClose:"\u5173\u95ed",saveData:"\u6570\u636e\u5df2\u6539\u53d8\uff0c\u662f\u5426\u4fdd\u5b58\uff1f",bYes:"\u662f",bNo:"\u5426",bExit:"\u53d6\u6d88",msg:{required:"\u6b64\u5b57\u6bb5\u5fc5\u9700",number:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57",
minValue:"\u8f93\u503c\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e ",maxValue:"\u8f93\u503c\u5fc5\u987b\u5c0f\u4e8e\u7b49\u4e8e ",email:"\u8fd9\u4e0d\u662f\u6709\u6548\u7684e-mail\u5730\u5740",integer:"\u8bf7\u8f93\u5165\u6709\u6548\u6574\u6570",date:"\u8bf7\u8f93\u5165\u6709\u6548\u65f6\u95f4",url:"\u65e0\u6548\u7f51\u5740\u3002\u524d\u7f00\u5fc5\u987b\u4e3a ('http://' \u6216 'https://')",nodefined:" \u672a\u5b9a\u4e49\uff01",novalue:" \u9700\u8981\u8fd4\u56de\u503c\uff01",customarray:"\u81ea\u5b9a\u4e49\u51fd\u6570\u9700\u8981\u8fd4\u56de\u6570\u7ec4\uff01",
customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"\u67e5\u770b\u8bb0\u5f55",bClose:"\u5173\u95ed"},del:{caption:"\u5220\u9664",msg:"\u5220\u9664\u6240\u9009\u8bb0\u5f55\uff1f",bSubmit:"\u5220\u9664",bCancel:"\u53d6\u6d88"},nav:{edittext:"",edittitle:"\u7f16\u8f91\u6240\u9009\u8bb0\u5f55",addtext:"",addtitle:"\u6dfb\u52a0\u65b0\u8bb0\u5f55",deltext:"",deltitle:"\u5220\u9664\u6240\u9009\u8bb0\u5f55",searchtext:"",searchtitle:"\u67e5\u627e",refreshtext:"",
refreshtitle:"\u5237\u65b0\u8868\u683c",alertcap:"\u6ce8\u610f",alerttext:"\u8bf7\u9009\u62e9\u8bb0\u5f55",viewtext:"",viewtitle:"\u67e5\u770b\u6240\u9009\u8bb0\u5f55"},col:{caption:"\u9009\u62e9\u5217",bSubmit:"\u786e\u5b9a",bCancel:"\u53d6\u6d88"},errors:{errcap:"\u9519\u8bef",nourl:"\u6ca1\u6709\u8bbe\u7f6eurl",norecords:"\u6ca1\u6709\u8981\u5904\u7406\u7684\u8bb0\u5f55",model:"colNames \u548c colModel \u957f\u5ea6\u4e0d\u7b49\uff01"},formatter:{integer:{thousandsSeparator:" ",defaultValue:"0"},
number:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:"Sun Mon Tue Wed Thr Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" "),AmPm:["am","pm","AM","PM"],S:function(a){return 11>
a||13<a?["st","nd","rd","th"][Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"m-d-Y",masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"Y/j/n",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}})})(jQuery);
define("qui/ui/jquery.jqgrid.locale",function(){});
(function(a){a.jgrid=a.jgrid||{};a.extend(a.jgrid,{version:"4.4.5",htmlDecode:function(a){return a&&("&nbsp;"==a||"&#160;"==a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},format:function(f){var c=a.makeArray(arguments).slice(1);null==f&&(f="");return f.replace(/\{(\d+)\}/g,
function(a,f){return c[f]})},msie:"Microsoft Internet Explorer"==navigator.appName,msiever:function(){var a=-1;null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a},getCellIndex:function(f){f=a(f);if(f.is("tr"))return-1;f=(f.is("td")||f.is("th")?f:f.closest("td,th"))[0];return a.jgrid.msie?a.inArray(f,f.parentNode.cells):f.cellIndex},stripHtml:function(a){a=String(a);var c=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(c,""))&&"&nbsp;"!==a&&"&#160;"!==
a?a.replace(/\"/g,"'"):"":a},stripPref:function(f,c){var e=a.type(f);if("string"==e||"number"==e)f=String(f),c=""!==f?String(c).replace(String(f),""):c;return c},parse:function(f){"while(1);"==f.substr(0,9)&&(f=f.substr(9));"/*"==f.substr(0,2)&&(f=f.substr(2,f.length-4));f||(f="{}");return!0===a.jgrid.useJSON&&"object"===typeof JSON&&"function"===typeof JSON.parse?JSON.parse(f):eval("("+f+")")},parseDate:function(f,c){var e={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h,g,l;h=/[\\\/:_;.,\t\s-]/;if(c&&null!=c){c=
a.trim(c);c=c.split(h);void 0!==a.jgrid.formatter.date.masks[f]&&(f=a.jgrid.formatter.date.masks[f]);f=f.split(h);var m=a.jgrid.formatter.date.monthNames,n=a.jgrid.formatter.date.AmPm,q=function(a,c){0===a?12===c&&(c=0):12!==c&&(c+=12);return c};h=0;for(g=f.length;h<g;h++)"M"==f[h]&&(l=a.inArray(c[h],m),-1!==l&&12>l&&(c[h]=l+1,e.m=c[h])),"F"==f[h]&&(l=a.inArray(c[h],m),-1!==l&&11<l&&(c[h]=l+1-12,e.m=c[h])),"a"==f[h]&&(l=a.inArray(c[h],n),-1!==l&&2>l&&c[h]==n[l]&&(c[h]=l,e.h=q(c[h],e.h))),"A"==f[h]&&
(l=a.inArray(c[h],n),-1!==l&&1<l&&c[h]==n[l]&&(c[h]=l-2,e.h=q(c[h],e.h))),"g"===f[h]&&(e.h=parseInt(c[h],10)),void 0!==c[h]&&(e[f[h].toLowerCase()]=parseInt(c[h],10));e.m=parseInt(e.m,10)-1;h=e.y;70<=h&&99>=h?e.y=1900+e.y:0<=h&&69>=h&&(e.y=2E3+e.y);void 0!==e.j&&(e.d=e.j);void 0!==e.n&&(e.m=parseInt(e.n,10)-1)}return new Date(e.y,e.m,e.d,e.h,e.i,e.s,e.u)},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(f){return(f||
a.jgrid.uidPref)+a.jgrid.guid++},getAccessor:function(a,c){var e,h,g=[],l;if("function"===typeof c)return c(a);e=a[c];if(void 0===e)try{if("string"===typeof c&&(g=c.split(".")),l=g.length)for(e=a;e&&l--;)h=g.shift(),e=e[h]}catch(m){}return e},getXmlData:function(f,c,e){var h="string"===typeof c?c.match(/^(.*)\[(\w+)\]$/):null;if("function"===typeof c)return c(f);if(h&&h[2])return h[1]?a(h[1],f).attr(h[2]):a(f).attr(h[2]);f=a(c,f);return e?f:0<f.length?a(f).text():void 0},cellWidth:function(){return!1},
cell_width:!0,ajaxOptions:{},from:function(f){return new function(c,e){"string"===typeof c&&(c=a.data(c));var f=this,g=c,l=!0,m=!1,n=e,q=/[\$,%]/g,r=null,s=null,u=0,x=!1,v="",y=[],z=!0;if("object"===typeof c&&c.push)0<c.length&&(z="object"!==typeof c[0]?!1:!0);else throw"data provides is not an array";this._hasData=function(){return null===g?!1:0===g.length?!1:!0};this._getStr=function(a){var c=[];m&&c.push("jQuery.trim(");c.push("String("+a+")");m&&c.push(")");l||c.push(".toLowerCase()");return c.join("")};
this._strComp=function(a){return"string"===typeof a?".toString()":""};this._group=function(a,c){return{field:a.toString(),unique:c,items:[]}};this._toStr=function(c){m&&(c=a.trim(c));c=c.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"');return l?c:c.toLowerCase()};this._funcLoop=function(c){var e=[];a.each(g,function(a,f){e.push(c(f))});return e};this._append=function(a){var c;n=null===n?"":n+(""===v?" && ":v);for(c=0;c<u;c++)n+="(";x&&(n+="!");n+="("+a+")";x=!1;v="";u=0};this._setCommand=function(a,
c){r=a;s=c};this._resetNegate=function(){x=!1};this._repeatCommand=function(a,c){return null===r?f:null!==a&&null!==c?r(a,c):null!==s&&z?r(s,a):r(a)};this._equals=function(a,c){return 0===f._compare(a,c,1)};this._compare=function(a,c,e){var f=Object.prototype.toString;void 0===e&&(e=1);void 0===a&&(a=null);void 0===c&&(c=null);if(null===a&&null===c)return 0;if(null===a&&null!==c)return 1;if(null!==a&&null===c)return-1;if("[object Date]"===f.call(a)&&"[object Date]"===f.call(c))return a<c?-e:a>c?e:
0;l||"number"===typeof a||"number"===typeof c||(a=String(a),c=String(c));return a<c?-e:a>c?e:0};this._performSort=function(){0!==y.length&&(g=f._doSort(g,0))};this._doSort=function(a,c){var e=y[c].by,g=y[c].dir,l=y[c].type,m=y[c].datefmt;if(c==y.length-1)return f._getOrder(a,e,g,l,m);c++;for(var e=f._getGroup(a,e,g,l,m),g=[],n,l=0;l<e.length;l++)for(n=f._doSort(e[l].items,c),m=0;m<n.length;m++)g.push(n[m]);return g};this._getOrder=function(c,e,g,m,n){var r=[],u=[],s="a"==g?1:-1,v,z;void 0===m&&(m=
"text");z="float"==m||"number"==m||"currency"==m||"numeric"==m?function(a){a=parseFloat(String(a).replace(q,""));return isNaN(a)?0:a}:"int"==m||"integer"==m?function(a){return a?parseFloat(String(a).replace(q,"")):0}:"date"==m||"datetime"==m?function(c){return a.jgrid.parseDate(n,c).getTime()}:a.isFunction(m)?m:function(c){c=c?a.trim(String(c)):"";return l?c:c.toLowerCase()};a.each(c,function(c,f){v=""!==e?a.jgrid.getAccessor(f,e):f;void 0===v&&(v="");v=z(v,f);u.push({vSort:v,index:c})});u.sort(function(a,
c){a=a.vSort;c=c.vSort;return f._compare(a,c,s)});m=0;for(var x=c.length;m<x;)g=u[m].index,r.push(c[g]),m++;return r};this._getGroup=function(c,e,g,l,m){var n=[],q=null,r=null,u;a.each(f._getOrder(c,e,g,l,m),function(c,g){u=a.jgrid.getAccessor(g,e);null==u&&(u="");f._equals(r,u)||(r=u,null!==q&&n.push(q),q=f._group(e,u));q.items.push(g)});null!==q&&n.push(q);return n};this.ignoreCase=function(){l=!1;return f};this.useCase=function(){l=!0;return f};this.trim=function(){m=!0;return f};this.noTrim=function(){m=
!1;return f};this.execute=function(){var c=n,e=[];if(null===c)return f;a.each(g,function(){eval(c)&&e.push(this)});g=e;return f};this.data=function(){return g};this.select=function(c){f._performSort();if(!f._hasData())return[];f.execute();if(a.isFunction(c)){var e=[];a.each(g,function(a,f){e.push(c(f))});return e}return g};this.hasMatch=function(){if(!f._hasData())return!1;f.execute();return 0<g.length};this.andNot=function(a,c,e){x=!x;return f.and(a,c,e)};this.orNot=function(a,c,e){x=!x;return f.or(a,
c,e)};this.not=function(a,c,e){return f.andNot(a,c,e)};this.and=function(a,c,e){v=" && ";return void 0===a?f:f._repeatCommand(a,c,e)};this.or=function(a,c,e){v=" || ";return void 0===a?f:f._repeatCommand(a,c,e)};this.orBegin=function(){u++;return f};this.orEnd=function(){null!==n&&(n+=")");return f};this.isNot=function(a){x=!x;return f.is(a)};this.is=function(a){f._append("this."+a);f._resetNegate();return f};this._compareValues=function(c,e,g,l,m){var n;n=z?"jQuery.jgrid.getAccessor(this,'"+e+"')":
"this";void 0===g&&(g=null);var r=g,u=void 0===m.stype?"text":m.stype;if(null!==g)switch(u){case "int":case "integer":r=isNaN(Number(r))||""===r?"0":r;n="parseInt("+n+",10)";r="parseInt("+r+",10)";break;case "float":case "number":case "numeric":r=String(r).replace(q,"");r=isNaN(Number(r))||""===r?"0":r;n="parseFloat("+n+")";r="parseFloat("+r+")";break;case "date":case "datetime":r=String(a.jgrid.parseDate(m.newfmt||"Y-m-d",r).getTime());n='jQuery.jgrid.parseDate("'+m.srcfmt+'",'+n+").getTime()";break;
default:n=f._getStr(n),r=f._getStr('"'+f._toStr(r)+'"')}f._append(n+" "+l+" "+r);f._setCommand(c,e);f._resetNegate();return f};this.equals=function(a,c,e){return f._compareValues(f.equals,a,c,"==",e)};this.notEquals=function(a,c,e){return f._compareValues(f.equals,a,c,"!==",e)};this.isNull=function(a,c,e){return f._compareValues(f.equals,a,null,"===",e)};this.greater=function(a,c,e){return f._compareValues(f.greater,a,c,">",e)};this.less=function(a,c,e){return f._compareValues(f.less,a,c,"<",e)};
this.greaterOrEquals=function(a,c,e){return f._compareValues(f.greaterOrEquals,a,c,">=",e)};this.lessOrEquals=function(a,c,e){return f._compareValues(f.lessOrEquals,a,c,"<=",e)};this.startsWith=function(c,e){var g=null==e?c:e,g=m?a.trim(g.toString()).length:g.toString().length;z?f._append(f._getStr("jQuery.jgrid.getAccessor(this,'"+c+"')")+".substr(0,"+g+") == "+f._getStr('"'+f._toStr(e)+'"')):(g=m?a.trim(e.toString()).length:e.toString().length,f._append(f._getStr("this")+".substr(0,"+g+") == "+
f._getStr('"'+f._toStr(c)+'"')));f._setCommand(f.startsWith,c);f._resetNegate();return f};this.endsWith=function(c,e){var g=null==e?c:e,g=m?a.trim(g.toString()).length:g.toString().length;z?f._append(f._getStr("jQuery.jgrid.getAccessor(this,'"+c+"')")+".substr("+f._getStr("jQuery.jgrid.getAccessor(this,'"+c+"')")+".length-"+g+","+g+') == "'+f._toStr(e)+'"'):f._append(f._getStr("this")+".substr("+f._getStr("this")+'.length-"'+f._toStr(c)+'".length,"'+f._toStr(c)+'".length) == "'+f._toStr(c)+'"');f._setCommand(f.endsWith,
c);f._resetNegate();return f};this.contains=function(a,c){z?f._append(f._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+f._toStr(c)+'",0) > -1'):f._append(f._getStr("this")+'.indexOf("'+f._toStr(a)+'",0) > -1');f._setCommand(f.contains,a);f._resetNegate();return f};this.groupBy=function(a,c,e,l){return f._hasData()?f._getGroup(g,a,c,e,l):null};this.orderBy=function(c,e,g,l){e=null==e?"a":a.trim(e.toString().toLowerCase());null==g&&(g="text");null==l&&(l="Y-m-d");if("desc"==e||"descending"==
e)e="d";if("asc"==e||"ascending"==e)e="a";y.push({by:c,dir:e,type:g,datefmt:l});return f};return f}(f,null)},getMethod:function(f){return this.getAccessor(a.fn.jqGrid,f)},extend:function(f){a.extend(a.fn.jqGrid,f);this.no_legacy_api||a.fn.extend(f)}});a.fn.jqGrid=function(f){if("string"===typeof f){var c=a.jgrid.getMethod(f);if(!c)throw"jqGrid - No such method: "+f;var e=a.makeArray(arguments).slice(1);return c.apply(this,e)}return this.each(function(){if(!this.grid){var c=a.extend(!0,{url:"",height:150,
page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,
loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,
totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},
direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:""},a.jgrid.defaults,f||{}),e=this,l={headers:[],cols:[],footers:[],dragStart:function(f,k,l){this.resizing={idx:f,startX:k.clientX,
sOL:l[0]};this.hDiv.style.cursor="col-resize";this.curGbox=a("#rs_m"+a.jgrid.jqID(c.id),"#gbox_"+a.jgrid.jqID(c.id));this.curGbox.css({display:"block",left:l[0],top:l[1],height:l[2]});a(e).triggerHandler("jqGridResizeStart",[k,f]);a.isFunction(c.resizeStart)&&c.resizeStart.call(this,k,f);document.onselectstart=function(){return!1}},dragMove:function(a){if(this.resizing){var e=a.clientX-this.resizing.startX;a=this.headers[this.resizing.idx];var f="ltr"===c.direction?a.width+e:a.width-e,g;33<f&&(this.curGbox.css({left:this.resizing.sOL+
e}),!0===c.forceFit?(g=this.headers[this.resizing.idx+c.nv],e="ltr"===c.direction?g.width-e:g.width+e,33<e&&(a.newWidth=f,g.newWidth=e)):(this.newWidth="ltr"===c.direction?c.tblwidth+e:c.tblwidth-e,a.newWidth=f))}},dragEnd:function(){this.hDiv.style.cursor="default";if(this.resizing){var f=this.resizing.idx,k=this.headers[f].newWidth||this.headers[f].width,k=parseInt(k,10);this.resizing=!1;a("#rs_m"+a.jgrid.jqID(c.id)).css("display","none");c.colModel[f].width=k;this.headers[f].width=k;this.headers[f].el.style.width=
k+"px";this.cols[f].style.width=k+"px";0<this.footers.length&&(this.footers[f].style.width=k+"px");!0===c.forceFit?(k=this.headers[f+c.nv].newWidth||this.headers[f+c.nv].width,this.headers[f+c.nv].width=k,this.headers[f+c.nv].el.style.width=k+"px",this.cols[f+c.nv].style.width=k+"px",0<this.footers.length&&(this.footers[f+c.nv].style.width=k+"px"),c.colModel[f+c.nv].width=k):(c.tblwidth=this.newWidth||c.tblwidth,a("table:first",this.bDiv).css("width",c.tblwidth+"px"),a("table:first",this.hDiv).css("width",
c.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,c.footerrow&&(a("table:first",this.sDiv).css("width",c.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));a(e).triggerHandler("jqGridResizeStop",[k,f]);a.isFunction(c.resizeStop)&&c.resizeStop.call(this,k,f)}this.curGbox=null;document.onselectstart=function(){return!0}},populateVisible:function(){l.timer&&clearTimeout(l.timer);l.timer=null;var e=a(l.bDiv).height();if(e){var f=a("table:first",l.bDiv),g,k;if(f[0].rows.length)try{k=(g=
f[0].rows[1])?a(g).outerHeight()||l.prevRowHeight:l.prevRowHeight}catch(m){k=l.prevRowHeight}if(k){l.prevRowHeight=k;var n=c.rowNum;g=l.scrollTop=l.bDiv.scrollTop;var p=Math.round(f.position().top)-g,r=p+f.height();k*=n;var q,u,t;r<e&&0>=p&&(void 0===c.lastpage||parseInt((r+g+k-1)/k,10)<=c.lastpage)&&(u=parseInt((e-r+k-1)/k,10),0<=r||2>u||!0===c.scroll?(q=Math.round((r+g)/k)+1,p=-1):p=1);0<p&&(q=parseInt(g/k,10)+1,u=parseInt((g+e)/k,10)+2-q,t=!0);!u||c.lastpage&&(q>c.lastpage||1==c.lastpage||q===
c.page&&q===c.lastpage)||(l.hDiv.loading?l.timer=setTimeout(l.populateVisible,c.scrollTimeout):(c.page=q,t&&(l.selectionPreserver(f[0]),l.emptyRows.call(f[0],!1,!1)),l.populate(u)))}}},scrollGrid:function(a){if(c.scroll){var e=l.bDiv.scrollTop;void 0===l.scrollTop&&(l.scrollTop=0);e!=l.scrollTop&&(l.scrollTop=e,l.timer&&clearTimeout(l.timer),l.timer=setTimeout(l.populateVisible,c.scrollTimeout))}l.hDiv.scrollLeft=l.bDiv.scrollLeft;c.footerrow&&(l.sDiv.scrollLeft=l.bDiv.scrollLeft);a&&a.stopPropagation()},
selectionPreserver:function(c){var e=c.p,f=e.selrow,g=e.selarrrow?a.makeArray(e.selarrrow):null,h=c.grid.bDiv.scrollLeft,k=function(){var l;e.selrow=null;e.selarrrow=[];if(e.multiselect&&g&&0<g.length)for(l=0;l<g.length;l++)g[l]!=f&&a(c).jqGrid("setSelection",g[l],!1,null);f&&a(c).jqGrid("setSelection",f,!1,null);c.grid.bDiv.scrollLeft=h;a(c).unbind(".selectionPreserver",k)};a(c).bind("jqGridGridComplete.selectionPreserver",k)}};if("TABLE"!=this.tagName.toUpperCase())alert("Element is not a table");
else if(void 0!==document.documentMode&&5>=document.documentMode)alert("Grid can not be used in this ('quirks') mode!");else{a(this).empty().attr("tabindex","0");this.p=c;this.p.useProp=!!a.fn.prop;var m,n;if(0===this.p.colNames.length)for(m=0;m<this.p.colModel.length;m++)this.p.colNames[m]=this.p.colModel[m].label||this.p.colModel[m].name;if(this.p.colNames.length!==this.p.colModel.length)alert(a.jgrid.errors.model);else{var q=a("<div class='ui-jqgrid-view'></div>"),r=a.jgrid.msie;e.p.direction=
a.trim(e.p.direction.toLowerCase());-1==a.inArray(e.p.direction,["ltr","rtl"])&&(e.p.direction="ltr");n=e.p.direction;a(q).insertBefore(this);a(this).removeClass("scroll").appendTo(q);var s=a("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");a(s).attr({id:"gbox_"+this.id,dir:n}).insertBefore(q);a(q).attr("id","gview_"+this.id).appendTo(s);a("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(q);a("<div class='loading ui-state-default ui-state-active' id='load_"+
this.id+"'>"+this.p.loadtext+"</div>").insertBefore(q);a(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var u=function(a,c){a=parseInt(a,10);return isNaN(a)?c||0:a},x=function(c,f,h,k,m,n){var p=e.p.colModel[c],r=p.align,q='style="',u=p.classes,t=p.name,w=[];r&&(q+="text-align:"+r+";");!0===p.hidden&&(q+="display:none;");if(0===f)q+="width: "+l.headers[c].width+"px;";else if(p.cellattr&&a.isFunction(p.cellattr)&&
(c=p.cellattr.call(e,m,h,k,p,n))&&"string"===typeof c)if(c=c.replace(/style/i,"style").replace(/title/i,"title"),-1<c.indexOf("title")&&(p.title=!1),-1<c.indexOf("class")&&(u=void 0),w=c.split("style"),2===w.length){w[1]=a.trim(w[1].replace("=",""));if(0===w[1].indexOf("'")||0===w[1].indexOf('"'))w[1]=w[1].substring(1);q+=w[1].replace(/'/gi,'"')}else q+='"';w.length||(w[0]="",q+='"');q+=(void 0!==u?' class="'+u+'"':"")+(p.title&&h?' title="'+a.jgrid.stripHtml(h)+'"':"");q+=' aria-describedby="'+e.p.id+
"_"+t+'"';return q+w[0]},v=function(c){return null==c||""===c?"&#160;":e.p.autoencode?a.jgrid.htmlEncode(c):String(c)},y=function(c,f,h,k,l){var m=e.p.colModel[h];void 0!==m.formatter?(c=""!==String(e.p.idPrefix)?a.jgrid.stripPref(e.p.idPrefix,c):c,c={rowId:c,colModel:m,gid:e.p.id,pos:h},f=a.isFunction(m.formatter)?m.formatter.call(e,f,c,k,l):a.fmatter?a.fn.fmatter.call(e,m.formatter,f,c,k,l):v(f)):f=v(f);return f},z=function(a,c,e,f,g,h){c=y(a,c,e,g,"add");return'<td role="gridcell" '+x(e,f,c,g,
a,h)+">"+c+"</td>"},k=function(a,c,f,h){h='<input data-filter="1" role="checkbox" type="checkbox" id="jqg_'+e.p.id+"_"+a+'" class="cbox" name="jqg_'+e.p.id+"_"+a+'"'+(h?'checked="checked"':"")+"/>";return'<td role="gridcell" '+x(c,f,"",null,a,!0)+">"+h+"</td>"},p=function(a,c,e,f){e=(parseInt(e,10)-1)*parseInt(f,10)+1+c;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+x(a,c,e,null,c,!0)+">"+e+"</td>"},w=function(a){var c,f=[],h=0,k;for(k=0;k<e.p.colModel.length;k++)c=e.p.colModel[k],
"cb"!==c.name&&"subgrid"!==c.name&&"rn"!==c.name&&(f[h]="local"==a?c.name:"xml"==a||"xmlstring"===a?c.xmlmap||c.name:c.jsonmap||c.name,h++);return f},B=function(c){var f=e.p.remapColumns;f&&f.length||(f=a.map(e.p.colModel,function(a,c){return c}));c&&(f=a.map(f,function(a){return a<c?null:a-c}));return f},D=function(c,e){var f;this.p.deepempty?a(this.rows).slice(1).remove():(f=0<this.rows.length?this.rows[0]:null,a(this.firstChild).empty().append(f));c&&this.p.scroll&&(a(this.grid.bDiv.firstChild).css({height:"auto"}),
a(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0));!0===e&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},F=function(){var c=e.p.data.length,f,h,k;f=!0===e.p.rownumbers?1:0;h=!0===e.p.multiselect?1:0;k=!0===e.p.subGrid?1:0;f=!1===e.p.keyIndex||!0===e.p.loadonce?e.p.localReader.id:e.p.colModel[e.p.keyIndex+h+k+f].name;for(h=0;h<c;h++)k=a.jgrid.getAccessor(e.p.data[h],f),void 0===k&&(k=String(h+1)),e.p._index[k]=h},
K=function(c,f,h,k,l,m){var n="-1",p="",q;f=f?"display:none;":"";h="ui-widget-content jqgrow ui-row-"+e.p.direction+(h?" "+h:"")+(m?" ui-state-highlight":"");m=a(e).triggerHandler("jqGridRowAttr",[k,l,c]);"object"!==typeof m&&(m=a.isFunction(e.p.rowattr)?e.p.rowattr.call(e,k,l,c):{});if(!a.isEmptyObject(m)){m.hasOwnProperty("id")&&(c=m.id,delete m.id);m.hasOwnProperty("tabindex")&&(n=m.tabindex,delete m.tabindex);m.hasOwnProperty("style")&&(f+=m.style,delete m.style);m.hasOwnProperty("class")&&(h+=
" "+m["class"],delete m["class"]);try{delete m.role}catch(r){}for(q in m)m.hasOwnProperty(q)&&(p+=" "+q+"="+m[q])}return'<tr role="row" id="'+c+'" tabindex="'+n+'" class="'+h+'"'+(""===f?"":' style="'+f+'"')+p+">"},A=function(c,f,h,l,m){var n=new Date,q="local"!=e.p.datatype&&e.p.loadonce||"xmlstring"==e.p.datatype,r=e.p.xmlReader,u="local"==e.p.datatype?"local":"xml";q&&(e.p.data=[],e.p._index={},e.p.localReader.id="_id_");e.p.reccount=0;if(a.isXMLDoc(c)){-1!==e.p.treeANode||e.p.scroll?h=1<h?h:1:
(D.call(e,!1,!0),h=1);var t=a(e),s,v,x=0,A,y=!0===e.p.multiselect?1:0,E=0,H,I=!0===e.p.rownumbers?1:0,G,F=[],L,Q={},J,W,M=[],N=!0===e.p.altRows?e.p.altclass:"",T;!0===e.p.subGrid&&(E=1,H=a.jgrid.getMethod("addSubGridCell"));r.repeatitems||(F=w(u));G=!1===e.p.keyIndex?a.isFunction(r.id)?r.id.call(e,c):r.id:e.p.keyIndex;0<F.length&&!isNaN(G)&&(e.p.remapColumns&&e.p.remapColumns.length&&(G=a.inArray(G,e.p.remapColumns)),G=F[G]);u=-1===String(G).indexOf("[")?F.length?function(c,e){return a(G,c).text()||
e}:function(c,e){return a(r.cell,c).eq(G).text()||e}:function(a,c){return a.getAttribute(G.replace(/[\[\]]/g,""))||c};e.p.userData={};e.p.page=a.jgrid.getXmlData(c,r.page)||e.p.page||0;e.p.lastpage=a.jgrid.getXmlData(c,r.total);void 0===e.p.lastpage&&(e.p.lastpage=1);e.p.records=a.jgrid.getXmlData(c,r.records)||0;a.isFunction(r.userdata)?e.p.userData=r.userdata.call(e,c)||{}:a.jgrid.getXmlData(c,r.userdata,!0).each(function(){e.p.userData[this.getAttribute("name")]=a(this).text()});c=a.jgrid.getXmlData(c,
r.root,!0);(c=a.jgrid.getXmlData(c,r.row,!0))||(c=[]);var S=c.length,O=0,U=[],X=parseInt(e.p.rowNum,10),P=e.p.scroll?a.jgrid.randId():1;0<S&&0>=e.p.page&&(e.p.page=1);if(c&&S){m&&(X*=m+1);m=a.isFunction(e.p.afterInsertRow);var ha=!1,R;e.p.grouping&&(ha=!0===e.p.groupingView.groupCollapse,R=a.jgrid.getMethod("groupingPrepare"));for(;O<S;){J=c[O];W=u(J,P+O);W=e.p.idPrefix+W;s=0===h?0:h+1;T=1==(s+O)%2?N:"";var ba=M.length;M.push("");I&&M.push(p(0,O,e.p.page,e.p.rowNum));y&&M.push(k(W,I,O,!1));E&&M.push(H.call(t,
y+I,O+h));if(r.repeatitems){L||(L=B(y+E+I));var Y=a.jgrid.getXmlData(J,r.cell,!0);a.each(L,function(a){var c=Y[this];if(!c)return!1;A=c.textContent||c.text;Q[e.p.colModel[a+y+E+I].name]=A;M.push(z(W,A,a+y+E+I,O+h,J,Q))})}else for(s=0;s<F.length;s++)A=a.jgrid.getXmlData(J,F[s]),Q[e.p.colModel[s+y+E+I].name]=A,M.push(z(W,A,s+y+E+I,O+h,J,Q));M[ba]=K(W,ha,T,Q,J,!1);M.push("</tr>");e.p.grouping&&(U=R.call(t,M,U,Q,O),M=[]);if(q||!0===e.p.treeGrid)Q._id_=W,e.p.data.push(Q),e.p._index[a.jgrid.stripPref(e.p.idPrefix,
W)]=e.p.data.length-1;!1===e.p.gridview&&(a("tbody:first",f).append(M.join("")),t.triggerHandler("jqGridAfterInsertRow",[W,Q,J]),m&&e.p.afterInsertRow.call(e,W,Q,J),M=[]);Q={};x++;O++;if(x==X)break}}!0===e.p.gridview&&(v=-1<e.p.treeANode?e.p.treeANode:0,e.p.grouping?(t.jqGrid("groupingRender",U,e.p.colModel.length),U=null):!0===e.p.treeGrid&&0<v?a(e.rows[v]).after(M.join("")):a("tbody:first",f).append(M.join("")));if(!0===e.p.subGrid)try{t.jqGrid("addSubGrid",y+I)}catch(ca){}e.p.totaltime=new Date-
n;0<x&&0===e.p.records&&(e.p.records=S);M=null;if(!0===e.p.treeGrid)try{t.jqGrid("setTreeNode",v+1,x+v+1)}catch(V){}e.p.treeGrid||e.p.scroll||(e.grid.bDiv.scrollTop=0);e.p.reccount=x;e.p.treeANode=-1;e.p.userDataOnFooter&&t.jqGrid("footerData","set",e.p.userData,!0);q&&(e.p.records=S,e.p.lastpage=Math.ceil(S/X));l||e.updatepager(!1,!0);if(q)for(;x<S;){J=c[x];W=u(J,x+P);W=e.p.idPrefix+W;if(r.repeatitems){L||(L=B(y+E+I));var ka=a.jgrid.getXmlData(J,r.cell,!0);a.each(L,function(a){var c=ka[this];if(!c)return!1;
A=c.textContent||c.text;Q[e.p.colModel[a+y+E+I].name]=A})}else for(s=0;s<F.length;s++)A=a.jgrid.getXmlData(J,F[s]),Q[e.p.colModel[s+y+E+I].name]=A;Q._id_=W;e.p.data.push(Q);e.p._index[a.jgrid.stripPref(e.p.idPrefix,W)]=e.p.data.length-1;Q={};x++}}},H=function(c,f,h,l,m){var n=new Date;if(c){-1!==e.p.treeANode||e.p.scroll?h=1<h?h:1:(D.call(e,!1,!0),h=1);c=JSON.parse(Com.string.encodeHTML4Gird(JSON.stringify(c)));var r,q="local"!==e.p.datatype&&e.p.loadonce||"jsonstring"===e.p.datatype;q&&(e.p.data=
[],e.p._index={},e.p.localReader.id="_id_");e.p.reccount=0;"local"===e.p.datatype?(f=e.p.localReader,r="local"):(f=e.p.jsonReader,r="json");var u=a(e),t=0,s,v,x,A=[],y=e.p.multiselect?1:0,E=!0===e.p.subGrid?1:0,H,I=!0===e.p.rownumbers?1:0,G=B(y+E+I);r=w(r);var F,Q,L,J={},W,M,N=[],T=!0===e.p.altRows?e.p.altclass:"",S;e.p.page=a.jgrid.getAccessor(c,f.page)||e.p.page||0;Q=a.jgrid.getAccessor(c,f.total);E&&(H=a.jgrid.getMethod("addSubGridCell"));e.p.lastpage=void 0===Q?1:Q;e.p.records=a.jgrid.getAccessor(c,
f.records)||0;e.p.userData=a.jgrid.getAccessor(c,f.userdata)||{};L=!1===e.p.keyIndex?a.isFunction(f.id)?f.id.call(e,c):f.id:e.p.keyIndex;f.repeatitems||(A=r,0<A.length&&!isNaN(L)&&(e.p.remapColumns&&e.p.remapColumns.length&&(L=a.inArray(L,e.p.remapColumns)),L=A[L]));Q=a.jgrid.getAccessor(c,f.root);null==Q&&a.isArray(c)&&(Q=c);Q||(Q=[]);c=Q.length;v=0;0<c&&0>=e.p.page&&(e.p.page=1);var O=parseInt(e.p.rowNum,10),U=e.p.scroll?a.jgrid.randId():1,X=!1,P;m&&(O*=m+1);"local"!==e.p.datatype||e.p.deselectAfterSort||
(X=!0);var ha=a.isFunction(e.p.afterInsertRow),R=[],ba=!1,Y;e.p.grouping&&(ba=!0===e.p.groupingView.groupCollapse,Y=a.jgrid.getMethod("groupingPrepare"));for(;v<c;){m=Q[v];M=a.jgrid.getAccessor(m,L);void 0===M&&("number"===typeof L&&null!=e.p.colModel[L+y+E+I]&&(M=a.jgrid.getAccessor(m,e.p.colModel[L+y+E+I].name)),void 0===M&&(M=U+v,0===A.length&&f.cell&&(s=a.jgrid.getAccessor(m,f.cell)||m,M=null!=s&&void 0!==s[L]?s[L]:M)));M=e.p.idPrefix+M;s=1===h?0:h;S=1===(s+v)%2?T:"";X&&(P=e.p.multiselect?-1!==
a.inArray(M,e.p.selarrrow):M===e.p.selrow);var ca=N.length;N.push("");I&&N.push(p(0,v,e.p.page,e.p.rowNum));y&&N.push(k(M,I,v,P));E&&N.push(H.call(u,y+I,v+h));F=r;f.repeatitems&&(f.cell&&(m=a.jgrid.getAccessor(m,f.cell)||m),a.isArray(m)&&(F=G));for(x=0;x<F.length;x++)s=a.jgrid.getAccessor(m,F[x]),J[e.p.colModel[x+y+E+I].name]=s,N.push(z(M,s,x+y+E+I,v+h,m,J));N[ca]=K(M,ba,S,J,m,P);N.push("</tr>");e.p.grouping&&(R=Y.call(u,N,R,J,v),N=[]);if(q||!0===e.p.treeGrid)J._id_=M,e.p.data.push(J),e.p._index[a.jgrid.stripPref(e.p.idPrefix,
M)]=e.p.data.length-1;!1===e.p.gridview&&(a("#"+a.jgrid.jqID(e.p.id)+" tbody:first").append(N.join("")),u.triggerHandler("jqGridAfterInsertRow",[M,J,m]),ha&&e.p.afterInsertRow.call(e,M,J,m),N=[]);J={};t++;v++;if(t===O)break}!0===e.p.gridview&&(W=-1<e.p.treeANode?e.p.treeANode:0,e.p.grouping?u.jqGrid("groupingRender",R,e.p.colModel.length):!0===e.p.treeGrid&&0<W?a(e.rows[W]).after(N.join("")):a("#"+a.jgrid.jqID(e.p.id)+" tbody:first").append(N.join("")));if(!0===e.p.subGrid)try{u.jqGrid("addSubGrid",
y+I)}catch(V){}e.p.totaltime=new Date-n;0<t&&0===e.p.records&&(e.p.records=c);if(!0===e.p.treeGrid)try{u.jqGrid("setTreeNode",W+1,t+W+1)}catch(ka){}e.p.treeGrid||e.p.scroll||(e.grid.bDiv.scrollTop=0);e.p.reccount=t;e.p.treeANode=-1;e.p.userDataOnFooter&&u.jqGrid("footerData","set",e.p.userData,!0);q&&(e.p.records=c,e.p.lastpage=Math.ceil(c/O));l||e.updatepager(!1,!0);if(q)for(;t<c&&Q[t];){m=Q[t];M=a.jgrid.getAccessor(m,L);void 0===M&&("number"===typeof L&&null!=e.p.colModel[L+y+E+I]&&(M=a.jgrid.getAccessor(m,
e.p.colModel[L+y+E+I].name)),void 0===M&&(M=U+t,0===A.length&&f.cell&&(h=a.jgrid.getAccessor(m,f.cell)||m,M=null!=h&&void 0!==h[L]?h[L]:M)));if(m){M=e.p.idPrefix+M;F=r;f.repeatitems&&(f.cell&&(m=a.jgrid.getAccessor(m,f.cell)),a.isArray(m)&&(F=G));for(x=0;x<F.length;x++)J[e.p.colModel[x+y+E+I].name]=a.jgrid.getAccessor(m,F[x]);J._id_=M;e.p.data.push(J);e.p._index[a.jgrid.stripPref(e.p.idPrefix,M)]=e.p.data.length-1;J={}}t++}}},E=function(){function c(a){var e=0,f,g,h,l,m;if(null!=a.groups){(g=a.groups.length&&
"OR"===a.groupOp.toString().toUpperCase())&&s.orBegin();for(f=0;f<a.groups.length;f++){0<e&&g&&s.or();try{c(a.groups[f])}catch(n){alert(n)}e++}g&&s.orEnd()}if(null!=a.rules)try{(h=a.rules.length&&"OR"===a.groupOp.toString().toUpperCase())&&s.orBegin();for(f=0;f<a.rules.length;f++)m=a.rules[f],l=a.groupOp.toString().toUpperCase(),w[m.op]&&m.field&&(0<e&&l&&"OR"===l&&(s=s.or()),s=w[m.op](s,l)(m.field,m.data,k[m.field])),e++;h&&s.orEnd()}catch(p){alert(p)}}var f,h=!1,k={},l=[],m=[],n,p,r;if(a.isArray(e.p.data)){var q=
e.p.grouping?e.p.groupingView:!1,u,t;a.each(e.p.colModel,function(){p=this.sorttype||"text";"date"==p||"datetime"==p?(this.formatter&&"string"===typeof this.formatter&&"date"==this.formatter?(n=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:a.jgrid.formatter.date.srcformat,r=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:a.jgrid.formatter.date.newformat):n=r=this.datefmt||"Y-m-d",k[this.name]={stype:p,srcfmt:n,newfmt:r}):k[this.name]={stype:p,
srcfmt:"",newfmt:""};if(e.p.grouping)for(t=0,u=q.groupField.length;t<u;t++)if(this.name==q.groupField[t]){var c=this.name;this.index&&(c=this.index);l[t]=k[c];m[t]=c}h||this.index!=e.p.sortname&&this.name!=e.p.sortname||(f=this.name,h=!0)});if(e.p.treeGrid)a(e).jqGrid("SortTree",f,e.p.sortorder,k[f].stype,k[f].srcfmt);else{var w={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},
cn:function(a){return a.contains},nc:function(a,c){return"OR"===c?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,c){return"OR"===c?a.orNot().startsWith:a.andNot().startsWith},en:function(a,c){return"OR"===c?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,c){return"OR"===c?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,c){return"OR"===c?a.orNot().isNull:
a.andNot().isNull}},s=a.jgrid.from(e.p.data);e.p.ignoreCase&&(s=s.ignoreCase());if(!0===e.p.search){var v=e.p.postData.filters;if(v)"string"===typeof v&&(v=a.jgrid.parse(v)),c(v);else try{s=w[e.p.postData.searchOper](s)(e.p.postData.searchField,e.p.postData.searchString,k[e.p.postData.searchField])}catch(z){}}if(e.p.grouping)for(t=0;t<u;t++)s.orderBy(m[t],q.groupOrder[t],l[t].stype,l[t].srcfmt);f&&e.p.sortorder&&h&&("DESC"==e.p.sortorder.toUpperCase()?s.orderBy(e.p.sortname,"d",k[f].stype,k[f].srcfmt):
s.orderBy(e.p.sortname,"a",k[f].stype,k[f].srcfmt));var v=s.select(),x=parseInt(e.p.rowNum,10),y=v.length,A=parseInt(e.p.page,10),B=Math.ceil(y/x),E={},v=v.slice((A-1)*x,A*x),k=s=null;E[e.p.localReader.total]=B;E[e.p.localReader.page]=A;E[e.p.localReader.records]=y;E[e.p.localReader.root]=v;E[e.p.localReader.userdata]=e.p.userData;v=null;return E}}},G=function(){e.grid.hDiv.loading=!0;if(!e.p.hiddengrid)switch(e.p.loadui){case "enable":a("#load_"+a.jgrid.jqID(e.p.id)).show();break;case "block":a("#lui_"+
a.jgrid.jqID(e.p.id)).show(),a("#load_"+a.jgrid.jqID(e.p.id)).show()}},Q=function(){e.grid.hDiv.loading=!1;switch(e.p.loadui){case "enable":a("#load_"+a.jgrid.jqID(e.p.id)).hide();break;case "block":a("#lui_"+a.jgrid.jqID(e.p.id)).hide(),a("#load_"+a.jgrid.jqID(e.p.id)).hide()}},J=function(c){if(!e.grid.hDiv.loading){var f=e.p.scroll&&!1===c,h={},k,l=e.p.prmNames;0>=e.p.page&&(e.p.page=1);null!==l.search&&(h[l.search]=e.p.search);null!==l.nd&&(h[l.nd]=(new Date).getTime());null!==l.rows&&(h[l.rows]=
e.p.rowNum);null!==l.page&&(h[l.page]=e.p.page);null!==l.sort&&(h[l.sort]=e.p.sortname);null!==l.order&&(h[l.order]=e.p.sortorder);null!==e.p.rowTotal&&null!==l.totalrows&&(h[l.totalrows]=e.p.rowTotal);var m=a.isFunction(e.p.loadComplete),n=m?e.p.loadComplete:null,p=0;c=c||1;1<c?null!==l.npage?(h[l.npage]=c,p=c-1,c=1):n=function(a){e.p.page++;e.grid.hDiv.loading=!1;m&&e.p.loadComplete.call(e,a);J(c-1)}:null!==l.npage&&delete e.p.postData[l.npage];if(e.p.grouping){a(e).jqGrid("groupingSetup");var r=
e.p.groupingView,q,t="";for(q=0;q<r.groupField.length;q++){var u=r.groupField[q];a.each(e.p.colModel,function(a,c){c.name==u&&c.index&&(u=c.index)});t+=u+" "+r.groupOrder[q]+", "}h[l.sort]=t+h[l.sort]}a.extend(e.p.postData,h);var s=e.p.scroll?e.rows.length-1:1,h=a(e).triggerHandler("jqGridBeforeRequest");if(!1!==h&&"stop"!==h)if(a.isFunction(e.p.datatype))e.p.datatype.call(e,e.p.postData,"load_"+e.p.id);else{if(a.isFunction(e.p.beforeRequest)&&(h=e.p.beforeRequest.call(e),void 0===h&&(h=!0),!1===
h))return;k=e.p.datatype.toLowerCase();switch(k){case "json":case "jsonp":case "xml":case "script":a.ajax(a.extend({url:e.p.url,type:e.p.mtype,dataType:k,data:a.isFunction(e.p.serializeGridData)?e.p.serializeGridData.call(e,e.p.postData):e.p.postData,success:function(h,l,m){if(a.isFunction(e.p.beforeProcessing)&&!1===e.p.beforeProcessing.call(e,h,l,m))Q();else{"xml"===k?A(h,e.grid.bDiv,s,1<c,p):H(h,e.grid.bDiv,s,1<c,p);a(e).triggerHandler("jqGridLoadComplete",[h]);n&&n.call(e,h);a(e).triggerHandler("jqGridAfterLoadComplete",
[h]);f&&e.grid.populateVisible();if(e.p.loadonce||e.p.treeGrid)e.p.datatype="local";1===c&&Q()}},error:function(f,h,k){a.isFunction(e.p.loadError)&&e.p.loadError.call(e,f,h,k);1===c&&Q()},beforeSend:function(c,f){var h=!0;a.isFunction(e.p.loadBeforeSend)&&(h=e.p.loadBeforeSend.call(e,c,f));void 0===h&&(h=!0);if(!1===h)return!1;G()}},a.jgrid.ajaxOptions,e.p.ajaxGridOptions));break;case "xmlstring":G();h="string"!==typeof e.p.datastr?e.p.datastr:a.parseXML(e.p.datastr);A(h,e.grid.bDiv);a(e).triggerHandler("jqGridLoadComplete",
[h]);m&&e.p.loadComplete.call(e,h);a(e).triggerHandler("jqGridAfterLoadComplete",[h]);e.p.datatype="local";e.p.datastr=null;Q();break;case "jsonstring":G();h="string"===typeof e.p.datastr?a.jgrid.parse(e.p.datastr):e.p.datastr;H(h,e.grid.bDiv);a(e).triggerHandler("jqGridLoadComplete",[h]);m&&e.p.loadComplete.call(e,h);a(e).triggerHandler("jqGridAfterLoadComplete",[h]);e.p.datatype="local";e.p.datastr=null;Q();break;case "local":case "clientside":G(),e.p.datatype="local",h=E(),H(h,e.grid.bDiv,s,1<
c,p),a(e).triggerHandler("jqGridLoadComplete",[h]),n&&n.call(e,h),a(e).triggerHandler("jqGridAfterLoadComplete",[h]),f&&e.grid.populateVisible(),Q()}}}},N=function(c){a("#cb_"+a.jgrid.jqID(e.p.id),e.grid.hDiv)[e.p.useProp?"prop":"attr"]("checked",c);if(e.p.frozenColumns&&e.p.id+"_frozen")a("#cb_"+a.jgrid.jqID(e.p.id),e.grid.fhDiv)[e.p.useProp?"prop":"attr"]("checked",c)},R=function(c,f){var h="",k="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",
l="",m,p,r,q,t=function(c){var f;a.isFunction(e.p.onPaging)&&(f=e.p.onPaging.call(e,c));e.p.selrow=null;e.p.multiselect&&(e.p.selarrrow=[],N(!1));e.p.savedRow=[];return"stop"==f?!1:!0};c=c.substr(1);f+="_"+c;m="pg_"+c;p=c+"_left";r=c+"_center";q=c+"_right";a("#"+a.jgrid.jqID(c)).append("<div id='"+m+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+p+"' align='left'></td><td id='"+
r+"' align='center' style='white-space:pre;'></td><td id='"+q+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr");if(0<e.p.rowList.length){l="<td dir='"+n+"'>";l+="<select class='ui-pg-selbox' role='listbox'>";for(p=0;p<e.p.rowList.length;p++)l+='<option role="option" value="'+e.p.rowList[p]+'"'+(e.p.rowNum==e.p.rowList[p]?' selected="selected"':"")+">"+e.p.rowList[p]+"</option>";l+="</select></td>"}"rtl"==n&&(k+=l);!0===e.p.pginput&&(h="<td dir='"+n+"'>"+a.jgrid.format(e.p.pgtext||
"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+a.jgrid.jqID(c)+"'></span>")+"</td>");!0===e.p.pgbuttons?(p=["first"+f,"prev"+f,"next"+f,"last"+f],"rtl"==n&&p.reverse(),k+="<td id='"+p[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>",k+="<td id='"+p[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>",k=k+(""!==h?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"+
h+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>":"")+("<td id='"+p[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>"),k+="<td id='"+p[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"):""!==h&&(k+=h);"ltr"==n&&(k+=l);k+="</tr></tbody></table>";!0===e.p.viewrecords&&a("td#"+c+"_"+e.p.recordpos,"#"+m).append("<div dir='"+n+"' style='text-align:"+e.p.recordpos+
"' class='ui-paging-info'></div>");a("td#"+c+"_"+e.p.pagerpos,"#"+m).append(k);l=a(".ui-jqgrid").css("font-size")||"11px";a(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+l+";visibility:hidden;' ></div>");k=a(k).clone().appendTo("#testpg").width();a("#testpg").remove();0<k&&(""!==h&&(k+=50),a("td#"+c+"_"+e.p.pagerpos,"#"+m).width(k));e.p._nvtd=[];e.p._nvtd[0]=k?Math.floor((e.p.width-k)/2):Math.floor(e.p.width/3);e.p._nvtd[1]=0;k=null;a(".ui-pg-selbox",
"#"+m).bind("change",function(){if(!t("records"))return!1;e.p.page=Math.round(e.p.rowNum*(e.p.page-1)/this.value-0.5)+1;e.p.rowNum=this.value;e.p.pager&&a(".ui-pg-selbox",e.p.pager).val(this.value);e.p.toppager&&a(".ui-pg-selbox",e.p.toppager).val(this.value);J();return!1});!0===e.p.pgbuttons&&(a(".ui-pg-button","#"+m).hover(function(){a(this).hasClass("ui-state-disabled")?this.style.cursor="default":(a(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){a(this).hasClass("ui-state-disabled")||
(a(this).removeClass("ui-state-hover"),this.style.cursor="default")}),a("#first"+a.jgrid.jqID(f)+", #prev"+a.jgrid.jqID(f)+", #next"+a.jgrid.jqID(f)+", #last"+a.jgrid.jqID(f)).click(function(){var a=u(e.p.page,1),c=u(e.p.lastpage,1),h=!1,k=!0,l=!0,m=!0,n=!0;0===c||1===c?n=m=l=k=!1:1<c&&1<=a?1===a?l=k=!1:a===c&&(n=m=!1):1<c&&0===a&&(n=m=!1,a=c-1);if(!t(this.id))return!1;this.id==="first"+f&&k&&(e.p.page=1,h=!0);this.id==="prev"+f&&l&&(e.p.page=a-1,h=!0);this.id==="next"+f&&m&&(e.p.page=a+1,h=!0);this.id===
"last"+f&&n&&(e.p.page=c,h=!0);h&&J();return!1}));!0===e.p.pginput&&a("input.ui-pg-input","#"+m).keypress(function(c){if(13==(c.charCode||c.keyCode||0)){if(!t("user"))return!1;a(this).val(u(a(this).val(),1));e.p.page=0<a(this).val()?a(this).val():e.p.page;J();return!1}return this})},L=function(c,f,h,k){if(e.p.colModel[f].sortable&&!(0<e.p.savedRow.length)){h||(e.p.lastsort==f?"asc"==e.p.sortorder?e.p.sortorder="desc":"desc"==e.p.sortorder&&(e.p.sortorder="asc"):e.p.sortorder=e.p.colModel[f].firstsortorder||
"asc",e.p.page=1);if(k){if(e.p.lastsort==f&&e.p.sortorder==k&&!h)return;e.p.sortorder=k}h=e.grid.headers[e.p.lastsort].el;k=e.grid.headers[f].el;a("span.ui-grid-ico-sort",h).addClass("ui-state-disabled");a(h).attr("aria-selected","false");a("span.ui-icon-"+e.p.sortorder,k).removeClass("ui-state-disabled");a(k).attr("aria-selected","true");e.p.viewsortcols[0]||e.p.lastsort==f||(a("span.s-ico",h).hide(),a("span.s-ico",k).show());c=c.substring(5+e.p.id.length+1);e.p.sortname=e.p.colModel[f].index||c;
h=e.p.sortorder;"stop"===a(e).triggerHandler("jqGridSortCol",[c,f,h])?e.p.lastsort=f:a.isFunction(e.p.onSortCol)&&"stop"==e.p.onSortCol.call(e,c,f,h)?e.p.lastsort=f:("local"==e.p.datatype?e.p.deselectAfterSort&&a(e).jqGrid("resetSelection"):(e.p.selrow=null,e.p.multiselect&&N(!1),e.p.selarrrow=[],e.p.savedRow=[]),e.p.scroll&&(h=e.grid.bDiv.scrollLeft,D.call(e,!0,!1),e.grid.hDiv.scrollLeft=h),e.p.subGrid&&"local"==e.p.datatype&&a("td.sgexpanded","#"+a.jgrid.jqID(e.p.id)).each(function(){a(this).trigger("click")}),
J(),e.p.lastsort=f,e.p.sortname!=c&&f&&(e.p.lastsort=f))}},O=function(c){c=a(e.grid.headers[c].el);c=[c.position().left+c.outerWidth()];"rtl"==e.p.direction&&(c[0]=e.p.width-c[0]);c[0]-=e.grid.bDiv.scrollLeft;c.push(a(e.grid.hDiv).position().top);c.push(a(e.grid.bDiv).offset().top-a(e.grid.hDiv).offset().top+a(e.grid.bDiv).height());return c},P=function(c){var f,h=e.grid.headers,k=a.jgrid.getCellIndex(c);for(f=0;f<h.length;f++)if(c===h[f].el){k=f;break}return k};this.p.id=this.id;-1==a.inArray(e.p.multikey,
["shiftKey","altKey","ctrlKey"])&&(e.p.multikey=!1);e.p.keyIndex=!1;for(m=0;m<e.p.colModel.length;m++)e.p.colModel[m]=a.extend(!0,{},e.p.cmTemplate,e.p.colModel[m].template||{},e.p.colModel[m]),!1===e.p.keyIndex&&!0===e.p.colModel[m].key&&(e.p.keyIndex=m);e.p.sortorder=e.p.sortorder.toLowerCase();a.jgrid.cell_width=a.jgrid.cellWidth();!0===e.p.grouping&&(e.p.scroll=!1,e.p.rownumbers=!1,e.p.treeGrid=!1,e.p.gridview=!0);if(!0===this.p.treeGrid){try{a(this).jqGrid("setTreeGrid")}catch(I){}"local"!=e.p.datatype&&
(e.p.localReader={id:"_id_"})}if(this.p.subGrid)try{a(e).jqGrid("setSubGrid")}catch(W){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:a.jgrid.cell_width?e.p.multiselectWidth+e.p.cellLayout:e.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:e.p.rownumWidth,
sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));e.p.xmlReader=a.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},e.p.xmlReader);e.p.jsonReader=a.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},
e.p.jsonReader);e.p.localReader=a.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},e.p.localReader);e.p.scroll&&(e.p.pgbuttons=!1,e.p.pginput=!1,e.p.rowList=[]);e.p.data.length&&F();var T="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",M,X,S,Z,ba,Y,V,ca;X=ca="";if(!0===e.p.shrinkToFit&&!0===e.p.forceFit)for(m=e.p.colModel.length-1;0<=m;m--)if(!e.p.colModel[m].hidden){e.p.colModel[m].resizable=
!1;break}"horizontal"==e.p.viewsortcols[1]&&(ca=" ui-i-asc",X=" ui-i-desc");M=r?"class='ui-th-div-ie'":"";ca="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+ca+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+n+"'></span>"+("<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+X+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+n+"'></span></span>");for(m=0;m<this.p.colNames.length;m++)X=e.p.headertitles?' title="'+a.jgrid.stripHtml(e.p.colNames[m])+
'"':"",T+="<th id='"+e.p.id+"_"+e.p.colModel[m].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+n+"'"+X+">",X=e.p.colModel[m].index||e.p.colModel[m].name,T+="<div id='jqgh_"+e.p.id+"_"+e.p.colModel[m].name+"' "+M+">"+e.p.colNames[m],e.p.colModel[m].width=e.p.colModel[m].width?parseInt(e.p.colModel[m].width,10):150,"boolean"!==typeof e.p.colModel[m].title&&(e.p.colModel[m].title=!0),X==e.p.sortname&&(e.p.lastsort=m),T+=ca+"</div></th>";T+="</tr></thead>";ca=null;a(this).append(T);
a("thead tr:first th",this).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});if(this.p.multiselect){var U=[],aa;a("#cb_"+a.jgrid.jqID(e.p.id),this).bind("click",function(){e.p.selarrrow=[];var c=!0===e.p.frozenColumns?e.p.id+"_frozen":"";this.checked?(a(e.rows).each(function(f){0<f&&!a(this).hasClass("ui-subgrid")&&!a(this).hasClass("jqgroup")&&!a(this).hasClass("ui-state-disabled")&&(a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+a.jgrid.jqID(this.id))[e.p.useProp?
"prop":"attr"]("checked",!0),a(this).addClass("ui-state-highlight").attr("aria-selected","true"),e.p.selarrrow.push(this.id),e.p.selrow=this.id,c&&(a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+a.jgrid.jqID(this.id),e.grid.fbDiv)[e.p.useProp?"prop":"attr"]("checked",!0),a("#"+a.jgrid.jqID(this.id),e.grid.fbDiv).addClass("ui-state-highlight")))}),aa=!0,U=[]):(a(e.rows).each(function(f){0<f&&!a(this).hasClass("ui-subgrid")&&!a(this).hasClass("ui-state-disabled")&&(a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+a.jgrid.jqID(this.id))[e.p.useProp?
"prop":"attr"]("checked",!1),a(this).removeClass("ui-state-highlight").attr("aria-selected","false"),U.push(this.id),c&&(a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+a.jgrid.jqID(this.id),e.grid.fbDiv)[e.p.useProp?"prop":"attr"]("checked",!1),a("#"+a.jgrid.jqID(this.id),e.grid.fbDiv).removeClass("ui-state-highlight")))}),e.p.selrow=null,aa=!1);a(e).triggerHandler("jqGridSelectAll",[aa?e.p.selarrrow:U,aa]);a.isFunction(e.p.onSelectAll)&&e.p.onSelectAll.call(e,aa?e.p.selarrrow:U,aa)})}!0===e.p.autowidth&&(T=
a(s).innerWidth(),e.p.width=0<T?T:"nw");(function(){var c=0,f=a.jgrid.cell_width?0:u(e.p.cellLayout,0),h=0,k,m=u(e.p.scrollOffset,0),n,p=!1,r,q=0,t=0,s;a.each(e.p.colModel,function(){void 0===this.hidden&&(this.hidden=!1);if(e.p.grouping&&e.p.autowidth){var k=a.inArray(this.name,e.p.groupingView.groupField);0<=k&&e.p.groupingView.groupColumnShow.length>k&&(this.hidden=!e.p.groupingView.groupColumnShow[k])}this.widthOrg=n=u(this.width,0);!1===this.hidden&&(c+=n+f,this.fixed?q+=n+f:h++,t++)});isNaN(e.p.width)&&
(e.p.width=c+(!1!==e.p.shrinkToFit||isNaN(e.p.height)?0:m));l.width=e.p.width;e.p.tblwidth=c;!1===e.p.shrinkToFit&&!0===e.p.forceFit&&(e.p.forceFit=!1);!0===e.p.shrinkToFit&&0<h&&(r=l.width-f*h-q,isNaN(e.p.height)||(r-=m,p=!0),c=0,a.each(e.p.colModel,function(a){!1!==this.hidden||this.fixed||(this.width=n=Math.round(r*this.width/(e.p.tblwidth-f*h-q)),c+=n,k=a)}),s=0,p?l.width-q-(c+f*h)!==m&&(s=l.width-q-(c+f*h)-m):p||1===Math.abs(l.width-q-(c+f*h))||(s=l.width-q-(c+f*h)),e.p.colModel[k].width+=s,
e.p.tblwidth=c+s+f*h+q,e.p.tblwidth>e.p.width&&(e.p.colModel[k].width-=e.p.tblwidth-parseInt(e.p.width,10),e.p.tblwidth=e.p.width))})();a(s).css("width",l.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+e.p.id+"'>&#160;</div>");a(q).css("width",l.width+"px");var T=a("thead:first",e).get(0),t="";e.p.footerrow&&(t+="<table role='grid' style='width:"+e.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+
n+"'>");var q=a("tr:first",T),ha="<tr class='jqgfirstrow' role='row' style='height:auto'>";e.p.disableClick=!1;a("th",q).each(function(c){S=e.p.colModel[c].width;void 0===e.p.colModel[c].resizable&&(e.p.colModel[c].resizable=!0);e.p.colModel[c].resizable?(Z=document.createElement("span"),a(Z).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+n).css("cursor","col-resize"),a(this).addClass(e.p.resizeclass)):Z="";a(this).css("width",S+"px").prepend(Z);var f="";e.p.colModel[c].hidden&&(a(this).css("display",
"none"),f="display:none;");ha+="<td role='gridcell' style='height:0px;width:"+S+"px;"+f+"'></td>";l.headers[c]={width:S,el:this};ba=e.p.colModel[c].sortable;"boolean"!==typeof ba&&(ba=e.p.colModel[c].sortable=!0);f=e.p.colModel[c].name;"cb"!=f&&"subgrid"!=f&&"rn"!=f&&e.p.viewsortcols[2]&&a(">div",this).addClass("ui-jqgrid-sortable");ba&&(e.p.viewsortcols[0]?(a("div span.s-ico",this).show(),c==e.p.lastsort&&a("div span.ui-icon-"+e.p.sortorder,this).removeClass("ui-state-disabled")):c==e.p.lastsort&&
(a("div span.s-ico",this).show(),a("div span.ui-icon-"+e.p.sortorder,this).removeClass("ui-state-disabled")));e.p.footerrow&&(t+="<td role='gridcell' "+x(c,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(c){if(1==a(c.target).closest("th>span.ui-jqgrid-resize").length){var f=P(this);if(!0===e.p.forceFit){var h=e.p,k=f,m;for(m=f+1;m<e.p.colModel.length;m++)if(!0!==e.p.colModel[m].hidden){k=m;break}h.nv=k-f}l.dragStart(f,c,O(f));return!1}}).click(function(c){if(e.p.disableClick)return e.p.disableClick=
!1;var f="th>div.ui-jqgrid-sortable",h,k;e.p.viewsortcols[2]||(f="th>div>span>span.ui-grid-ico-sort");c=a(c.target).closest(f);if(1==c.length)return f=P(this),e.p.viewsortcols[2]||(h=!0,k=c.attr("sort")),L(a("div",this)[0].id,f,h,k),!1});if(e.p.sortable&&a.fn.sortable)try{a(e).jqGrid("sortableColumns",q)}catch(ka){}e.p.footerrow&&(t+="</tr></tbody></table>");ha+="</tr>";q=document.createElement("tbody");this.appendChild(q);a(this).addClass("ui-jqgrid-btable").append(ha);var ha=null,q=a("<table class='ui-jqgrid-htable' style='width:"+
e.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(T),qa=e.p.caption&&!0===e.p.hiddengrid?!0:!1;m=a("<div class='ui-jqgrid-hbox"+("rtl"==n?"-rtl":"")+"'></div>");T=null;l.hDiv=document.createElement("div");a(l.hDiv).css({width:l.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(m);a(m).append(q);q=null;qa&&a(l.hDiv).hide();e.p.pager&&("string"===typeof e.p.pager?"#"!=e.p.pager.substr(0,1)&&(e.p.pager="#"+e.p.pager):
e.p.pager="#"+a(e.p.pager).attr("id"),a(e.p.pager).css({width:l.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(s),qa&&a(e.p.pager).hide(),R(e.p.pager,""));!1===e.p.cellEdit&&!0===e.p.hoverrows&&a(e).bind("mouseover",function(c){V=a(c.target).closest("tr.jqgrow");"ui-subgrid"!==a(V).attr("class")&&a(V).addClass("ui-state-hover")}).bind("mouseout",function(c){V=a(c.target).closest("tr.jqgrow");a(V).removeClass("ui-state-hover")});var ra,ia,pa;a(e).before(l.hDiv).click(function(c){Y=
c.target;V=a(Y,e.rows).closest("tr.jqgrow");if(0===a(V).length||-1<V[0].className.indexOf("ui-state-disabled")||(a(Y,e).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==e.id)return this;var f=a(Y).hasClass("cbox"),h=a(e).triggerHandler("jqGridBeforeSelectRow",[V[0].id,c]);(h=!1===h||"stop"===h?!1:!0)&&a.isFunction(e.p.beforeSelectRow)&&(h=e.p.beforeSelectRow.call(e,V[0].id,c));if("A"!=Y.tagName&&("INPUT"!=Y.tagName&&"TEXTAREA"!=Y.tagName&&"OPTION"!=Y.tagName&&"SELECT"!=Y.tagName||
f)&&!0===h)if(ra=V[0].id,ia=a.jgrid.getCellIndex(Y),pa=a(Y).closest("td,th").html(),a(e).triggerHandler("jqGridCellSelect",[ra,ia,pa,c]),a.isFunction(e.p.onCellSelect)&&e.p.onCellSelect.call(e,ra,ia,pa,c),!0===e.p.cellEdit)if(e.p.multiselect&&f)a(e).jqGrid("setSelection",ra,!0,c);else{ra=V[0].rowIndex;try{a(e).jqGrid("editCell",ra,ia,!0)}catch(k){}}else if(e.p.multikey)c[e.p.multikey]?a(e).jqGrid("setSelection",ra,!0,c):e.p.multiselect&&f&&(f=a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+ra).is(":checked"),
a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+ra)[e.p.useProp?"prop":"attr"]("checked",f));else{if(e.p.multiselect&&e.p.multiboxonly&&!f){var l=e.p.frozenColumns?e.p.id+"_frozen":"";a(e.p.selarrrow).each(function(c,f){var h=e.rows.namedItem(f);a(h).removeClass("ui-state-highlight");a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+a.jgrid.jqID(f))[e.p.useProp?"prop":"attr"]("checked",!1);l&&(a("#"+a.jgrid.jqID(f),"#"+a.jgrid.jqID(l)).removeClass("ui-state-highlight"),a("#jqg_"+a.jgrid.jqID(e.p.id)+"_"+a.jgrid.jqID(f),"#"+
a.jgrid.jqID(l))[e.p.useProp?"prop":"attr"]("checked",!1))});e.p.selarrrow=[]}a(e).jqGrid("setSelection",ra,!0,c)}}).bind("reloadGrid",function(c,f){!0===e.p.treeGrid&&(e.p.datatype=e.p.treedatatype);f&&f.current&&e.grid.selectionPreserver(e);"local"==e.p.datatype?(a(e).jqGrid("resetSelection"),e.p.data.length&&F()):e.p.treeGrid||(e.p.selrow=null,e.p.multiselect&&(e.p.selarrrow=[],N(!1)),e.p.savedRow=[]);e.p.scroll&&D.call(e,!0,!1);if(f&&f.page){var h=f.page;h>e.p.lastpage&&(h=e.p.lastpage);1>h&&
(h=1);e.p.page=h;e.grid.bDiv.scrollTop=e.grid.prevRowHeight?(h-1)*e.grid.prevRowHeight*e.p.rowNum:0}e.grid.prevRowHeight&&e.p.scroll?(delete e.p.lastpage,e.grid.populateVisible()):e.grid.populate();!0===e.p._inlinenav&&a(e).jqGrid("showAddEditButtons");return!1}).dblclick(function(c){Y=c.target;V=a(Y,e.rows).closest("tr.jqgrow");0!==a(V).length&&(ra=V[0].rowIndex,ia=a.jgrid.getCellIndex(Y),a(e).triggerHandler("jqGridDblClickRow",[a(V).attr("id"),ra,ia,c]),a.isFunction(e.p.ondblClickRow)&&e.p.ondblClickRow.call(e,
a(V).attr("id"),ra,ia,c))}).bind("contextmenu",function(c){Y=c.target;V=a(Y,e.rows).closest("tr.jqgrow");0!==a(V).length&&(e.p.multiselect||a(e).jqGrid("setSelection",V[0].id,!0,c),ra=V[0].rowIndex,ia=a.jgrid.getCellIndex(Y),a(e).triggerHandler("jqGridRightClickRow",[a(V).attr("id"),ra,ia,c]),a.isFunction(e.p.onRightClickRow)&&e.p.onRightClickRow.call(e,a(V).attr("id"),ra,ia,c))});l.bDiv=document.createElement("div");r&&"auto"===String(e.p.height).toLowerCase()&&(e.p.height="100%");a(l.bDiv).append(a('<div style="position:relative;'+
(r&&8>a.jgrid.msiever()?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:e.p.height+(isNaN(e.p.height)?"":"px"),width:l.width+"px"}).scroll(l.scrollGrid);a("table:first",l.bDiv).css({width:e.p.tblwidth+"px"});a.support.tbody||2==a("tbody",this).length&&a("tbody:gt(0)",this).remove();e.p.multikey&&(a.jgrid.msie?a(l.bDiv).bind("selectstart",function(){return!1}):a(l.bDiv).bind("mousedown",function(){return!1}));qa&&a(l.bDiv).hide();l.cDiv=document.createElement("div");
var wa=!0===e.p.hidegrid?a("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){wa.addClass("ui-state-hover")},function(){wa.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"==n?"left":"right","0px"):"";a(l.cDiv).append(wa).append("<span class='ui-jqgrid-title"+("rtl"==n?"-rtl":"")+"'>"+e.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");
a(l.cDiv).insertBefore(l.hDiv);e.p.toolbar[0]&&(l.uDiv=document.createElement("div"),"top"==e.p.toolbar[1]?a(l.uDiv).insertBefore(l.hDiv):"bottom"==e.p.toolbar[1]&&a(l.uDiv).insertAfter(l.hDiv),"both"==e.p.toolbar[1]?(l.ubDiv=document.createElement("div"),a(l.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(l.hDiv),a(l.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(l.hDiv),qa&&a(l.ubDiv).hide()):a(l.uDiv).width(l.width).addClass("ui-userdata ui-state-default").attr("id",
"t_"+this.id),qa&&a(l.uDiv).hide());e.p.toppager&&(e.p.toppager=a.jgrid.jqID(e.p.id)+"_toppager",l.topDiv=a("<div id='"+e.p.toppager+"'></div>")[0],e.p.toppager="#"+e.p.toppager,a(l.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(l.width).insertBefore(l.hDiv),R(e.p.toppager,"_t"));e.p.footerrow&&(l.sDiv=a("<div class='ui-jqgrid-sdiv'></div>")[0],m=a("<div class='ui-jqgrid-hbox"+("rtl"==n?"-rtl":"")+"'></div>"),a(l.sDiv).append(m).width(l.width).insertAfter(l.hDiv),a(m).append(t),l.footers=
a(".ui-jqgrid-ftable",l.sDiv)[0].rows[0].cells,e.p.rownumbers&&(l.footers[0].className="ui-state-default jqgrid-rownum"),qa&&a(l.sDiv).hide());m=null;if(e.p.caption){var da=e.p.datatype;!0===e.p.hidegrid&&(a(".ui-jqgrid-titlebar-close",l.cDiv).click(function(c){var f=a.isFunction(e.p.onHeaderClick),h=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",k,m=this;!0===e.p.toolbar[0]&&("both"==e.p.toolbar[1]&&(h+=", #"+a(l.ubDiv).attr("id")),h+=", #"+a(l.uDiv).attr("id"));k=a(h,"#gview_"+
a.jgrid.jqID(e.p.id)).length;"visible"==e.p.gridstate?a(h,"#gbox_"+a.jgrid.jqID(e.p.id)).slideUp("fast",function(){k--;0===k&&(a("span",m).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),e.p.gridstate="hidden",a("#gbox_"+a.jgrid.jqID(e.p.id)).hasClass("ui-resizable")&&a(".ui-resizable-handle","#gbox_"+a.jgrid.jqID(e.p.id)).hide(),a(e).triggerHandler("jqGridHeaderClick",[e.p.gridstate,c]),f&&(qa||e.p.onHeaderClick.call(e,e.p.gridstate,c)))}):"hidden"==e.p.gridstate&&
a(h,"#gbox_"+a.jgrid.jqID(e.p.id)).slideDown("fast",function(){k--;0===k&&(a("span",m).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),qa&&(e.p.datatype=da,J(),qa=!1),e.p.gridstate="visible",a("#gbox_"+a.jgrid.jqID(e.p.id)).hasClass("ui-resizable")&&a(".ui-resizable-handle","#gbox_"+a.jgrid.jqID(e.p.id)).show(),a(e).triggerHandler("jqGridHeaderClick",[e.p.gridstate,c]),f&&(qa||e.p.onHeaderClick.call(e,e.p.gridstate,c)))});return!1}),qa&&(e.p.datatype="local",a(".ui-jqgrid-titlebar-close",
l.cDiv).trigger("click")))}else a(l.cDiv).hide();a(l.hDiv).after(l.bDiv).mousemove(function(a){if(l.resizing)return l.dragMove(a),!1});a(".ui-jqgrid-labels",l.hDiv).bind("selectstart",function(){return!1});a(document).mouseup(function(){return l.resizing?(l.dragEnd(),!1):!0});e.formatCol=x;e.sortData=L;e.updatepager=function(c,f){var h,k,l,m,n,p,q,r="",t=e.p.pager?"_"+a.jgrid.jqID(e.p.pager.substr(1)):"",s=e.p.toppager?"_"+e.p.toppager.substr(1):"";l=parseInt(e.p.page,10)-1;0>l&&(l=0);l*=parseInt(e.p.rowNum*
(e.p.pages||1),10);n=l+e.p.reccount;if(e.p.scroll){h=a("tbody:first > tr:gt(0)",e.grid.bDiv);l=n-h.length;e.p.reccount=h.length;if(k=h.outerHeight()||e.grid.prevRowHeight)h=l*k,k*=parseInt(e.p.records,10),a(">div:first",e.grid.bDiv).css({height:k}).children("div:first").css({height:h,display:h?"":"none"});e.grid.bDiv.scrollLeft=e.grid.hDiv.scrollLeft}r=e.p.pager||"";if(r+=e.p.toppager?r?","+e.p.toppager:e.p.toppager:"")q=a.jgrid.formatter.integer||{},h=u(e.p.page),k=u(e.p.lastpage),a(".selbox",r)[this.p.useProp?
"prop":"attr"]("disabled",!1),!0===e.p.pginput&&(a(".ui-pg-input",r).val(e.p.page),m=e.p.toppager?"#sp_1"+t+",#sp_1"+s:"#sp_1"+t,a(m).html(a.fmatter?a.fmatter.util.NumberFormat(e.p.lastpage,q):e.p.lastpage)),e.p.viewrecords&&(0===e.p.reccount?a(".ui-paging-info",r).html(e.p.emptyrecords):(m=l+1,p=e.p.records,a.fmatter&&(m=a.fmatter.util.NumberFormat(m,q),n=a.fmatter.util.NumberFormat(n,q),p=a.fmatter.util.NumberFormat(p,q)),a(".ui-paging-info",r).html(a.jgrid.format(e.p.recordtext,m,n,p)))),!0===
e.p.pgbuttons&&(0>=h&&(h=k=0),1==h||0===h?(a("#first"+t+", #prev"+t).addClass("ui-state-disabled").removeClass("ui-state-hover"),e.p.toppager&&a("#first_t"+s+", #prev_t"+s).addClass("ui-state-disabled").removeClass("ui-state-hover")):(a("#first"+t+", #prev"+t).removeClass("ui-state-disabled"),e.p.toppager&&a("#first_t"+s+", #prev_t"+s).removeClass("ui-state-disabled")),h==k||0===h?(a("#next"+t+", #last"+t).addClass("ui-state-disabled").removeClass("ui-state-hover"),e.p.toppager&&a("#next_t"+s+", #last_t"+
s).addClass("ui-state-disabled").removeClass("ui-state-hover")):(a("#next"+t+", #last"+t).removeClass("ui-state-disabled"),e.p.toppager&&a("#next_t"+s+", #last_t"+s).removeClass("ui-state-disabled")));!0===c&&!0===e.p.rownumbers&&a("td.jqgrid-rownum",e.rows).each(function(c){a(this).html(l+1+c)});f&&e.p.jqgdnd&&a(e).jqGrid("gridDnD","updateDnD");a(e).triggerHandler("jqGridGridComplete");a.isFunction(e.p.gridComplete)&&e.p.gridComplete.call(e);a(e).triggerHandler("jqGridAfterGridComplete")};e.refreshIndex=
F;e.setHeadCheckBox=N;e.constructTr=K;e.formatter=function(a,c,e,f,h){return y(a,c,e,f,h)};a.extend(l,{populate:J,emptyRows:D});this.grid=l;e.addXmlData=function(a){A(a,e.grid.bDiv)};e.addJSONData=function(a){H(a,e.grid.bDiv)};this.grid.cols=this.rows[0].cells;a(e).triggerHandler("jqGridInitGrid");a.isFunction(e.p.onInitGrid)&&e.p.onInitGrid.call(e);J();e.p.hiddengrid=!1}}}})};a.jgrid.extend({getGridParam:function(a){var c=this[0];if(c&&c.grid)return a?void 0!==c.p[a]?c.p[a]:null:c.p},setGridParam:function(f){return this.each(function(){this.grid&&
"object"===typeof f&&a.extend(!0,this.p,f)})},getDataIDs:function(){var f=[],c=0,e,h=0;this.each(function(){if((e=this.rows.length)&&0<e)for(;c<e;)a(this.rows[c]).hasClass("jqgrow")&&(f[h]=this.rows[c].id,h++),c++});return f},setSelection:function(f,c,e){return this.each(function(){var h,g,l,m,n,q;void 0!==f&&(c=!1===c?!1:!0,!(g=this.rows.namedItem(String(f)))||!g.className||-1<g.className.indexOf("ui-state-disabled")||(!0===this.p.scrollrows&&(l=this.rows.namedItem(f).rowIndex,0<=l&&(h=a(this.grid.bDiv)[0].clientHeight,
m=a(this.grid.bDiv)[0].scrollTop,n=a(this.rows[l]).position().top,l=this.rows[l].clientHeight,n+l>=h+m?a(this.grid.bDiv)[0].scrollTop=n-(h+m)+l+m:n<h+m&&n<m&&(a(this.grid.bDiv)[0].scrollTop=n))),!0===this.p.frozenColumns&&(q=this.p.id+"_frozen"),this.p.multiselect?(this.setHeadCheckBox(!1),this.p.selrow=g.id,m=a.inArray(this.p.selrow,this.p.selarrrow),-1===m?("ui-subgrid"!==g.className&&a(g).addClass("ui-state-highlight").attr("aria-selected","true"),h=!0,this.p.selarrrow.push(this.p.selrow)):("ui-subgrid"!==
g.className&&a(g).removeClass("ui-state-highlight").attr("aria-selected","false"),h=!1,this.p.selarrrow.splice(m,1),n=this.p.selarrrow[0],this.p.selrow=void 0===n?null:n),a("#jqg_"+a.jgrid.jqID(this.p.id)+"_"+a.jgrid.jqID(g.id))[this.p.useProp?"prop":"attr"]("checked",h),q&&(-1===m?a("#"+a.jgrid.jqID(f),"#"+a.jgrid.jqID(q)).addClass("ui-state-highlight"):a("#"+a.jgrid.jqID(f),"#"+a.jgrid.jqID(q)).removeClass("ui-state-highlight"),a("#jqg_"+a.jgrid.jqID(this.p.id)+"_"+a.jgrid.jqID(f),"#"+a.jgrid.jqID(q))[this.p.useProp?
"prop":"attr"]("checked",h)),c&&(a(this).triggerHandler("jqGridSelectRow",[g.id,h,e]),this.p.onSelectRow&&this.p.onSelectRow.call(this,g.id,h,e))):"ui-subgrid"!==g.className&&(this.p.selrow!=g.id?(a(this.rows.namedItem(this.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),a(g).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),q&&(a("#"+a.jgrid.jqID(this.p.selrow),"#"+a.jgrid.jqID(q)).removeClass("ui-state-highlight"),a("#"+a.jgrid.jqID(f),
"#"+a.jgrid.jqID(q)).addClass("ui-state-highlight")),h=!0):h=!1,this.p.selrow=g.id,c&&(a(this).triggerHandler("jqGridSelectRow",[g.id,h,e]),this.p.onSelectRow&&this.p.onSelectRow.call(this,g.id,h,e)))))})},resetSelection:function(f){return this.each(function(){var c=this,e,h,g;!0===c.p.frozenColumns&&(g=c.p.id+"_frozen");if(void 0!==f){h=f===c.p.selrow?c.p.selrow:f;a("#"+a.jgrid.jqID(c.p.id)+" tbody:first tr#"+a.jgrid.jqID(h)).removeClass("ui-state-highlight").attr("aria-selected","false");g&&a("#"+
a.jgrid.jqID(h),"#"+a.jgrid.jqID(g)).removeClass("ui-state-highlight");if(c.p.multiselect){a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(h),"#"+a.jgrid.jqID(c.p.id))[c.p.useProp?"prop":"attr"]("checked",!1);if(g)a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(h),"#"+a.jgrid.jqID(g))[c.p.useProp?"prop":"attr"]("checked",!1);c.setHeadCheckBox(!1)}h=null}else c.p.multiselect?(a(c.p.selarrrow).each(function(f,h){e=c.rows.namedItem(h);a(e).removeClass("ui-state-highlight").attr("aria-selected","false");
a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(h))[c.p.useProp?"prop":"attr"]("checked",!1);g&&(a("#"+a.jgrid.jqID(h),"#"+a.jgrid.jqID(g)).removeClass("ui-state-highlight"),a("#jqg_"+a.jgrid.jqID(c.p.id)+"_"+a.jgrid.jqID(h),"#"+a.jgrid.jqID(g))[c.p.useProp?"prop":"attr"]("checked",!1))}),c.setHeadCheckBox(!1),c.p.selarrrow=[]):c.p.selrow&&(a("#"+a.jgrid.jqID(c.p.id)+" tbody:first tr#"+a.jgrid.jqID(c.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),g&&a("#"+a.jgrid.jqID(c.p.selrow),
"#"+a.jgrid.jqID(g)).removeClass("ui-state-highlight"),c.p.selrow=null);!0===c.p.cellEdit&&0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&(a("td:eq("+c.p.iCol+")",c.rows[c.p.iRow]).removeClass("edit-cell ui-state-highlight"),a(c.rows[c.p.iRow]).removeClass("selected-row ui-state-hover"));c.p.savedRow=[]})},getRowData:function(f){var c={},e,h=!1,g,l=0;this.each(function(){var m=this,n,q;if(void 0===f)h=!0,e=[],g=m.rows.length;else{q=m.rows.namedItem(f);if(!q)return c;g=2}for(;l<g;)h&&(q=m.rows[l]),
a(q).hasClass("jqgrow")&&(a('td[role="gridcell"]',q).each(function(e){n=m.p.colModel[e].name;if("cb"!==n&&"subgrid"!==n&&"rn"!==n)if(!0===m.p.treeGrid&&n==m.p.ExpandColumn)c[n]=a.jgrid.htmlDecode(a("span:first",this).html());else try{c[n]=a.unformat.call(m,this,{rowId:q.id,colModel:m.p.colModel[e]},e)}catch(f){c[n]=a.jgrid.htmlDecode(a(this).html())}}),h&&(e.push(c),c={})),l++});return e||c},delRowData:function(f){var c=!1,e,h;this.each(function(){e=this.rows.namedItem(f);if(!e)return!1;a(e).remove();
this.p.records--;this.p.reccount--;this.updatepager(!0,!1);c=!0;this.p.multiselect&&(h=a.inArray(f,this.p.selarrrow),-1!==h&&this.p.selarrrow.splice(h,1));this.p.selrow=this.p.multiselect&&0<this.p.selarrrow.length?this.p.selarrrow[this.p.selarrrow.length-1]:null;if("local"===this.p.datatype){var g=a.jgrid.stripPref(this.p.idPrefix,f),g=this.p._index[g];void 0!==g&&(this.p.data.splice(g,1),this.refreshIndex())}if(!0===this.p.altRows&&c){var l=this.p.altclass;a(this.rows).each(function(c){1==c%2?a(this).addClass(l):
a(this).removeClass(l)})}});return c},setRowData:function(f,c,e){var h,g=!0,l;this.each(function(){if(!this.grid)return!1;var m=this,n,q,r=typeof e,s={};q=m.rows.namedItem(f);if(!q)return!1;if(c)try{if(a(this.p.colModel).each(function(e){h=this.name;void 0!==c[h]&&(s[h]=this.formatter&&"string"===typeof this.formatter&&"date"==this.formatter?a.unformat.date.call(m,c[h],this):c[h],n=m.formatter(f,c[h],e,c,"edit"),l=this.title?{title:a.jgrid.stripHtml(n)}:{},!0===m.p.treeGrid&&h==m.p.ExpandColumn?a("td[role='gridcell']:eq("+
e+") > span:first",q).html(n).attr(l):a("td[role='gridcell']:eq("+e+")",q).html(n).attr(l))}),"local"===m.p.datatype){var u=a.jgrid.stripPref(m.p.idPrefix,f),x=m.p._index[u],v;if(m.p.treeGrid)for(v in m.p.treeReader)m.p.treeReader.hasOwnProperty(v)&&delete s[m.p.treeReader[v]];void 0!==x&&(m.p.data[x]=a.extend(!0,m.p.data[x],s));s=null}}catch(y){g=!1}g&&("string"===r?a(q).addClass(e):"object"===r&&a(q).css(e),a(m).triggerHandler("jqGridAfterGridComplete"))});return g},addRowData:function(f,c,e,h){e||
(e="last");var g=!1,l,m,n,q,r,s,u,x,v="",y,z,k,p,w,B;c&&(a.isArray(c)?(y=!0,e="last",z=f):(c=[c],y=!1),this.each(function(){var D=c.length;r=!0===this.p.rownumbers?1:0;n=!0===this.p.multiselect?1:0;q=!0===this.p.subGrid?1:0;y||(void 0!==f?f=String(f):(f=a.jgrid.randId(),!1!==this.p.keyIndex&&(z=this.p.colModel[this.p.keyIndex+n+q+r].name,void 0!==c[0][z]&&(f=c[0][z]))));k=this.p.altclass;for(var F=0,K="",A={},H=a.isFunction(this.p.afterInsertRow)?!0:!1;F<D;){p=c[F];m=[];if(y){try{f=p[z],void 0===
f&&(f=a.jgrid.randId())}catch(E){f=a.jgrid.randId()}K=!0===this.p.altRows?0===(this.rows.length-1)%2?k:"":""}B=f;f=this.p.idPrefix+f;r&&(v=this.formatCol(0,1,"",null,f,!0),m[m.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+v+">0</td>");n&&(x='<input role="checkbox" type="checkbox" id="jqg_'+this.p.id+"_"+f+'" class="cbox"/>',v=this.formatCol(r,1,"",null,f,!0),m[m.length]='<td role="gridcell" '+v+">"+x+"</td>");q&&(m[m.length]=a(this).jqGrid("addSubGridCell",n+r,1));for(u=n+
q+r;u<this.p.colModel.length;u++)w=this.p.colModel[u],l=w.name,A[l]=p[l],x=this.formatter(f,a.jgrid.getAccessor(p,l),u,p),v=this.formatCol(u,1,x,p,f,A),m[m.length]='<td role="gridcell" '+v+">"+x+"</td>";m.unshift(this.constructTr(f,!1,K,A,p,!1));m[m.length]="</tr>";if(0===this.rows.length)a("table:first",this.grid.bDiv).append(m.join(""));else switch(e){case "last":a(this.rows[this.rows.length-1]).after(m.join(""));s=this.rows.length-1;break;case "first":a(this.rows[0]).after(m.join(""));s=1;break;
case "after":(s=this.rows.namedItem(h))&&(a(this.rows[s.rowIndex+1]).hasClass("ui-subgrid")?a(this.rows[s.rowIndex+1]).after(m):a(s).after(m.join("")));s++;break;case "before":if(s=this.rows.namedItem(h))a(s).before(m.join("")),s=s.rowIndex;s--}!0===this.p.subGrid&&a(this).jqGrid("addSubGrid",n+r,s);this.p.reccount++;a(this).triggerHandler("jqGridAfterInsertRow",[f,p,p]);H&&this.p.afterInsertRow.call(this,f,p,p);F++;"local"===this.p.datatype&&(A[this.p.localReader.id]=B,this.p._index[B]=this.p.data.length,
this.p.data.push(A),A={})}!0!==this.p.altRows||y||("last"===e?1===(this.rows.length-1)%2&&a(this.rows[this.rows.length-1]).addClass(k):a(this.rows).each(function(c){1===c%2?a(this).addClass(k):a(this).removeClass(k)}));this.updatepager(!0,!0);g=!0}));return g},footerData:function(f,c,e){function h(a){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0}var g,l=!1,m={},n;void 0===f&&(f="get");"boolean"!==typeof e&&(e=!0);f=f.toLowerCase();this.each(function(){var q=this,r;if(!q.grid||!q.p.footerrow||
"set"==f&&h(c))return!1;l=!0;a(this.p.colModel).each(function(h){g=this.name;"set"==f?void 0!==c[g]&&(r=e?q.formatter("",c[g],h,c,"edit"):c[g],n=this.title?{title:a.jgrid.stripHtml(r)}:{},a("tr.footrow td:eq("+h+")",q.grid.sDiv).html(r).attr(n),l=!0):"get"==f&&(m[g]=a("tr.footrow td:eq("+h+")",q.grid.sDiv).html())})});return"get"==f?m:l},showHideCol:function(f,c){return this.each(function(){var e=this,h=!1,g=a.jgrid.cell_width?0:e.p.cellLayout,l;if(e.grid){"string"===typeof f&&(f=[f]);c="none"!=c?
"":"none";var m=""===c?!0:!1,n=e.p.groupHeader&&("object"===typeof e.p.groupHeader||a.isFunction(e.p.groupHeader));n&&a(e).jqGrid("destroyGroupHeader",!1);a(this.p.colModel).each(function(n){if(-1!==a.inArray(this.name,f)&&this.hidden===m){if(!0===e.p.frozenColumns&&!0===this.frozen)return!0;a("tr",e.grid.hDiv).each(function(){a(this.cells[n]).css("display",c)});a(e.rows).each(function(){a(this).hasClass("jqgroup")||a(this.cells[n]).css("display",c)});e.p.footerrow&&a("tr.footrow td:eq("+n+")",e.grid.sDiv).css("display",
c);l=parseInt(this.width,10);e.p.tblwidth="none"===c?e.p.tblwidth-(l+g):e.p.tblwidth+(l+g);this.hidden=!m;h=!0;a(e).triggerHandler("jqGridShowHideCol",[m,this.name,n])}});!0===h&&(!0!==e.p.shrinkToFit||isNaN(e.p.height)||(e.p.tblwidth+=parseInt(e.p.scrollOffset,10)),a(e).jqGrid("setGridWidth",!0===e.p.shrinkToFit?e.p.tblwidth:e.p.width));n&&a(e).jqGrid("setGroupHeaders",e.p.groupHeader)}})},hideCol:function(f){return this.each(function(){a(this).jqGrid("showHideCol",f,"none")})},showCol:function(f){return this.each(function(){a(this).jqGrid("showHideCol",
f,"")})},remapColumns:function(f,c,e){function h(c){var e;e=c.length?a.makeArray(c):a.extend({},c);a.each(f,function(a){c[a]=e[this]})}function g(c,e){a(">tr"+(e||""),c).each(function(){var c=this,e=a.makeArray(c.cells);a.each(f,function(){var a=e[this];a&&c.appendChild(a)})})}var l=this.get(0);h(l.p.colModel);h(l.p.colNames);h(l.grid.headers);g(a("thead:first",l.grid.hDiv),e&&":not(.ui-jqgrid-labels)");c&&g(a("#"+a.jgrid.jqID(l.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");l.p.footerrow&&
g(a("tbody:first",l.grid.sDiv));l.p.remapColumns&&(l.p.remapColumns.length?h(l.p.remapColumns):l.p.remapColumns=a.makeArray(f));l.p.lastsort=a.inArray(l.p.lastsort,f);l.p.treeGrid&&(l.p.expColInd=a.inArray(l.p.expColInd,f));a(l).triggerHandler("jqGridRemapColumns",[f,c,e])},setGridWidth:function(f,c){return this.each(function(){if(this.grid){var e=this,h,g=0,l=a.jgrid.cell_width?0:e.p.cellLayout,m,n=0,q=!1,r=e.p.scrollOffset,s,u=0,x=0,v;"boolean"!==typeof c&&(c=e.p.shrinkToFit);if(!isNaN(f)){f=parseInt(f,
10);e.grid.width=e.p.width=f;a("#gbox_"+a.jgrid.jqID(e.p.id)).css("width",f+"px");a("#gview_"+a.jgrid.jqID(e.p.id)).css("width",f+"px");a(e.grid.bDiv).css("width",f+"px");a(e.grid.hDiv).css("width",f+"px");e.p.pager&&a(e.p.pager).css("width",f+"px");e.p.toppager&&a(e.p.toppager).css("width",f+"px");!0===e.p.toolbar[0]&&(a(e.grid.uDiv).css("width",f+"px"),"both"==e.p.toolbar[1]&&a(e.grid.ubDiv).css("width",f+"px"));e.p.footerrow&&a(e.grid.sDiv).css("width",f+"px");!1===c&&!0===e.p.forceFit&&(e.p.forceFit=
!1);if(!0===c){a.each(e.p.colModel,function(){!1===this.hidden&&(h=this.widthOrg,g+=h+l,this.fixed?u+=h+l:n++,x++)});if(0===n)return;e.p.tblwidth=g;s=f-l*n-u;!isNaN(e.p.height)&&(a(e.grid.bDiv)[0].clientHeight<a(e.grid.bDiv)[0].scrollHeight||1===e.rows.length)&&(q=!0,s-=r);var g=0,y=0<e.grid.cols.length;a.each(e.p.colModel,function(a){!1!==this.hidden||this.fixed||(h=this.widthOrg,h=Math.round(s*h/(e.p.tblwidth-l*n-u)),0>h||(this.width=h,g+=h,e.grid.headers[a].width=h,e.grid.headers[a].el.style.width=
h+"px",e.p.footerrow&&(e.grid.footers[a].style.width=h+"px"),y&&(e.grid.cols[a].style.width=h+"px"),m=a))});if(!m)return;v=0;q?f-u-(g+l*n)!==r&&(v=f-u-(g+l*n)-r):1!==Math.abs(f-u-(g+l*n))&&(v=f-u-(g+l*n));e.p.colModel[m].width+=v;e.p.tblwidth=g+v+l*n+u;e.p.tblwidth>f?(q=e.p.tblwidth-parseInt(f,10),e.p.tblwidth=f,h=e.p.colModel[m].width-=q):h=e.p.colModel[m].width;e.grid.headers[m].width=h;e.grid.headers[m].el.style.width=h+"px";y&&(e.grid.cols[m].style.width=h+"px");e.p.footerrow&&(e.grid.footers[m].style.width=
h+"px")}e.p.tblwidth&&(a("table:first",e.grid.bDiv).css("width",e.p.tblwidth+"px"),a("table:first",e.grid.hDiv).css("width",e.p.tblwidth+"px"),e.grid.hDiv.scrollLeft=e.grid.bDiv.scrollLeft,e.p.footerrow&&a("table:first",e.grid.sDiv).css("width",e.p.tblwidth+"px"))}}})},setGridHeight:function(f){return this.each(function(){if(this.grid){var c=a(this.grid.bDiv);c.css({height:f+(isNaN(f)?"":"px")});!0===this.p.frozenColumns&&a("#"+a.jgrid.jqID(this.p.id)+"_frozen").parent().height(c.height()-16);this.p.height=
f;this.p.scroll&&this.grid.populateVisible()}})},setCaption:function(f){return this.each(function(){this.p.caption=f;a("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(f);a(this.grid.cDiv).show()})},setLabel:function(f,c,e,h){return this.each(function(){var g=-1;if(this.grid&&void 0!==f&&(a(this.p.colModel).each(function(a){if(this.name==f)return g=a,!1}),0<=g)){var l=a("tr.ui-jqgrid-labels th:eq("+g+")",this.grid.hDiv);if(c){var m=a(".s-ico",l);a("[id^=jqgh_]",l).empty().html(c).append(m);
this.p.colNames[g]=c}e&&("string"===typeof e?a(l).addClass(e):a(l).css(e));"object"===typeof h&&a(l).attr(h)}})},setCell:function(f,c,e,h,g,l){return this.each(function(){var m=-1,n,q;if(this.grid&&(isNaN(c)?a(this.p.colModel).each(function(a){if(this.name===c)return m=a,!1}):m=parseInt(c,10),0<=m&&(n=this.rows.namedItem(f)))){var r=a("td:eq("+m+")",n);if(""!==e||!0===l)n=this.formatter(f,e,m,n,"edit"),q=this.p.colModel[m].title?{title:a.jgrid.stripHtml(n)}:{},this.p.treeGrid&&0<a(".tree-wrap",a(r)).length?
a("span",a(r)).html(n).attr(q):a(r).html(n).attr(q),"local"===this.p.datatype&&(n=this.p.colModel[m],e=n.formatter&&"string"===typeof n.formatter&&"date"===n.formatter?a.unformat.date.call(this,e,n):e,q=this.p._index[a.jgrid.stripPref(this.p.idPrefix,f)],void 0!==q&&(this.p.data[q][n.name]=e));"string"===typeof h?a(r).addClass(h):h&&a(r).css(h);"object"===typeof g&&a(r).attr(g)}})},getCell:function(f,c){var e=!1;this.each(function(){var h=-1;if(this.grid&&(isNaN(c)?a(this.p.colModel).each(function(a){if(this.name===
c)return h=a,!1}):h=parseInt(c,10),0<=h)){var g=this.rows.namedItem(f);if(g)try{e=a.unformat.call(this,a("td:eq("+h+")",g),{rowId:g.id,colModel:this.p.colModel[h]},h)}catch(l){e=a.jgrid.htmlDecode(a("td:eq("+h+")",g).html())}}});return e},getCol:function(f,c,e){var h=[],g,l=0,m,n,q;c="boolean"!==typeof c?!1:c;void 0===e&&(e=!1);this.each(function(){var r=-1;if(this.grid&&(isNaN(f)?a(this.p.colModel).each(function(a){if(this.name===f)return r=a,!1}):r=parseInt(f,10),0<=r)){var s=this.rows.length,u=
0;if(s&&0<s){for(;u<s;){if(a(this.rows[u]).hasClass("jqgrow")){try{g=a.unformat.call(this,a(this.rows[u].cells[r]),{rowId:this.rows[u].id,colModel:this.p.colModel[r]},r)}catch(x){g=a.jgrid.htmlDecode(this.rows[u].cells[r].innerHTML)}e?(q=parseFloat(g),l+=q,void 0===n&&(n=m=q),m=Math.min(m,q),n=Math.max(n,q)):c?h.push({id:this.rows[u].id,value:g}):h.push(g)}u++}if(e)switch(e.toLowerCase()){case "sum":h=l;break;case "avg":h=l/s;break;case "count":h=s;break;case "min":h=m;break;case "max":h=n}}}});return h},
clearGridData:function(f){return this.each(function(){if(this.grid){"boolean"!==typeof f&&(f=!1);if(this.p.deepempty)a("#"+a.jgrid.jqID(this.p.id)+" tbody:first tr:gt(0)").remove();else{var c=a("#"+a.jgrid.jqID(this.p.id)+" tbody:first tr:first")[0];a("#"+a.jgrid.jqID(this.p.id)+" tbody:first").empty().append(c)}this.p.footerrow&&f&&a(".ui-jqgrid-ftable td",this.grid.sDiv).html("&#160;");this.p.selrow=null;this.p.selarrrow=[];this.p.savedRow=[];this.p.records=0;this.p.page=1;this.p.lastpage=0;this.p.reccount=
0;this.p.data=[];this.p._index={};this.updatepager(!0,!1)}})},getInd:function(a,c){var e=!1,h;this.each(function(){(h=this.rows.namedItem(a))&&(e=!0===c?h:h.rowIndex)});return e},bindKeys:function(f){var c=a.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},f||{});return this.each(function(){var e=this;a("body").is("[role]")||a("body").attr("role","application");e.p.scrollrows=c.scrollingRows;a(e).keydown(function(f){var g=a(e).find("tr[tabindex=0]")[0],l,m,n,q=e.p.treeReader.expanded_field;
if(g)if(n=e.p._index[a.jgrid.stripPref(e.p.idPrefix,g.id)],37===f.keyCode||38===f.keyCode||39===f.keyCode||40===f.keyCode){if(38===f.keyCode){m=g.previousSibling;l="";if(m)if(a(m).is(":hidden"))for(;m;){if(m=m.previousSibling,!a(m).is(":hidden")&&a(m).hasClass("jqgrow")){l=m.id;break}}else l=m.id;a(e).jqGrid("setSelection",l,!0,f);f.preventDefault()}if(40===f.keyCode){m=g.nextSibling;l="";if(m)if(a(m).is(":hidden"))for(;m;){if(m=m.nextSibling,!a(m).is(":hidden")&&a(m).hasClass("jqgrow")){l=m.id;break}}else l=
m.id;a(e).jqGrid("setSelection",l,!0,f);f.preventDefault()}37===f.keyCode&&(e.p.treeGrid&&e.p.data[n][q]&&a(g).find("div.treeclick").trigger("click"),a(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),a.isFunction(c.onLeftKey)&&c.onLeftKey.call(e,e.p.selrow));39===f.keyCode&&(e.p.treeGrid&&!e.p.data[n][q]&&a(g).find("div.treeclick").trigger("click"),a(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),a.isFunction(c.onRightKey)&&c.onRightKey.call(e,e.p.selrow))}else 13===f.keyCode?(a(e).triggerHandler("jqGridKeyEnter",
[e.p.selrow]),a.isFunction(c.onEnter)&&c.onEnter.call(e,e.p.selrow)):32===f.keyCode&&(a(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),a.isFunction(c.onSpace)&&c.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){a(this).unbind("keydown")})},getLocalRow:function(f){var c=!1,e;this.each(function(){void 0!==f&&(e=this.p._index[a.jgrid.stripPref(this.p.idPrefix,f)],0<=e&&(c=this.p.data[e]))});return c}})})(jQuery);
(function(a){a.jgrid.extend({getColProp:function(a){var c={},e=this[0];if(!e.grid)return!1;var e=e.p.colModel,h;for(h=0;h<e.length;h++)if(e[h].name==a){c=e[h];break}return c},setColProp:function(f,c){return this.each(function(){if(this.grid&&c){var e=this.p.colModel,h;for(h=0;h<e.length;h++)if(e[h].name==f){a.extend(!0,this.p.colModel[h],c);break}}})},sortGrid:function(a,c,e){return this.each(function(){var h=-1,g;if(this.grid){a||(a=this.p.sortname);for(g=0;g<this.p.colModel.length;g++)if(this.p.colModel[g].index==
a||this.p.colModel[g].name==a){h=g;break}-1!=h&&(g=this.p.colModel[h].sortable,"boolean"!==typeof g&&(g=!0),"boolean"!==typeof c&&(c=!1),g&&this.sortData("jqgh_"+this.p.id+"_"+a,h,c,e))}})},clearBeforeUnload:function(){return this.each(function(){var f=this.grid;f.emptyRows.call(this,!0,!0);a(f.hDiv).unbind("mousemove");a(this).unbind();f.dragEnd=null;f.dragMove=null;f.dragStart=null;f.emptyRows=null;f.populate=null;f.populateVisible=null;f.scrollGrid=null;f.selectionPreserver=null;f.bDiv=null;f.cDiv=
null;f.hDiv=null;f.cols=null;var c,e=f.headers.length;for(c=0;c<e;c++)f.headers[c].el=null;this.addJSONData=this.addXmlData=this.formatter=this.constructTr=this.setHeadCheckBox=this.refreshIndex=this.updatepager=this.sortData=this.formatCol=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&a(this.p.pager).remove();try{a(this).jqGrid("clearBeforeUnload"),a("#gbox_"+a.jgrid.jqID(this.id)).remove()}catch(f){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var f=
a(this).attr("id"),c=a(this).attr("class");this.p.pager&&a(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var e=document.createElement("table");a(e).attr({id:f});e.className=c;f=a.jgrid.jqID(this.id);a(e).removeClass("ui-jqgrid-btable");1===a(this.p.pager).parents("#gbox_"+f).length?(a(e).insertBefore("#gbox_"+f).show(),a(this.p.pager).insertBefore("#gbox_"+f)):a(e).insertBefore("#gbox_"+f).show();a(this).jqGrid("clearBeforeUnload");a("#gbox_"+f).remove()}})},
setGridState:function(f){return this.each(function(){this.grid&&("hidden"==f?(a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+a.jgrid.jqID(this.p.id)).slideUp("fast"),this.p.pager&&a(this.p.pager).slideUp("fast"),this.p.toppager&&a(this.p.toppager).slideUp("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&a(this.grid.ubDiv).slideUp("fast"),a(this.grid.uDiv).slideUp("fast")),this.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+a.jgrid.jqID(this.p.id)).slideUp("fast"),a(".ui-jqgrid-titlebar-close span",
this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),this.p.gridstate="hidden"):"visible"==f&&(a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+a.jgrid.jqID(this.p.id)).slideDown("fast"),this.p.pager&&a(this.p.pager).slideDown("fast"),this.p.toppager&&a(this.p.toppager).slideDown("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&a(this.grid.ubDiv).slideDown("fast"),a(this.grid.uDiv).slideDown("fast")),this.p.footerrow&&a(".ui-jqgrid-sdiv","#gbox_"+
a.jgrid.jqID(this.p.id)).slideDown("fast"),a(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),this.p.gridstate="visible"))})},filterToolbar:function(f){f=a.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw"},f||{});return this.each(function(){var c=this;if(!this.ftoolbar){var e=function(){var e={},h=0,g,
q,r={},s;a.each(c.p.colModel,function(){q=this.index||this.name;s=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"==this.stype?"eq":f.defaultSearch;if(g=a("#gs_"+a.jgrid.jqID(this.name),!0===this.frozen&&!0===c.p.frozenColumns?c.grid.fhDiv:c.grid.hDiv).val())e[q]=g,r[q]=s,h++;else try{delete c.p.postData[q]}catch(k){}});var u=0<h?!0:!1;if(!0===f.stringResult||"local"==c.p.datatype){var x='{"groupOp":"'+f.groupOp+'","rules":[',v=0;a.each(e,function(a,c){0<v&&(x+=",");
x+='{"field":"'+a+'",';x+='"op":"'+r[a]+'",';x+='"data":"'+(c+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';v++});x+="]}";a.extend(c.p.postData,{filters:x});a.each(["searchField","searchString","searchOper"],function(a,e){c.p.postData.hasOwnProperty(e)&&delete c.p.postData[e]})}else a.extend(c.p.postData,e);var y;c.p.searchurl&&(y=c.p.url,a(c).jqGrid("setGridParam",{url:c.p.searchurl}));var z="stop"===a(c).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!z&&a.isFunction(f.beforeSearch)&&(z=
f.beforeSearch.call(c));z||a(c).jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[{page:1}]);y&&a(c).jqGrid("setGridParam",{url:y});a(c).triggerHandler("jqGridToolbarAfterSearch");a.isFunction(f.afterSearch)&&f.afterSearch.call(c)},h=a("<tr class='ui-search-toolbar' role='rowheader'></tr>"),g;a.each(c.p.colModel,function(){var l=this,m,n,q,r;n=a("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+c.p.direction+"'></th>");m=a("<div style='position:relative;height:100%;padding-right:0.3em;'></div>");
!0===this.hidden&&a(n).css("display","none");this.search=!1===this.search?!1:!0;void 0===this.stype&&(this.stype="text");q=a.extend({},this.searchoptions||{});if(this.search)switch(this.stype){case "select":if(r=this.surl||q.dataUrl)a.ajax(a.extend({url:r,dataType:"html",success:function(h){void 0!==q.buildSelect?(h=q.buildSelect(h))&&a(m).append(h):a(m).append(h);void 0!==q.defaultValue&&a("select",m).val(q.defaultValue);a("select",m).attr({name:l.index||l.name,id:"gs_"+l.name});q.attr&&a("select",
m).attr(q.attr);a("select",m).css({width:"100%"});a.jgrid.bindEv(a("select",m)[0],q,c);!0===f.autosearch&&a("select",m).change(function(){e();return!1});h=null}},a.jgrid.ajaxOptions,c.p.ajaxSelectOptions||{}));else{var s,u,x;l.searchoptions?(s=void 0===l.searchoptions.value?"":l.searchoptions.value,u=void 0===l.searchoptions.separator?":":l.searchoptions.separator,x=void 0===l.searchoptions.delimiter?";":l.searchoptions.delimiter):l.editoptions&&(s=void 0===l.editoptions.value?"":l.editoptions.value,
u=void 0===l.editoptions.separator?":":l.editoptions.separator,x=void 0===l.editoptions.delimiter?";":l.editoptions.delimiter);if(s){r=document.createElement("select");r.style.width="100%";a(r).attr({name:l.index||l.name,id:"gs_"+l.name});var v,y;if("string"===typeof s)for(s=s.split(x),y=0;y<s.length;y++)v=s[y].split(u),x=document.createElement("option"),x.value=v[0],x.innerHTML=v[1],r.appendChild(x);else if("object"===typeof s)for(v in s)s.hasOwnProperty(v)&&(x=document.createElement("option"),x.value=
v,x.innerHTML=s[v],r.appendChild(x));void 0!==q.defaultValue&&a(r).val(q.defaultValue);q.attr&&a(r).attr(q.attr);a.jgrid.bindEv(r,q,c);a(m).append(r);!0===f.autosearch&&a(r).change(function(){e();return!1})}}break;case "text":u=void 0!==q.defaultValue?q.defaultValue:"",a(m).append("<input type='text' style='width:95%;padding:0px;' name='"+(l.index||l.name)+"' id='gs_"+l.name+"' value='"+u+"'/>"),q.attr&&a("input",m).attr(q.attr),a.jgrid.bindEv(a("input",m)[0],q,c),!0===f.autosearch&&(f.searchOnEnter?
a("input",m).keypress(function(a){return 13==(a.charCode||a.keyCode||0)?(e(),!1):this}):a("input",m).keydown(function(a){switch(a.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:g&&clearTimeout(g),g=setTimeout(function(){e()},500)}}))}a(n).append(m);a(h).append(n)});a("table thead",c.grid.hDiv).append(h);this.ftoolbar=!0;this.triggerToolbar=e;this.clearToolbar=function(e){var h={},g=0,q;e="boolean"!==typeof e?!0:e;a.each(c.p.colModel,function(){var e;this.searchoptions&&
void 0!==this.searchoptions.defaultValue&&(e=this.searchoptions.defaultValue);q=this.index||this.name;switch(this.stype){case "select":a("#gs_"+a.jgrid.jqID(this.name)+" option",!0===this.frozen&&!0===c.p.frozenColumns?c.grid.fhDiv:c.grid.hDiv).each(function(c){0===c&&(this.selected=!0);if(a(this).val()==e)return this.selected=!0,!1});if(void 0!==e)h[q]=e,g++;else try{delete c.p.postData[q]}catch(f){}break;case "text":if(a("#gs_"+a.jgrid.jqID(this.name),!0===this.frozen&&!0===c.p.frozenColumns?c.grid.fhDiv:
c.grid.hDiv).val(e),void 0!==e)h[q]=e,g++;else try{delete c.p.postData[q]}catch(k){}}});var r=0<g?!0:!1;if(!0===f.stringResult||"local"==c.p.datatype){var s='{"groupOp":"'+f.groupOp+'","rules":[',u=0;a.each(h,function(a,c){0<u&&(s+=",");s+='{"field":"'+a+'",';s+='"op":"eq",';s+='"data":"'+(c+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';u++});s+="]}";a.extend(c.p.postData,{filters:s});a.each(["searchField","searchString","searchOper"],function(a,e){c.p.postData.hasOwnProperty(e)&&delete c.p.postData[e]})}else a.extend(c.p.postData,
h);var x;c.p.searchurl&&(x=c.p.url,a(c).jqGrid("setGridParam",{url:c.p.searchurl}));var v="stop"===a(c).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!v&&a.isFunction(f.beforeClear)&&(v=f.beforeClear.call(c));v||e&&a(c).jqGrid("setGridParam",{search:r}).trigger("reloadGrid",[{page:1}]);x&&a(c).jqGrid("setGridParam",{url:x});a(c).triggerHandler("jqGridToolbarAfterClear");a.isFunction(f.afterClear)&&f.afterClear()};this.toggleToolbar=function(){var e=a("tr.ui-search-toolbar",c.grid.hDiv),f=!0===
c.p.frozenColumns?a("tr.ui-search-toolbar",c.grid.fhDiv):!1;"none"==e.css("display")?(e.show(),f&&f.show()):(e.hide(),f&&f.hide())}}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,a(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(f){void 0===f&&(f=!0);return this.each(function(){var c,e,h,g,l,m;e=this.grid;var n=a("table.ui-jqgrid-htable thead",
e.hDiv),q=this.p.colModel;if(e){a(this).unbind(".setGroupHeaders");c=a("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels");g=e.headers;e=0;for(h=g.length;e<h;e++){l=q[e].hidden?"none":"";l=a(g[e].el).width(g[e].width).css("display",l);try{l.removeAttr("rowSpan")}catch(r){l.attr("rowSpan",1)}c.append(l);m=l.children("span.ui-jqgrid-resize");0<m.length&&(m[0].style.height="");l.children("div")[0].style.top=""}a(n).children("tr.ui-jqgrid-labels").remove();a(n).prepend(c);!0===f&&a(this).jqGrid("setGridParam",
{groupHeader:null})}})},setGroupHeaders:function(f){f=a.extend({useColSpanStyle:!1,groupHeaders:[]},f||{});return this.each(function(){this.p.groupHeader=f;var c,e,h=0,g,l,m,n,q,r=this.p.colModel,s=r.length,u=this.grid.headers,x=a("table.ui-jqgrid-htable",this.grid.hDiv),v=x.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");g=x.children("thead");var y=x.find(".jqg-first-row-header");void 0===y[0]?y=a("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height",
"auto"):y.empty();var z,k=function(a,c){var e=c.length,f;for(f=0;f<e;f++)if(c[f].startColumnName===a)return f;return-1};a(this).prepend(g);g=a("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header");for(c=0;c<s;c++)if(m=u[c].el,n=a(m),e=r[c],l={height:"0px",width:u[c].width+"px",display:e.hidden?"none":""},a("<th>",{role:"gridcell"}).css(l).addClass("ui-first-th-"+this.p.direction).appendTo(y),m.style.width="",l=k(e.name,f.groupHeaders),0<=l){l=f.groupHeaders[l];h=l.numberOfColumns;
q=l.titleText;for(l=e=0;l<h&&c+l<s;l++)r[c+l].hidden||e++;l=a("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({height:"22px","border-top":"0px none"}).html(q);0<e&&l.attr("colspan",String(e));this.p.headertitles&&l.attr("title",l.text());0===e&&l.hide();n.before(l);g.append(m);h-=1}else 0===h?f.useColSpanStyle?n.attr("rowspan","2"):(a("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({display:e.hidden?
"none":"","border-top":"0px none"}).insertBefore(n),g.append(m)):(g.append(m),h--);r=a(this).children("thead");r.prepend(y);g.insertAfter(v);x.append(r);f.useColSpanStyle&&(x.find("span.ui-jqgrid-resize").each(function(){var c=a(this).parent();c.is(":visible")&&(this.style.cssText="height: "+c.height()+"px !important; cursor: col-resize;")}),x.find("div.ui-jqgrid-sortable").each(function(){var c=a(this),e=c.parent();e.is(":visible")&&e.is(":has(span.ui-jqgrid-resize)")&&c.css("top",(e.height()-c.outerHeight())/
2+"px")}));z=r.find("tr.jqg-first-row-header");a(this).bind("jqGridResizeStop.setGroupHeaders",function(a,c,e){z.find("th").eq(e).width(c)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var f=this,c=f.p.colModel,e=0,h=c.length,g=-1,l=!1;if(!(!0===f.p.subGrid||!0===f.p.treeGrid||!0===f.p.cellEdit||f.p.sortable||f.p.scroll||f.p.grouping)){f.p.rownumbers&&e++;for(f.p.multiselect&&e++;e<h;){if(!0===c[e].frozen)l=!0,g=e;else break;e++}if(0<=g&&l){c=f.p.caption?a(f.grid.cDiv).outerHeight():
0;e=a(".ui-jqgrid-htable","#gview_"+a.jgrid.jqID(f.p.id)).height();f.p.toppager&&(c+=a(f.grid.topDiv).outerHeight());!0===f.p.toolbar[0]&&"bottom"!=f.p.toolbar[1]&&(c+=a(f.grid.uDiv).outerHeight());f.grid.fhDiv=a('<div style="position:absolute;left:0px;top:'+c+"px;height:"+e+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>');f.grid.fbDiv=a('<div style="position:absolute;left:0px;top:'+(parseInt(c,10)+parseInt(e,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>');
a("#gview_"+a.jgrid.jqID(f.p.id)).append(f.grid.fhDiv);c=a(".ui-jqgrid-htable","#gview_"+a.jgrid.jqID(f.p.id)).clone(!0);if(f.p.groupHeader){a("tr.jqg-first-row-header, tr.jqg-third-row-header",c).each(function(){a("th:gt("+g+")",this).remove()});var m=-1,n=-1;a("tr.jqg-second-row-header th",c).each(function(){var c=parseInt(a(this).attr("colspan"),10);c&&(m+=c,n++);if(m===g)return!1});m!==g&&(n=g);a("tr.jqg-second-row-header",c).each(function(){a("th:gt("+n+")",this).remove()})}else a("tr",c).each(function(){a("th:gt("+
g+")",this).remove()});a(c).width(1);a(f.grid.fhDiv).append(c).mousemove(function(a){if(f.grid.resizing)return f.grid.dragMove(a),!1});a(f).bind("jqGridResizeStop.setFrozenColumns",function(c,e,h){c=a(".ui-jqgrid-htable",f.grid.fhDiv);a("th:eq("+h+")",c).width(e);c=a(".ui-jqgrid-btable",f.grid.fbDiv);a("tr:first td:eq("+h+")",c).width(e)});a(f).bind("jqGridOnSortCol.setFrozenColumns",function(c,e,h){c=a("tr.ui-jqgrid-labels:last th:eq("+f.p.lastsort+")",f.grid.fhDiv);e=a("tr.ui-jqgrid-labels:last th:eq("+
h+")",f.grid.fhDiv);a("span.ui-grid-ico-sort",c).addClass("ui-state-disabled");a(c).attr("aria-selected","false");a("span.ui-icon-"+f.p.sortorder,e).removeClass("ui-state-disabled");a(e).attr("aria-selected","true");f.p.viewsortcols[0]||f.p.lastsort==h||(a("span.s-ico",c).hide(),a("span.s-ico",e).show())});a("#gview_"+a.jgrid.jqID(f.p.id)).append(f.grid.fbDiv);a(f.grid.bDiv).scroll(function(){a(f.grid.fbDiv).scrollTop(a(this).scrollTop())});!0===f.p.hoverrows&&a("#"+a.jgrid.jqID(f.p.id)).unbind("mouseover").unbind("mouseout");
a(f).bind("jqGridAfterGridComplete.setFrozenColumns",function(){a("#"+a.jgrid.jqID(f.p.id)+"_frozen").remove();a(f.grid.fbDiv).height(a(f.grid.bDiv).height()-16);var c=a("#"+a.jgrid.jqID(f.p.id)).clone(!0);a("tr",c).each(function(){a("td:gt("+g+")",this).remove()});a(c).width(1).attr("id",f.p.id+"_frozen");a(f.grid.fbDiv).append(c);!0===f.p.hoverrows&&(a("tr.jqgrow",c).hover(function(){a(this).addClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(f.p.id)).addClass("ui-state-hover")},
function(){a(this).removeClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(f.p.id)).removeClass("ui-state-hover")}),a("tr.jqgrow","#"+a.jgrid.jqID(f.p.id)).hover(function(){a(this).addClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(f.p.id)+"_frozen").addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover");a("#"+a.jgrid.jqID(this.id),"#"+a.jgrid.jqID(f.p.id)+"_frozen").removeClass("ui-state-hover")}));c=null});f.p.frozenColumns=!0}}}})},
destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){a(this.grid.fhDiv).remove();a(this.grid.fbDiv).remove();this.grid.fhDiv=null;this.grid.fbDiv=null;a(this).unbind(".setFrozenColumns");if(!0===this.p.hoverrows){var f;a("#"+a.jgrid.jqID(this.p.id)).bind("mouseover",function(c){f=a(c.target).closest("tr.jqgrow");"ui-subgrid"!==a(f).attr("class")&&a(f).addClass("ui-state-hover")}).bind("mouseout",function(c){f=a(c.target).closest("tr.jqgrow");a(f).removeClass("ui-state-hover")})}this.p.frozenColumns=
!1}})}})})(jQuery);
(function(a){a.fn.jqm=function(e){var g={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:h,ajaxText:"",target:h,modal:h,toTop:h,onShow:h,onHide:h,onLoad:h};return this.each(function(){if(this._jqm)return c[this._jqm].c=a.extend({},c[this._jqm].c,e);f++;this._jqm=f;c[f]={c:a.extend(g,a.jqm.params,e),a:h,w:a(this).addClass("jqmID"+f),s:f};g.trigger&&a(this).jqmAddTrigger(g.trigger)})};a.fn.jqmAddClose=function(a){return n(this,a,"jqmHide")};a.fn.jqmAddTrigger=
function(a){return n(this,a,"jqmShow")};a.fn.jqmShow=function(c){return this.each(function(){a.jqm.open(this._jqm,c)})};a.fn.jqmHide=function(c){return this.each(function(){a.jqm.close(this._jqm,c)})};a.jqm={hash:{},open:function(f,m){var n=c[f],u=n.c,x="."+u.closeClass,v=parseInt(n.w.css("z-index")),v=0<v?v:3E3,y=a("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":v-1,opacity:u.overlay/100});if(n.a)return h;n.t=m;n.a=!0;n.w.css("z-index",v);u.modal?(e[0]||setTimeout(function(){l("bind")},
1),e.push(f)):0<u.overlay?u.closeoverlay&&n.w.jqmAddClose(y):y=h;n.o=y?y.addClass(u.overlayClass).prependTo("body"):h;u.ajax?(v=u.target||n.w,y=u.ajax,v="string"==typeof v?a(v,n.w):a(v),y="@"==y.substr(0,1)?a(m).attr(y.substring(1)):y,v.html(u.ajaxText).load(y,function(){u.onLoad&&u.onLoad.call(this,n);x&&n.w.jqmAddClose(a(x,n.w));g(n)})):x&&n.w.jqmAddClose(a(x,n.w));u.toTop&&n.o&&n.w.before('<span id="jqmP'+n.w[0]._jqm+'"></span>').insertAfter(n.o);u.onShow?u.onShow(n):n.w.show();g(n);return h},
close:function(f){f=c[f];if(!f.a)return h;f.a=h;e[0]&&(e.pop(),e[0]||l("unbind"));f.c.toTop&&f.o&&a("#jqmP"+f.w[0]._jqm).after(f.w).remove();if(f.c.onHide)f.c.onHide(f);else f.w.hide(),f.o&&f.o.remove();return h},params:{}};var f=0,c=a.jqm.hash,e=[],h=!1,g=function(c){try{a(":input:visible",c.w)[0].focus()}catch(e){}},l=function(c){a(document)[c]("keypress",m)[c]("keydown",m)[c]("mousedown",m)},m=function(f){var h=c[e[e.length-1]];(f=!a(f.target).parents(".jqmID"+h.s)[0])&&g(h);return!f},n=function(e,
f,g){return e.each(function(){var e=this._jqm;a(f).each(function(){this[g]||(this[g]=[],a(this).click(function(){for(var a in{jqmShow:1,jqmHide:1})for(var e in this[a])if(c[this[a][e]])c[this[a][e]].w[a](this);return h}));this[g].push(e)})})}})(jQuery);
(function(a){a.fn.jqDrag=function(a){return l(this,a,"d")};a.fn.jqResize=function(a,c){return l(this,a,"r",c)};a.jqDnR={dnr:{},e:0,drag:function(a){"d"==c.k?e.css({left:c.X+a.pageX-c.pX,top:c.Y+a.pageY-c.pY}):(e.css({width:Math.max(a.pageX-c.pX+c.W,0),height:Math.max(a.pageY-c.pY+c.H,0)}),g&&h.css({width:Math.max(a.pageX-g.pX+g.W,0),height:Math.max(a.pageY-g.pY+g.H,0)}));return!1},stop:function(){a(document).unbind("mousemove",f.drag).unbind("mouseup",f.stop)}};var f=a.jqDnR,c=f.dnr,e=f.e,h,g,l=function(f,
l,s,u){return f.each(function(){l=l?a(l,f):f;l.bind("mousedown",{e:f,k:s},function(f){var l=f.data,r={};e=l.e;h=u?a(u):!1;if("relative"!=e.css("position"))try{e.position(r)}catch(q){}c={X:r.left||m("left")||0,Y:r.top||m("top")||0,W:m("width")||e[0].scrollWidth||0,H:m("height")||e[0].scrollHeight||0,pX:f.pageX,pY:f.pageY,k:l.k};g=h&&"d"!=l.k?{X:r.left||n("left")||0,Y:r.top||n("top")||0,W:h[0].offsetWidth||n("width")||0,H:h[0].offsetHeight||n("height")||0,pX:f.pageX,pY:f.pageY,k:l.k}:!1;if(a("input.hasDatepicker",
e[0])[0])try{a("input.hasDatepicker",e[0]).datepicker("hide")}catch(k){}a(document).mousemove(a.jqDnR.drag).mouseup(a.jqDnR.stop);return!1})})},m=function(a){return parseInt(e.css(a),10)||!1},n=function(a){return parseInt(h.css(a),10)||!1}})(jQuery);
var xmlJsonClass={xml2json:function(a,f){9===a.nodeType&&(a=a.documentElement);var c=this.removeWhite(a),c=this.toObj(c),c=this.toJson(c,a.nodeName,"\t");return"{\n"+f+(f?c.replace(/\t/g,f):c.replace(/\t|\n/g,""))+"\n}"},json2xml:function(a,f){var c=function(a,e,f){var h="",q,r;if(a instanceof Array)if(0===a.length)h+=f+"<"+e+">__EMPTY_ARRAY_</"+e+">\n";else for(q=0,r=a.length;q<r;q+=1)var s=f+c(a[q],e,f+"\t")+"\n",h=h+s;else if("object"===typeof a){q=!1;h+=f+"<"+e;for(r in a)a.hasOwnProperty(r)&&
("@"===r.charAt(0)?h+=" "+r.substr(1)+'="'+a[r].toString()+'"':q=!0);h+=q?">":"/>";if(q){for(r in a)a.hasOwnProperty(r)&&("#text"===r?h+=a[r]:"#cdata"===r?h+="<![CDATA["+a[r]+"]]\x3e":"@"!==r.charAt(0)&&(h+=c(a[r],r,f+"\t")));h+=("\n"===h.charAt(h.length-1)?f:"")+"</"+e+">"}}else"function"===typeof a?h+=f+"<"+e+"><![CDATA["+a+"]]\x3e</"+e+">":(void 0===a&&(a=""),h='""'===a.toString()||0===a.toString().length?h+(f+"<"+e+">__EMPTY_STRING_</"+e+">"):h+(f+"<"+e+">"+a.toString()+"</"+e+">"));return h},
e="",h;for(h in a)a.hasOwnProperty(h)&&(e+=c(a[h],h,""));return f?e.replace(/\t/g,f):e.replace(/\t|\n/g,"")},toObj:function(a){var f={},c=/function/i;if(1===a.nodeType){if(a.attributes.length){var e;for(e=0;e<a.attributes.length;e+=1)f["@"+a.attributes[e].nodeName]=(a.attributes[e].nodeValue||"").toString()}if(a.firstChild){var h=e=0,g=!1,l;for(l=a.firstChild;l;l=l.nextSibling)1===l.nodeType?g=!0:3===l.nodeType&&l.nodeValue.match(/[^ \f\n\r\t\v]/)?e+=1:4===l.nodeType&&(h+=1);if(g)if(2>e&&2>h)for(this.removeWhite(a),
l=a.firstChild;l;l=l.nextSibling)3===l.nodeType?f["#text"]=this.escape(l.nodeValue):4===l.nodeType?c.test(l.nodeValue)?f[l.nodeName]=[f[l.nodeName],l.nodeValue]:f["#cdata"]=this.escape(l.nodeValue):f[l.nodeName]?f[l.nodeName]instanceof Array?f[l.nodeName][f[l.nodeName].length]=this.toObj(l):f[l.nodeName]=[f[l.nodeName],this.toObj(l)]:f[l.nodeName]=this.toObj(l);else a.attributes.length?f["#text"]=this.escape(this.innerXml(a)):f=this.escape(this.innerXml(a));else if(e)a.attributes.length?f["#text"]=
this.escape(this.innerXml(a)):(f=this.escape(this.innerXml(a)),"__EMPTY_ARRAY_"===f?f="[]":"__EMPTY_STRING_"===f&&(f=""));else if(h)if(1<h)f=this.escape(this.innerXml(a));else for(l=a.firstChild;l;l=l.nextSibling)if(c.test(a.firstChild.nodeValue)){f=a.firstChild.nodeValue;break}else f["#cdata"]=this.escape(l.nodeValue)}a.attributes.length||a.firstChild||(f=null)}else 9===a.nodeType?f=this.toObj(a.documentElement):alert("unhandled node type: "+a.nodeType);return f},toJson:function(a,f,c,e){void 0===
e&&(e=!0);var h=f?'"'+f+'"':"",g="\t",l="\n";e||(l=g="");if("[]"===a)h+=f?":[]":"[]";else if(a instanceof Array){var m,n,q=[];n=0;for(m=a.length;n<m;n+=1)q[n]=this.toJson(a[n],"",c+g,e);h+=(f?":[":"[")+(1<q.length?l+c+g+q.join(","+l+c+g)+l+c:q.join(""))+"]"}else if(null===a)h+=(f&&":")+"null";else if("object"===typeof a){m=[];for(n in a)a.hasOwnProperty(n)&&(m[m.length]=this.toJson(a[n],n,c+g,e));h+=(f?":{":"{")+(1<m.length?l+c+g+m.join(","+l+c+g)+l+c:m.join(""))+"}"}else h="string"===typeof a?h+
((f&&":")+'"'+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'):h+((f&&":")+a.toString());return h},innerXml:function(a){var f="";if("innerHTML"in a)f=a.innerHTML;else{var c=function(a){var f="",g;if(1===a.nodeType){f+="<"+a.nodeName;for(g=0;g<a.attributes.length;g+=1)f+=" "+a.attributes[g].nodeName+'="'+(a.attributes[g].nodeValue||"").toString()+'"';if(a.firstChild){f+=">";for(g=a.firstChild;g;g=g.nextSibling)f+=c(g);f+="</"+a.nodeName+">"}else f+="/>"}else 3===a.nodeType?f+=a.nodeValue:4===a.nodeType&&
(f+="<![CDATA["+a.nodeValue+"]]\x3e");return f};for(a=a.firstChild;a;a=a.nextSibling)f+=c(a)}return f},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(a){a.normalize();var f;for(f=a.firstChild;f;)if(3===f.nodeType)if(f.nodeValue.match(/[^ \f\n\r\t\v]/))f=f.nextSibling;else{var c=f.nextSibling;a.removeChild(f);f=c}else 1===f.nodeType&&this.removeWhite(f),f=f.nextSibling;return a}};
(function(a){a.fmatter={};a.extend(a.fmatter,{isBoolean:function(a){return"boolean"===typeof a},isObject:function(f){return f&&("object"===typeof f||a.isFunction(f))||!1},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(f){if(!this.isString(f)&&this.isValue(f))return!1;if(!this.isValue(f))return!0;f=a.trim(f).replace(/\&nbsp\;/ig,
"").replace(/\&#160\;/ig,"");return""===f}});a.fn.fmatter=function(f,c,e,h,g){var l=c;e=a.extend({},a.jgrid.formatter,e);try{l=a.fn.fmatter[f].call(this,c,e,h,g)}catch(m){}return l};a.fmatter.util={NumberFormat:function(f,c){a.fmatter.isNumber(f)||(f*=1);if(a.fmatter.isNumber(f)){var e=0>f,h=String(f),g=c.decimalSeparator||".",l;if(a.fmatter.isNumber(c.decimalPlaces)){var m=c.decimalPlaces,h=Math.pow(10,m),h=String(Math.round(f*h)/h);l=h.lastIndexOf(".");if(0<m)for(0>l?(h+=g,l=h.length-1):"."!==g&&
(h=h.replace(".",g));h.length-1-l<m;)h+="0"}if(c.thousandsSeparator){m=c.thousandsSeparator;l=h.lastIndexOf(g);l=-1<l?l:h.length;var g=h.substring(l),n=-1,q;for(q=l;0<q;q--)n++,0===n%3&&q!==l&&(!e||1<q)&&(g=m+g),g=h.charAt(q-1)+g;h=g}h=c.prefix?c.prefix+h:h;return h=c.suffix?h+c.suffix:h}return f},DateFormat:function(f,c,e,h){var g=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,l="string"===typeof c?c.match(g):null,g=function(a,c){a=String(a);for(c=parseInt(c,10)||2;a.length<c;)a="0"+
a;return a},m={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},n=0,q,r=["i18n"];r.i18n={dayNames:h.dayNames,monthNames:h.monthNames};h.masks.hasOwnProperty(f)&&(f=h.masks[f]);if(isNaN(c-0)||"u"!==String(f).toLowerCase())if(c.constructor===Date)n=c;else if(null!==l)n=new Date(parseInt(l[1],10)),l[3]&&(f=60*Number(l[5])+Number(l[6]),f*="-"===l[4]?1:-1,f-=n.getTimezoneOffset(),n.setTime(Number(Number(n)+6E4*f)));else{c=String(c).split(/[\\\/:_;.,\t\s-]/);f=f.split(/[\\\/:_;.,\t\s-]/);l=0;for(q=f.length;l<q;l++)"M"===
f[l]&&(n=a.inArray(c[l],r.i18n.monthNames),-1!==n&&12>n&&(c[l]=n+1)),"F"===f[l]&&(n=a.inArray(c[l],r.i18n.monthNames),-1!==n&&11<n&&(c[l]=n+1-12)),c[l]&&(m[f[l].toLowerCase()]=parseInt(c[l],10));m.f&&(m.m=m.f);if(0===m.m&&0===m.y&&0===m.d)return"&#160;";m.m=parseInt(m.m,10)-1;n=m.y;70<=n&&99>=n?m.y=1900+m.y:0<=n&&69>=n&&(m.y=2E3+m.y);n=new Date(m.y,m.m,m.d,m.h,m.i,m.s,m.u)}else n=new Date(1E3*parseFloat(c));h.masks.hasOwnProperty(e)?e=h.masks[e]:e||(e="Y-m-d");f=n.getHours();c=n.getMinutes();m=n.getDate();
l=n.getMonth()+1;q=n.getTimezoneOffset();var s=n.getSeconds(),u=n.getMilliseconds(),x=n.getDay(),v=n.getFullYear(),y=(x+6)%7+1,z=(new Date(v,l-1,m)-new Date(v,0,1))/864E5,k={d:g(m),D:r.i18n.dayNames[x],j:m,l:r.i18n.dayNames[x+7],N:y,S:h.S(m),w:x,z:z,W:5>y?Math.floor((z+y-1)/7)+1:Math.floor((z+y-1)/7)||(4>((new Date(v-1,0,1)).getDay()+6)%7?53:52),F:r.i18n.monthNames[l-1+12],m:g(l),M:r.i18n.monthNames[l-1],n:l,t:"?",L:"?",o:"?",Y:v,y:String(v).substring(2),a:12>f?h.AmPm[0]:h.AmPm[1],A:12>f?h.AmPm[2]:
h.AmPm[3],B:"?",g:f%12||12,G:f,h:g(f%12||12),H:g(f),i:g(c),s:g(s),u:u,e:"?",I:"?",O:(0<q?"-":"+")+g(100*Math.floor(Math.abs(q)/60)+Math.abs(q)%60,4),P:"?",T:(String(n).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(n/1E3)};return e.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(a){return k.hasOwnProperty(a)?k[a]:a.substring(1)})}};
a.fn.fmatter.defaultFormat=function(f,c){return a.fmatter.isValue(f)&&""!==f?f:c.defaultValue||"&#160;"};a.fn.fmatter.email=function(f,c){return a.fmatter.isEmpty(f)?a.fn.fmatter.defaultFormat(f,c):'<a href="mailto:'+f+'">'+f+"</a>"};a.fn.fmatter.checkbox=function(f,c){var e=a.extend({},c.checkbox),h;void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));h=!0===e.disabled?'disabled="disabled"':"";if(a.fmatter.isEmpty(f)||void 0===f)f=a.fn.fmatter.defaultFormat(f,
e);f=String(f);f=f.toLowerCase();return'<input type="checkbox" '+(0>f.search(/(false|f|0|no|n|off|undefined)/i)?" checked='checked' ":"")+' value="'+f+'" offval="no" '+h+"/>"};a.fn.fmatter.link=function(f,c){var e={target:c.target},h="";void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));e.target&&(h="target="+e.target);return a.fmatter.isEmpty(f)?a.fn.fmatter.defaultFormat(f,c):"<a "+h+' href="'+f+'">'+f+"</a>"};a.fn.fmatter.showlink=function(f,c){var e=
{baseLinkUrl:c.baseLinkUrl,showAction:c.showAction,addParam:c.addParam||"",target:c.target,idName:c.idName},h="";void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));e.target&&(h="target="+e.target);e=e.baseLinkUrl+e.showAction+"?"+e.idName+"="+c.rowId+e.addParam;return a.fmatter.isString(f)||a.fmatter.isNumber(f)?"<a "+h+' href="'+e+'">'+f+"</a>":a.fn.fmatter.defaultFormat(f,c)};a.fn.fmatter.integer=function(f,c){var e=a.extend({},c.integer);void 0!==
c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return a.fmatter.isEmpty(f)?e.defaultValue:a.fmatter.util.NumberFormat(f,e)};a.fn.fmatter.number=function(f,c){var e=a.extend({},c.number);void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return a.fmatter.isEmpty(f)?e.defaultValue:a.fmatter.util.NumberFormat(f,e)};a.fn.fmatter.currency=function(f,c){var e=a.extend({},c.currency);void 0!==c.colModel&&void 0!==
c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return a.fmatter.isEmpty(f)?e.defaultValue:a.fmatter.util.NumberFormat(f,e)};a.fn.fmatter.date=function(f,c,e,h){e=a.extend({},c.date);void 0!==c.colModel&&void 0!==c.colModel.formatoptions&&(e=a.extend({},e,c.colModel.formatoptions));return e.reformatAfterEdit||"edit"!==h?a.fmatter.isEmpty(f)?a.fn.fmatter.defaultFormat(f,c):a.fmatter.util.DateFormat(e.srcformat,f,e.newformat,e):a.fn.fmatter.defaultFormat(f,c)};a.fn.fmatter.select=
function(f,c){f=String(f);var e=!1,h=[],g,l;void 0!==c.colModel.formatoptions?(e=c.colModel.formatoptions.value,g=void 0===c.colModel.formatoptions.separator?":":c.colModel.formatoptions.separator,l=void 0===c.colModel.formatoptions.delimiter?";":c.colModel.formatoptions.delimiter):void 0!==c.colModel.editoptions&&(e=c.colModel.editoptions.value,g=void 0===c.colModel.editoptions.separator?":":c.colModel.editoptions.separator,l=void 0===c.colModel.editoptions.delimiter?";":c.colModel.editoptions.delimiter);
if(e){var m=!0===c.colModel.editoptions.multiple?!0:!1,n=[];m&&(n=f.split(","),n=a.map(n,function(c){return a.trim(c)}));if(a.fmatter.isString(e)){var q=e.split(l),r=0,s;for(s=0;s<q.length;s++)if(l=q[s].split(g),2<l.length&&(l[1]=a.map(l,function(a,c){if(0<c)return a}).join(g)),m)-1<a.inArray(l[0],n)&&(h[r]=l[1],r++);else if(a.trim(l[0])===a.trim(f)){h[0]=l[1];break}}else a.fmatter.isObject(e)&&(m?h=a.map(n,function(a){return e[a]}):h[0]=e[f]||"")}f=h.join(", ");return""===f?a.fn.fmatter.defaultFormat(f,
c):f};a.fn.fmatter.rowactions=function(f){var c=a(this).closest("tr.jqgrow"),e=a(this).parent(),h=c.attr("id"),g=a(this).closest("table.ui-jqgrid-btable"),l=g[0],m=l.p,n=m.colModel[a.jgrid.getCellIndex(this)],q={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,mtype:"POST",delOptions:{},editOptions:{}},r=function(c){a.isFunction(q.afterRestore)&&q.afterRestore.call(l,c);e.find("div.ui-inline-edit,div.ui-inline-del").show();
e.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==n.formatoptions&&(q=a.extend(q,n.formatoptions));void 0!==m.editOptions&&(q.editOptions=m.editOptions);void 0!==m.delOptions&&(q.delOptions=m.delOptions);c.hasClass("jqgrid-new-row")&&(q.extraparam[m.prmNames.oper]=m.prmNames.addoper);c={keys:q.keys,oneditfunc:q.onEdit,successfunc:q.onSuccess,url:q.url,extraparam:q.extraparam,aftersavefunc:function(c,f){a.isFunction(q.afterSave)&&q.afterSave.call(l,c,f);e.find("div.ui-inline-edit,div.ui-inline-del").show();
e.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:q.onError,afterrestorefunc:r,restoreAfterError:q.restoreAfterError,mtype:q.mtype};switch(f){case "edit":g.jqGrid("editRow",h,c);e.find("div.ui-inline-edit,div.ui-inline-del").hide();e.find("div.ui-inline-save,div.ui-inline-cancel").show();g.triggerHandler("jqGridAfterGridComplete");break;case "save":g.jqGrid("saveRow",h,c)&&(e.find("div.ui-inline-edit,div.ui-inline-del").show(),e.find("div.ui-inline-save,div.ui-inline-cancel").hide(),
g.triggerHandler("jqGridAfterGridComplete"));break;case "cancel":g.jqGrid("restoreRow",h,r);e.find("div.ui-inline-edit,div.ui-inline-del").show();e.find("div.ui-inline-save,div.ui-inline-cancel").hide();g.triggerHandler("jqGridAfterGridComplete");break;case "del":g.jqGrid("delGridRow",h,q.delOptions);break;case "formedit":g.jqGrid("setSelection",h),g.jqGrid("editGridRow",h,q.editOptions)}};a.fn.fmatter.actions=function(f,c){var e={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},h=c.rowId,g=
"";void 0!==c.colModel.formatoptions&&(e=a.extend(e,c.colModel.formatoptions));if(void 0===h||a.fmatter.isEmpty(h))return"";e.editformbutton?g+="<div title='"+a.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+("id='jEditButton_"+h+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-pencil'></span></div>":
e.editbutton&&(g+="<div title='"+a.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+("id='jEditButton_"+h+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ")+"><span class='ui-icon ui-icon-pencil'></span></div>");e.delbutton&&(g+="<div title='"+a.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+("id='jDeleteButton_"+
h+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-trash'></span></div>");g+="<div title='"+a.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+("id='jSaveButton_"+h+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+
"><span class='ui-icon ui-icon-disk'></span></div>";g+="<div title='"+a.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+("id='jCancelButton_"+h+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-cancel'></span></div>";return"<div style='margin-left:8px;'>"+g+"</div>"};a.unformat=function(f,
c,e,h){var g,l=c.colModel.formatter,m=c.colModel.formatoptions||{},n=/([\.\*\_\'\(\)\{\}\+\?\\])/g,q=c.colModel.unformat||a.fn.fmatter[l]&&a.fn.fmatter[l].unformat;if(void 0!==q&&a.isFunction(q))g=q.call(this,a(f).text(),c,f);else if(void 0!==l&&a.fmatter.isString(l))switch(g=a.jgrid.formatter||{},l){case "integer":m=a.extend({},g.integer,m);c=m.thousandsSeparator.replace(n,"\\$1");c=RegExp(c,"g");g=a(f).text().replace(c,"");break;case "number":m=a.extend({},g.number,m);c=m.thousandsSeparator.replace(n,
"\\$1");c=RegExp(c,"g");g=a(f).text().replace(c,"").replace(m.decimalSeparator,".");break;case "currency":m=a.extend({},g.currency,m);c=m.thousandsSeparator.replace(n,"\\$1");c=RegExp(c,"g");g=a(f).text();m.prefix&&m.prefix.length&&(g=g.substr(m.prefix.length));m.suffix&&m.suffix.length&&(g=g.substr(0,g.length-m.suffix.length));g=g.replace(c,"").replace(m.decimalSeparator,".");break;case "checkbox":m=c.colModel.editoptions?c.colModel.editoptions.value.split(":"):["Yes","No"];g=a("input",f).is(":checked")?
m[0]:m[1];break;case "select":g=a.unformat.select(f,c,e,h);break;case "actions":return"";default:g=a(f).text()}return void 0!==g?g:!0===h?a(f).text():a.jgrid.htmlDecode(a(f).html())};a.unformat.select=function(f,c,e,h){e=[];f=a(f).text();if(!0===h)return f;h=a.extend({},void 0!==c.colModel.formatoptions?c.colModel.formatoptions:c.colModel.editoptions);c=void 0===h.separator?":":h.separator;var g=void 0===h.delimiter?";":h.delimiter;if(h.value){var l=h.value;h=!0===h.multiple?!0:!1;var m=[];h&&(m=
f.split(","),m=a.map(m,function(c){return a.trim(c)}));if(a.fmatter.isString(l)){var n=l.split(g),q=0,r;for(r=0;r<n.length;r++)if(g=n[r].split(c),2<g.length&&(g[1]=a.map(g,function(a,c){if(0<c)return a}).join(c)),h)-1<a.inArray(g[1],m)&&(e[q]=g[0],q++);else if(a.trim(g[1])===a.trim(f)){e[0]=g[0];break}}else if(a.fmatter.isObject(l)||a.isArray(l))h||(m[0]=f),e=a.map(m,function(c){var e;a.each(l,function(a,f){if(f===c)return e=a,!1});if(void 0!==e)return e});return e.join(", ")}return f||""};a.unformat.date=
function(f,c){var e=a.jgrid.formatter.date||{};void 0!==c.formatoptions&&(e=a.extend({},e,c.formatoptions));return a.fmatter.isEmpty(f)?a.fn.fmatter.defaultFormat(f,c):a.fmatter.util.DateFormat(e.newformat,f,e.srcformat,e)}})(jQuery);
(function(a){a.extend(a.jgrid,{showModal:function(a){a.w.show()},closeModal:function(a){a.w.hide().attr("aria-hidden","true");a.o&&a.o.remove()},hideModal:function(f,c){c=a.extend({jqm:!0,gb:""},c||{});if(c.onClose){var e=c.gb&&"string"===typeof c.gb&&"#gbox_"===c.gb.substr(0,6)?c.onClose.call(a("#"+c.gb.substr(6))[0],f):c.onClose(f);if("boolean"===typeof e&&!e)return}if(a.fn.jqm&&!0===c.jqm)a(f).attr("aria-hidden","true").jqmHide();else{if(""!==c.gb)try{a(".jqgrid-overlay:first",c.gb).hide()}catch(h){}a(f).hide().attr("aria-hidden",
"true")}},findPos:function(a){var c=0,e=0;if(a.offsetParent){do c+=a.offsetLeft,e+=a.offsetTop;while(a=a.offsetParent)}return[c,e]},createModal:function(f,c,e,h,g,l,m){e=a.extend(!0,{},a.jgrid.jqModal||{},e);var n=document.createElement("div"),q,r=this;m=a.extend({},m||{});q="rtl"==a(e.gbox).attr("dir")?!0:!1;n.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";n.id=f.themodal;var s=document.createElement("div");s.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";
s.id=f.modalhead;a(s).append("<span class='ui-jqdialog-title'>"+e.caption+"</span>");var u=a("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");a(s).append(u);q?(n.dir="rtl",a(".ui-jqdialog-title",s).css("float","right"),a(".ui-jqdialog-titlebar-close",s).css("left","0.3em")):(n.dir="ltr",a(".ui-jqdialog-title",s).css("float",
"left"),a(".ui-jqdialog-titlebar-close",s).css("right","0.3em"));var x=document.createElement("div");a(x).addClass("ui-jqdialog-content ui-widget-content").attr("id",f.modalcontent);a(x).append(c);n.appendChild(x);a(n).prepend(s);!0===l?a("body").append(n):"string"===typeof l?a(l).append(n):a(n).insertBefore(h);a(n).css(m);void 0===e.jqModal&&(e.jqModal=!0);c={};if(a.fn.jqm&&!0===e.jqModal)0===e.left&&0===e.top&&e.overlay&&(m=[],m=a.jgrid.findPos(g),e.left=m[0]+4,e.top=m[1]+4),c.top=e.top+"px",c.left=
e.left;else if(0!==e.left||0!==e.top)c.left=e.left,c.top=e.top+"px";a("a.ui-jqdialog-titlebar-close",s).click(function(){var c=a("#"+a.jgrid.jqID(f.themodal)).data("onClose")||e.onClose,h=a("#"+a.jgrid.jqID(f.themodal)).data("gbox")||e.gbox;r.hideModal("#"+a.jgrid.jqID(f.themodal),{gb:h,jqm:e.jqModal,onClose:c});return!1});0!==e.width&&e.width||(e.width=300);0!==e.height&&e.height||(e.height=200);e.zIndex||(h=a(h).parents("*[role=dialog]").filter(":first").css("z-index"),e.zIndex=h?parseInt(h,10)+
2:950);h=0;q&&c.left&&!l&&(h=a(e.gbox).width()-(isNaN(e.width)?0:parseInt(e.width,10))-8,c.left=parseInt(c.left,10)+parseInt(h,10));c.left&&(c.left+="px");a(n).css(a.extend({width:isNaN(e.width)?"auto":e.width+"px",height:isNaN(e.height)?"auto":e.height+"px",zIndex:e.zIndex,overflow:"hidden"},c)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":f.modalhead,"aria-hidden":"true"});void 0===e.drag&&(e.drag=!0);void 0===e.resize&&(e.resize=!0);if(e.drag)if(a(s).css("cursor","move"),a.fn.jqDrag)a(n).jqDrag(s);
else try{a(n).draggable({handle:a("#"+a.jgrid.jqID(s.id))})}catch(v){}if(e.resize)if(a.fn.jqResize)a(n).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),a("#"+a.jgrid.jqID(f.themodal)).jqResize(".jqResize",f.scrollelm?"#"+a.jgrid.jqID(f.scrollelm):!1);else try{a(n).resizable({handles:"se, sw",alsoResize:f.scrollelm?"#"+a.jgrid.jqID(f.scrollelm):!1})}catch(y){}!0===e.closeOnEscape&&a(n).keydown(function(c){27==c.which&&(c=a("#"+a.jgrid.jqID(f.themodal)).data("onClose")||
e.onClose,r.hideModal("#"+a.jgrid.jqID(f.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:c}))})},viewModal:function(f,c){c=a.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:a.jgrid.showModal,onHide:a.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},c||{});if(a.fn.jqm&&!0===c.jqm)c.jqM?a(f).attr("aria-hidden","false").jqm(c).jqmShow():a(f).attr("aria-hidden","false").jqmShow();else{""!==c.gbox&&(a(".jqgrid-overlay:first",c.gbox).show(),a(f).data("gbox",c.gbox));a(f).show().attr("aria-hidden",
"false");try{a(":input:visible",f)[0].focus()}catch(e){}}},info_dialog:function(f,c,e,h){var g={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1E3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};a.extend(!0,g,a.jgrid.jqModal||{},{caption:"<b>"+f+"</b>"},h||{});var l=g.jqModal,m=this;a.fn.jqm&&!l&&(l=!1);f="";if(0<g.buttons.length)for(h=0;h<g.buttons.length;h++)void 0===g.buttons[h].id&&(g.buttons[h].id="info_button_"+h),f+=
"<a href='javascript:void(0)' id='"+g.buttons[h].id+"' class='fm-button ui-state-default ui-corner-all'>"+g.buttons[h].text+"</a>";h=isNaN(g.dataheight)?g.dataheight:g.dataheight+"px";c="<div id='info_id'>"+("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+h+";"+("text-align:"+g.align+";")+"'>"+c+"</div>");c+=e?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+g.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+
e+"</a>"+f+"</div>":""!==f?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+g.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+f+"</div>":"";c+="</div>";try{"false"==a("#info_dialog").attr("aria-hidden")&&a.jgrid.hideModal("#info_dialog",{jqm:l}),a("#info_dialog").remove()}catch(n){}a.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},c,g,"","",!0);f&&a.each(g.buttons,
function(c){a("#"+a.jgrid.jqID(this.id),"#info_id").bind("click",function(){g.buttons[c].onClick.call(a("#info_dialog"));return!1})});a("#closedialog","#info_id").click(function(){m.hideModal("#info_dialog",{jqm:l});return!1});a(".fm-button","#info_dialog").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});a.isFunction(g.beforeOpen)&&g.beforeOpen();a.jgrid.viewModal("#info_dialog",{onHide:function(a){a.w.hide().remove();a.o&&a.o.remove()},modal:g.modal,
jqm:l});a.isFunction(g.afterOpen)&&g.afterOpen();try{a("#info_dialog").focus()}catch(q){}},bindEv:function(f,c,e){a.isFunction(c.dataInit)&&c.dataInit.call(e,f);c.dataEvents&&a.each(c.dataEvents,function(){void 0!==this.data?a(f).bind(this.type,this.data,this.fn):a(f).bind(this.type,this.fn)})},createEl:function(f,c,e,h,g){function l(c,e,f){var h="dataInit dataEvents dataUrl buildSelect sopt searchhidden defaultValue attr custom_element custom_value".split(" ");void 0!==f&&a.isArray(f)&&a.merge(h,
f);a.each(e,function(e,f){-1===a.inArray(e,h)&&a(c).attr(e,f)});e.hasOwnProperty("id")||a(c).attr("id",a.jgrid.randId())}var m="",n=this;switch(f){case "textarea":m=document.createElement("textarea");h?c.cols||a(m).css({width:"98%"}):c.cols||(c.cols=20);c.rows||(c.rows=2);if("&nbsp;"==e||"&#160;"==e||1==e.length&&160==e.charCodeAt(0))e="";m.value=e;l(m,c);a(m).attr({role:"textbox",multiline:"true"});break;case "checkbox":m=document.createElement("input");m.type="checkbox";c.value?(f=c.value.split(":"),
e===f[0]&&(m.checked=!0,m.defaultChecked=!0),m.value=f[0],a(m).attr("offval",f[1])):(f=e.toLowerCase(),0>f.search(/(false|f|0|no|n|off|undefined)/i)&&""!==f?(m.checked=!0,m.defaultChecked=!0,m.value=e):m.value="on",a(m).attr("offval","off"));l(m,c,["value"]);a(m).attr("role","checkbox");break;case "select":m=document.createElement("select");m.setAttribute("role","select");h=[];!0===c.multiple?(f=!0,m.multiple="multiple",a(m).attr("aria-multiselectable","true")):f=!1;if(void 0!==c.dataUrl)f=c.name?
String(c.id).substring(0,String(c.id).length-String(c.name).length-1):String(c.id),h=c.postData||g.postData,n.p&&n.p.idPrefix?f=a.jgrid.stripPref(n.p.idPrefix,f):h=void 0,a.ajax(a.extend({url:c.dataUrl,type:"GET",dataType:"html",data:a.isFunction(h)?h.call(n,f,e,String(c.name)):h,context:{elem:m,options:c,vl:e},success:function(c){var e=[],f=this.elem,h=this.vl,g=a.extend({},this.options),m=!0===g.multiple;c=a.isFunction(g.buildSelect)?g.buildSelect.call(n,c):c;"string"===typeof c&&(c=a(a.trim(c)).html());
c&&(a(f).append(c),l(f,g),void 0===g.size&&(g.size=m?3:1),m?(e=h.split(","),e=a.map(e,function(c){return a.trim(c)})):e[0]=a.trim(h),setTimeout(function(){a("option",f).each(function(c){0===c&&f.multiple&&(this.selected=!1);a(this).attr("role","option");if(-1<a.inArray(a.trim(a(this).text()),e)||-1<a.inArray(a.trim(a(this).val()),e))this.selected="selected"})},0))}},g||{}));else if(c.value){var q;void 0===c.size&&(c.size=f?3:1);f&&(h=e.split(","),h=a.map(h,function(c){return a.trim(c)}));"function"===
typeof c.value&&(c.value=c.value());var r,s,u=void 0===c.separator?":":c.separator;g=void 0===c.delimiter?";":c.delimiter;if("string"===typeof c.value)for(r=c.value.split(g),q=0;q<r.length;q++)s=r[q].split(u),2<s.length&&(s[1]=a.map(s,function(a,c){if(0<c)return a}).join(u)),g=document.createElement("option"),g.setAttribute("role","option"),g.value=s[0],g.innerHTML=s[1],m.appendChild(g),f||a.trim(s[0])!=a.trim(e)&&a.trim(s[1])!=a.trim(e)||(g.selected="selected"),f&&(-1<a.inArray(a.trim(s[1]),h)||
-1<a.inArray(a.trim(s[0]),h))&&(g.selected="selected");else if("object"===typeof c.value)for(q in u=c.value,u)u.hasOwnProperty(q)&&(g=document.createElement("option"),g.setAttribute("role","option"),g.value=q,g.innerHTML=u[q],m.appendChild(g),f||a.trim(q)!=a.trim(e)&&a.trim(u[q])!=a.trim(e)||(g.selected="selected"),f&&(-1<a.inArray(a.trim(u[q]),h)||-1<a.inArray(a.trim(q),h))&&(g.selected="selected"));l(m,c,["value"])}break;case "text":case "password":case "button":q="button"==f?"button":"textbox";
m=document.createElement("input");m.type=f;m.value=e;l(m,c);"button"!=f&&(h?c.size||a(m).css({width:"98%"}):c.size||(c.size=20));a(m).attr("role",q);break;case "image":case "file":m=document.createElement("input");m.type=f;l(m,c);break;case "custom":m=document.createElement("span");try{if(a.isFunction(c.custom_element))if(u=c.custom_element.call(n,e,c))u=a(u).addClass("customelement").attr({id:c.id,name:c.name}),a(m).empty().append(u);else throw"e2";else throw"e1";}catch(x){"e1"==x&&a.jgrid.info_dialog(a.jgrid.errors.errcap,
"function 'custom_element' "+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose),"e2"==x?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_element' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,"string"===typeof x?x:x.message,a.jgrid.edit.bClose)}}return m},checkDate:function(a,c){var e={},h;a=a.toLowerCase();h=-1!==a.indexOf("/")?"/":-1!==a.indexOf("-")?"-":-1!==a.indexOf(".")?".":"/";a=a.split(h);c=c.split(h);if(3!==c.length)return!1;var g=-1,l,
m=h=-1,n;for(n=0;n<a.length;n++)l=isNaN(c[n])?0:parseInt(c[n],10),e[a[n]]=l,l=a[n],-1!==l.indexOf("y")&&(g=n),-1!==l.indexOf("m")&&(m=n),-1!==l.indexOf("d")&&(h=n);l="y"===a[g]||"yyyy"===a[g]?4:"yy"===a[g]?2:-1;n=[0,31,29,31,30,31,30,31,31,30,31,30,31];var q;if(-1===g)return!1;q=e[a[g]].toString();2===l&&1===q.length&&(l=1);if(q.length!==l||0===e[a[g]]&&"00"!==c[g]||-1===m)return!1;q=e[a[m]].toString();if(1>q.length||1>e[a[m]]||12<e[a[m]]||-1===h)return!1;q=e[a[h]].toString();if(!(l=1>q.length)&&
!(l=1>e[a[h]])&&!(l=31<e[a[h]])){if(l=2==e[a[m]])g=e[a[g]],l=e[a[h]]>(0!==g%4||0===g%100&&0!==g%400?28:29);l=l||e[a[h]]>n[e[a[m]]]}return l?!1:!0},isEmpty:function(a){return a.match(/^\s+$/)||""===a?!0:!1},checkTime:function(f){var c=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!a.jgrid.isEmpty(f))if(f=f.match(c)){if(f[3]){if(1>f[1]||12<f[1])return!1}else if(23<f[1])return!1;if(59<f[2])return!1}else return!1;return!0},checkValues:function(f,c,e,h,g){var l,m,n;n=e.p.colModel;if(void 0===h)if("string"===typeof c)for(h=
0,g=n.length;h<g;h++){if(n[h].name===c){l=n[h].editrules;c=h;null!=n.formoptions&&(m=n.formoptions.label);break}}else 0<=c&&(l=n[c].editrules);else l=h,m=void 0===g?"_":g;if(l){m||(m=e.p.colNames[c]);if(!0===l.required&&a.jgrid.isEmpty(f))return[!1,m+": "+a.jgrid.edit.msg.required,""];h=!1===l.required?!1:!0;if(!0===l.number&&(!1!==h||!a.jgrid.isEmpty(f))&&isNaN(f))return[!1,m+": "+a.jgrid.edit.msg.number,""];if(void 0!==l.minValue&&!isNaN(l.minValue)&&parseFloat(f)<parseFloat(l.minValue))return[!1,
m+": "+a.jgrid.edit.msg.minValue+" "+l.minValue,""];if(void 0!==l.maxValue&&!isNaN(l.maxValue)&&parseFloat(f)>parseFloat(l.maxValue))return[!1,m+": "+a.jgrid.edit.msg.maxValue+" "+l.maxValue,""];if(!(!0!==l.email||!1===h&&a.jgrid.isEmpty(f)||(g=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,
g.test(f))))return[!1,m+": "+a.jgrid.edit.msg.email,""];if(!(!0!==l.integer||!1===h&&a.jgrid.isEmpty(f)||!isNaN(f)&&0===f%1&&-1==f.indexOf(".")))return[!1,m+": "+a.jgrid.edit.msg.integer,""];if(!(!0!==l.date||!1===h&&a.jgrid.isEmpty(f)||(n=n[c].formatoptions&&n[c].formatoptions.newformat?n[c].formatoptions.newformat:n[c].datefmt||"Y-m-d",a.jgrid.checkDate(n,f))))return[!1,m+": "+a.jgrid.edit.msg.date+" - "+n,""];if(!0===l.time&&!(!1===h&&a.jgrid.isEmpty(f)||a.jgrid.checkTime(f)))return[!1,m+": "+
a.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!(!0!==l.url||!1===h&&a.jgrid.isEmpty(f)||(g=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,g.test(f))))return[!1,m+": "+a.jgrid.edit.msg.url,""];if(!0===l.custom&&(!1!==h||!a.jgrid.isEmpty(f)))return a.isFunction(l.custom_func)?(f=l.custom_func.call(e,f,m,c),a.isArray(f)?f:[!1,a.jgrid.edit.msg.customarray,""]):[!1,a.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}})})(jQuery);
(function(a){a.fn.jqFilter=function(f){if("string"===typeof f){var c=a.fn.jqFilter[f];if(!c)throw"jqFilter - No such method: "+f;var e=a.makeArray(arguments).slice(1);return c.apply(this,e)}var h=a.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",
operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:"LIKE"},{name:"bn",description:"does not begin with",operator:"NOT LIKE"},{name:"in",description:"in",operator:"IN"},{name:"ni",description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:"LIKE"},{name:"en",description:"does not end with",operator:"NOT LIKE"},{name:"cn",description:"contains",operator:"LIKE"},{name:"nc",
description:"does not contain",operator:"NOT LIKE"},{name:"nu",description:"is null",operator:"IS NULL"},{name:"nn",description:"is not null",operator:"IS NOT NULL"}],numopts:"eq ne lt le gt ge nu nn in ni".split(" "),stropts:"eq ne bw bn ew en cn nc nu nn in ni".split(" "),strarr:["text","string","blob"],_gridsopt:[],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},a.jgrid.filter,f||{});return this.each(function(){if(!this.filter){this.p=h;if(null===
this.p.filter||void 0===this.p.filter)this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]};var c,e=this.p.columns.length,f,n=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p._gridsopt.length)for(c=0;c<this.p._gridsopt.length;c++)this.p.ops[c].description=this.p._gridsopt[c];this.p.initFilter=a.extend(!0,{},this.p.filter);if(e){for(c=0;c<e;c++)f=this.p.columns[c],f.stype?f.inputtype=f.stype:f.inputtype||(f.inputtype="text"),f.sorttype?f.searchtype=f.sorttype:f.searchtype||(f.searchtype=
"string"),void 0===f.hidden&&(f.hidden=!1),f.label||(f.label=f.name),f.index&&(f.name=f.index),f.hasOwnProperty("searchoptions")||(f.searchoptions={}),f.hasOwnProperty("searchrules")||(f.searchrules={});this.p.showQuery&&a(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var q=function(c,e){var f=[!0,""];if(a.isFunction(e.searchrules))f=e.searchrules(c,
e);else if(a.jgrid&&a.jgrid.checkValues)try{f=a.jgrid.checkValues(c,-1,null,e.searchrules,e.label)}catch(g){}f&&f.length&&!1===f[0]&&(h.error=!f[0],h.errmsg=f[1])};this.onchange=function(){this.p.error=!1;this.p.errmsg="";return a.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1};this.reDraw=function(){a("table.group:first",this).remove();var c=this.createTableForGroup(h.filter,null);a(this).append(c);a.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)};this.createTableForGroup=
function(c,e){var f=this,g,l=a("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),m="left";"rtl"==this.p.direction&&(m="right",l.attr("dir","rtl"));null===e&&l.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+m+"'></th></tr>");var n=a("<tr></tr>");l.append(n);m=a("<th colspan='5' align='"+m+"'></th>");n.append(m);if(!0===this.p.ruleButtons){var k=a("<select class='opsel'></select>");m.append(k);var n=
"",p;for(g=0;g<h.groupOps.length;g++)p=c.groupOp===f.p.groupOps[g].op?" selected='selected'":"",n+="<option value='"+f.p.groupOps[g].op+"'"+p+">"+f.p.groupOps[g].text+"</option>";k.append(n).bind("change",function(){c.groupOp=a(k).val();f.onchange()})}n="<span></span>";this.p.groupButton&&(n=a("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),n.bind("click",function(){void 0===c.groups&&(c.groups=[]);c.groups.push({groupOp:h.groupOps[0].op,rules:[],groups:[]});f.reDraw();
f.onchange();return!1}));m.append(n);if(!0===this.p.ruleButtons){var n=a("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>"),q;n.bind("click",function(){void 0===c.rules&&(c.rules=[]);for(g=0;g<f.p.columns.length;g++){var e=void 0===f.p.columns[g].search?!0:f.p.columns[g].search,h=!0===f.p.columns[g].hidden;if(!0===f.p.columns[g].searchoptions.searchhidden&&e||e&&!h){q=f.p.columns[g];break}}e=q.searchoptions.sopt?q.searchoptions.sopt:f.p.sopt?f.p.sopt:-1!==a.inArray(q.searchtype,
f.p.strarr)?f.p.stropts:f.p.numopts;c.rules.push({field:q.name,op:e[0],data:""});f.reDraw();return!1});m.append(n)}null!==e&&(n=a("<input type='button' value='-' title='Delete group' class='delete-group'/>"),m.append(n),n.bind("click",function(){for(g=0;g<e.groups.length;g++)if(e.groups[g]===c){e.groups.splice(g,1);break}f.reDraw();f.onchange();return!1}));if(void 0!==c.groups)for(g=0;g<c.groups.length;g++)m=a("<tr></tr>"),l.append(m),n=a("<td class='first'></td>"),m.append(n),n=a("<td colspan='4'></td>"),
n.append(this.createTableForGroup(c.groups[g],c)),m.append(n);void 0===c.groupOp&&(c.groupOp=f.p.groupOps[0].op);if(void 0!==c.rules)for(g=0;g<c.rules.length;g++)l.append(this.createTableRowForRule(c.rules[g],c));return l};this.createTableRowForRule=function(c,e){var f=this,g=a("<tr></tr>"),l,m,q,k,p="",w;g.append("<td class='first'></td>");var B=a("<td class='columns'></td>");g.append(B);var D=a("<select></select>"),F,K=[];B.append(D);D.bind("change",function(){c.field=a(D).val();q=a(this).parents("tr:first");
for(l=0;l<f.p.columns.length;l++)if(f.p.columns[l].name===c.field){k=f.p.columns[l];break}if(k){k.searchoptions.id=a.jgrid.randId();n&&"text"===k.inputtype&&!k.searchoptions.size&&(k.searchoptions.size=10);var e=a.jgrid.createEl(k.inputtype,k.searchoptions,"",!0,f.p.ajaxSelectOptions,!0);a(e).addClass("input-elm");m=k.searchoptions.sopt?k.searchoptions.sopt:f.p.sopt?f.p.sopt:-1!==a.inArray(k.searchtype,f.p.strarr)?f.p.stropts:f.p.numopts;var h="",g=0;K=[];a.each(f.p.ops,function(){K.push(this.name)});
for(l=0;l<m.length;l++)F=a.inArray(m[l],K),-1!==F&&(0===g&&(c.op=f.p.ops[F].name),h+="<option value='"+f.p.ops[F].name+"'>"+f.p.ops[F].description+"</option>",g++);a(".selectopts",q).empty().append(h);a(".selectopts",q)[0].selectedIndex=0;a.jgrid.msie&&9>a.jgrid.msiever()&&(h=parseInt(a("select.selectopts",q)[0].offsetWidth,10)+1,a(".selectopts",q).width(h),a(".selectopts",q).css("width","auto"));a(".data",q).empty().append(e);a.jgrid.bindEv(e,k.searchoptions,f);a(".input-elm",q).bind("change",function(e){var h=
a(this).hasClass("ui-autocomplete-input")?200:0;setTimeout(function(){var h=e.target;c.data="SPAN"===h.nodeName.toUpperCase()&&k.searchoptions&&a.isFunction(k.searchoptions.custom_value)?k.searchoptions.custom_value(a(h).children(".customelement:first"),"get"):h.value;f.onchange()},h)});setTimeout(function(){c.data=a(e).val();f.onchange()},0)}});for(l=B=0;l<f.p.columns.length;l++){w=void 0===f.p.columns[l].search?!0:f.p.columns[l].search;var A=!0===f.p.columns[l].hidden;if(!0===f.p.columns[l].searchoptions.searchhidden&&
w||w&&!A)w="",c.field===f.p.columns[l].name&&(w=" selected='selected'",B=l),p+="<option value='"+f.p.columns[l].name+"'"+w+">"+f.p.columns[l].label+"</option>"}D.append(p);p=a("<td class='operators'></td>");g.append(p);k=h.columns[B];k.searchoptions.id=a.jgrid.randId();n&&"text"===k.inputtype&&!k.searchoptions.size&&(k.searchoptions.size=10);B=a.jgrid.createEl(k.inputtype,k.searchoptions,c.data,!0,f.p.ajaxSelectOptions,!0);if("nu"==c.op||"nn"==c.op)a(B).attr("readonly","true"),a(B).attr("disabled",
"true");var H=a("<select class='selectopts'></select>");p.append(H);H.bind("change",function(){c.op=a(H).val();q=a(this).parents("tr:first");var e=a(".input-elm",q)[0];"nu"===c.op||"nn"===c.op?(c.data="",e.value="",e.setAttribute("readonly","true"),e.setAttribute("disabled","true")):(e.removeAttribute("readonly"),e.removeAttribute("disabled"));f.onchange()});m=k.searchoptions.sopt?k.searchoptions.sopt:f.p.sopt?f.p.sopt:-1!==a.inArray(k.searchtype,f.p.strarr)?f.p.stropts:f.p.numopts;p="";a.each(f.p.ops,
function(){K.push(this.name)});for(l=0;l<m.length;l++)F=a.inArray(m[l],K),-1!==F&&(w=c.op===f.p.ops[F].name?" selected='selected'":"",p+="<option value='"+f.p.ops[F].name+"'"+w+">"+f.p.ops[F].description+"</option>");H.append(p);p=a("<td class='data'></td>");g.append(p);p.append(B);a.jgrid.bindEv(B,k.searchoptions,f);a(B).addClass("input-elm").bind("change",function(){c.data="custom"===k.inputtype?k.searchoptions.custom_value(a(this).children(".customelement:first"),"get"):a(this).val();f.onchange()});
p=a("<td></td>");g.append(p);!0===this.p.ruleButtons&&(B=a("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>"),p.append(B),B.bind("click",function(){for(l=0;l<e.rules.length;l++)if(e.rules[l]===c){e.rules.splice(l,1);break}f.reDraw();f.onchange();return!1}));return g};this.getStringForGroup=function(a){var c="(",e;if(void 0!==a.groups)for(e=0;e<a.groups.length;e++){1<c.length&&(c+=" "+a.groupOp+" ");try{c+=this.getStringForGroup(a.groups[e])}catch(f){alert(f)}}if(void 0!==
a.rules)try{for(e=0;e<a.rules.length;e++)1<c.length&&(c+=" "+a.groupOp+" "),c+=this.getStringForRule(a.rules[e])}catch(h){alert(h)}c+=")";return"()"===c?"":c};this.getStringForRule=function(c){var e="",f="",g,l;for(g=0;g<this.p.ops.length;g++)if(this.p.ops[g].name===c.op){e=this.p.ops[g].operator;f=this.p.ops[g].name;break}for(g=0;g<this.p.columns.length;g++)if(this.p.columns[g].name===c.field){l=this.p.columns[g];break}if(null==l)return"";g=c.data;if("bw"===f||"bn"===f)g+="%";if("ew"===f||"en"===
f)g="%"+g;if("cn"===f||"nc"===f)g="%"+g+"%";if("in"===f||"ni"===f)g=" ("+g+")";h.errorcheck&&q(c.data,l);return-1!==a.inArray(l.searchtype,["int","integer","float","number","currency"])||"nn"===f||"nu"===f?c.field+" "+e+" "+g:c.field+" "+e+' "'+g+'"'};this.resetFilter=function(){this.p.filter=a.extend(!0,{},this.p.initFilter);this.reDraw();this.onchange()};this.hideError=function(){a("th.ui-state-error",this).html("");a("tr.error",this).hide()};this.showError=function(){a("th.ui-state-error",this).html(this.p.errmsg);
a("tr.error",this).show()};this.toUserFriendlyString=function(){return this.getStringForGroup(h.filter)};this.toString=function(){function a(e){var f="(",h;if(void 0!==e.groups)for(h=0;h<e.groups.length;h++)1<f.length&&(f="OR"===e.groupOp?f+" || ":f+" && "),f+=a(e.groups[h]);if(void 0!==e.rules)for(h=0;h<e.rules.length;h++){1<f.length&&(f="OR"===e.groupOp?f+" || ":f+" && ");var g=e.rules[h];if(c.p.errorcheck){for(var l=void 0,k=void 0,l=0;l<c.p.columns.length;l++)if(c.p.columns[l].name===g.field){k=
c.p.columns[l];break}k&&q(g.data,k)}f+=g.op+"(item."+g.field+",'"+g.data+"')"}f+=")";return"()"===f?"":f}var c=this;return a(this.p.filter)};this.reDraw();if(this.p.showQuery)this.onchange();this.filter=!0}}})};a.extend(a.fn.jqFilter,{toSQLString:function(){var a="";this.each(function(){a=this.toUserFriendlyString()});return a},filterData:function(){var a;this.each(function(){a=this.p.filter});return a},getParameter:function(a){return void 0!==a&&this.p.hasOwnProperty(a)?this.p[a]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},
addFilter:function(f){"string"===typeof f&&(f=a.jgrid.parse(f));this.each(function(){this.p.filter=f;this.reDraw();this.onchange()})}})})(jQuery);
(function(a){var f={};a.jgrid.extend({searchGrid:function(c){c=a.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,
errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null},a.jgrid.search,c||{});return this.each(function(){function e(e){l=a(f).triggerHandler("jqGridFilterBeforeShow",[e]);void 0===l&&(l=!0);l&&a.isFunction(c.beforeShowSearch)&&(l=c.beforeShowSearch.call(f,e));l&&(a.jgrid.viewModal("#"+a.jgrid.jqID(m.themodal),{gbox:"#gbox_"+a.jgrid.jqID(g),jqm:c.jqModal,modal:c.modal,
overlay:c.overlay,toTop:c.toTop}),a(f).triggerHandler("jqGridFilterAfterShow",[e]),a.isFunction(c.afterShowSearch)&&c.afterShowSearch.call(f,e))}var f=this;if(f.grid){var g="fbox_"+f.p.id,l=!0,m={themodal:"searchmod"+g,modalhead:"searchhd"+g,modalcontent:"searchcnt"+g,scrollelm:g},n=f.p.postData[c.sFilter];"string"===typeof n&&(n=a.jgrid.parse(n));!0===c.recreateFilter&&a("#"+a.jgrid.jqID(m.themodal)).remove();if(void 0!==a("#"+a.jgrid.jqID(m.themodal))[0])e(a("#fbox_"+a.jgrid.jqID(+f.p.id)));else{var q=
a("<div><div id='"+g+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+a.jgrid.jqID(f.p.id)),r="left",s="";"rtl"==f.p.direction&&(r="right",s=" style='text-align:left'",q.attr("dir","rtl"));var u=a.extend([],f.p.colModel),x="<a href='javascript:void(0)' id='"+g+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+c.Find+"</a>",v="<a href='javascript:void(0)' id='"+g+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+
c.Reset+"</a>",y="",z="",k,p=!1,w=-1;c.showQuery&&(y="<a href='javascript:void(0)' id='"+g+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>");c.columns.length?u=c.columns:a.each(u,function(a,c){c.label||(c.label=f.p.colNames[a]);if(!p){var e=void 0===c.search?!0:c.search,g=!0===c.hidden;if(c.searchoptions&&!0===c.searchoptions.searchhidden&&e||e&&!g)p=!0,k=c.index||c.name,w=a}});if(!n&&k||!1===c.multipleSearch){var B=
"eq";0<=w&&u[w].searchoptions&&u[w].searchoptions.sopt?B=u[w].searchoptions.sopt[0]:c.sopt&&c.sopt.length&&(B=c.sopt[0]);n={groupOp:"AND",rules:[{field:k,op:B,data:""}]}}p=!1;c.tmplNames&&c.tmplNames.length&&(p=!0,z=c.tmplLabel,z+="<select class='ui-template'>",z+="<option value='default'>Default</option>",a.each(c.tmplNames,function(a,c){z+="<option value='"+a+"'>"+c+"</option>"}),z+="</select>");r="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+g+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+
r+"'>"+v+z+"</td><td class='EditButton' "+s+">"+y+x+"</td></tr></tbody></table>";g=a.jgrid.jqID(g);a("#"+g).jqFilter({columns:u,filter:c.loadDefaults?n:null,showQuery:c.showQuery,errorcheck:c.errorcheck,sopt:c.sopt,groupButton:c.multipleGroup,ruleButtons:c.multipleSearch,afterRedraw:c.afterRedraw,_gridsopt:a.jgrid.search.odata,ajaxSelectOptions:f.p.ajaxSelectOptions,groupOps:c.groupOps,onChange:function(){this.p.showQuery&&a(".query",this).html(this.toUserFriendlyString());a.isFunction(c.afterChange)&&
c.afterChange.call(f,a("#"+g),c)},direction:f.p.direction});q.append(r);p&&c.tmplFilters&&c.tmplFilters.length&&a(".ui-template",q).bind("change",function(){var e=a(this).val();"default"==e?a("#"+g).jqFilter("addFilter",n):a("#"+g).jqFilter("addFilter",c.tmplFilters[parseInt(e,10)]);return!1});!0===c.multipleGroup&&(c.multipleSearch=!0);a(f).triggerHandler("jqGridFilterInitialize",[a("#"+g)]);a.isFunction(c.onInitializeSearch)&&c.onInitializeSearch.call(f,a("#"+g));c.gbox="#gbox_"+g;c.layer?a.jgrid.createModal(m,
q,c,"#gview_"+a.jgrid.jqID(f.p.id),a("#gbox_"+a.jgrid.jqID(f.p.id))[0],"#"+a.jgrid.jqID(c.layer),{position:"relative"}):a.jgrid.createModal(m,q,c,"#gview_"+a.jgrid.jqID(f.p.id),a("#gbox_"+a.jgrid.jqID(f.p.id))[0]);(c.searchOnEnter||c.closeOnEscape)&&a("#"+a.jgrid.jqID(m.themodal)).keydown(function(e){var f=a(e.target);if(c.searchOnEnter&&13===e.which&&!(f.hasClass("add-group")||f.hasClass("add-rule")||f.hasClass("delete-group")||f.hasClass("delete-rule")||f.hasClass("fm-button")&&f.is("[id$=_query]")))return a("#"+
g+"_search").focus().click(),!1;if(c.closeOnEscape&&27===e.which)return a("#"+a.jgrid.jqID(m.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click(),!1});y&&a("#"+g+"_query").bind("click",function(){a(".queryresult",q).toggle();return!1});void 0===c.stringResult&&(c.stringResult=c.multipleSearch);a("#"+g+"_search").bind("click",function(){var e=a("#"+g),k={},l,n=e.jqFilter("filterData");if(c.errorcheck&&(e[0].hideError(),c.showQuery||e.jqFilter("toSQLString"),e[0].p.error))return e[0].showError(),
!1;if(c.stringResult){try{l=xmlJsonClass.toJson(n,"","",!1)}catch(p){try{l=JSON.stringify(n)}catch(q){}}"string"===typeof l&&(k[c.sFilter]=l,a.each([c.sField,c.sValue,c.sOper],function(){k[this]=""}))}else c.multipleSearch?(k[c.sFilter]=n,a.each([c.sField,c.sValue,c.sOper],function(){k[this]=""})):(k[c.sField]=n.rules[0].field,k[c.sValue]=n.rules[0].data,k[c.sOper]=n.rules[0].op,k[c.sFilter]="");f.p.search=!0;a.extend(f.p.postData,k);a(f).triggerHandler("jqGridFilterSearch");a.isFunction(c.onSearch)&&
c.onSearch.call(f);a(f).trigger("reloadGrid",[{page:1}]);c.closeAfterSearch&&a.jgrid.hideModal("#"+a.jgrid.jqID(m.themodal),{gb:"#gbox_"+a.jgrid.jqID(f.p.id),jqm:c.jqModal,onClose:c.onClose});return!1});a("#"+g+"_reset").bind("click",function(){var e={},k=a("#"+g);f.p.search=!1;!1===c.multipleSearch?e[c.sField]=e[c.sValue]=e[c.sOper]="":e[c.sFilter]="";k[0].resetFilter();p&&a(".ui-template",q).val("default");a.extend(f.p.postData,e);a(f).triggerHandler("jqGridFilterReset");a.isFunction(c.onReset)&&
c.onReset.call(f);a(f).trigger("reloadGrid",[{page:1}]);return!1});e(a("#"+g));a(".fm-button:not(.ui-state-disabled)",q).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")})}}})},editGridRow:function(c,e){e=a.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,
beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},a.jgrid.edit,e||{});f[a(this)[0].p.id]=e;return this.each(function(){function h(){a(p+
" > tbody > tr > td > .FormElement").each(function(){var c=a(".customelement",this);if(c.length){var e=a(c[0]).attr("name");a.each(v.p.colModel,function(){if(this.name===e&&this.editoptions&&a.isFunction(this.editoptions.custom_value)){try{if(G[e]=this.editoptions.custom_value.call(v,a("#"+a.jgrid.jqID(e),p),"get"),void 0===G[e])throw"e1";}catch(c){"e1"===c?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,
c.message,a.jgrid.edit.bClose)}return!0}})}else{switch(a(this).get(0).type){case "checkbox":a(this).is(":checked")?G[this.name]=a(this).val():(c=a(this).attr("offval"),G[this.name]=c);break;case "select-one":G[this.name]=a("option:selected",this).val();break;case "select-multiple":G[this.name]=a(this).val();G[this.name]=G[this.name]?G[this.name].join(","):"";a("option:selected",this).each(function(c,e){a(e).text()});break;case "password":case "text":case "textarea":case "button":G[this.name]=a(this).val()}v.p.autoencode&&
(G[this.name]=a.jgrid.htmlEncode(G[this.name]))}});return!0}function g(c,e,g,h){var k,l,m,n=0,p,q,r,w=[],u=!1,s="",A;for(A=1;A<=h;A++)s+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";"_empty"!=c&&(u=a(e).jqGrid("getInd",c));a(e.p.colModel).each(function(A){k=this.name;q=(l=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"";if("cb"!==k&&"subgrid"!==k&&!0===this.editable&&"rn"!==k){if(!1===u)p="";else if(k==e.p.ExpandColumn&&!0===
e.p.treeGrid)p=a("td[role='gridcell']:eq("+A+")",e.rows[u]).text();else{try{p=a.unformat.call(e,a("td[role='gridcell']:eq("+A+")",e.rows[u]),{rowId:c,colModel:this},A)}catch(x){p=this.edittype&&"textarea"==this.edittype?a("td[role='gridcell']:eq("+A+")",e.rows[u]).text():a("td[role='gridcell']:eq("+A+")",e.rows[u]).html()}if(!p||"&nbsp;"==p||"&#160;"==p||1==p.length&&160==p.charCodeAt(0))p=""}var y=a.extend({},this.editoptions||{},{id:k,name:k}),B=a.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,
rowcontent:""},this.formoptions||{}),E=parseInt(B.rowpos,10)||n+1,I=parseInt(2*(parseInt(B.colpos,10)||1),10);"_empty"==c&&y.defaultValue&&(p=a.isFunction(y.defaultValue)?y.defaultValue.call(v):y.defaultValue);this.edittype||(this.edittype="text");v.p.autoencode&&(p=a.jgrid.htmlDecode(p));r=a.jgrid.createEl.call(v,this.edittype,y,p,!1,a.extend({},a.jgrid.ajaxOptions,e.p.ajaxSelectOptions||{}));if(f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)f[v.p.id]._savedData[k]=p;a(r).addClass("FormElement");
-1<a.inArray(this.edittype,["text","textarea","password","select"])&&a(r).addClass("ui-widget-content ui-corner-all");m=a(g).find("tr[rowpos="+E+"]");if(B.rowabove){var H=a("<tr><td class='contentinfo' colspan='"+2*h+"'>"+B.rowcontent+"</td></tr>");a(g).append(H);H[0].rp=E}0===m.length&&(m=a("<tr "+q+" rowpos='"+E+"'></tr>").addClass("FormData").attr("id","tr_"+k),a(m).append(s),a(g).append(m),m[0].rp=E);a("td:eq("+(I-2)+")",m[0]).html(void 0===B.label?e.p.colNames[A]:B.label);a("td:eq("+(I-1)+")",
m[0]).append(B.elmprefix).append(r).append(B.elmsuffix);a.isFunction(y.custom_value)&&"_empty"!==c&&y.custom_value.call(v,a("#"+k,"#"+z),"set",p);a.jgrid.bindEv(r,y,v);w[n]=A;n++}});0<n&&(A=a("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*h-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+e.p.id+"_id' value='"+c+"'/></td></tr>"),A[0].rp=n+999,a(g).append(A),f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)&&(f[v.p.id]._savedData[e.p.id+
"_id"]=c);return w}function l(c,e,g){var h,k=0,l,m,n,q,r;if(f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)f[v.p.id]._savedData={},f[v.p.id]._savedData[e.p.id+"_id"]=c;var t=e.p.colModel;if("_empty"==c)a(t).each(function(){h=this.name;n=a.extend({},this.editoptions||{});(m=a("#"+a.jgrid.jqID(h),"#"+g))&&m.length&&null!==m[0]&&(q="",n.defaultValue?(q=a.isFunction(n.defaultValue)?n.defaultValue.call(v):n.defaultValue,"checkbox"==m[0].type?(r=q.toLowerCase(),0>r.search(/(false|f|0|no|n|off|undefined)/i)&&
""!==r?(m[0].checked=!0,m[0].defaultChecked=!0,m[0].value=q):(m[0].checked=!1,m[0].defaultChecked=!1)):m.val(q)):"checkbox"==m[0].type?(m[0].checked=!1,m[0].defaultChecked=!1,q=a(m).attr("offval")):m[0].type&&"select"==m[0].type.substr(0,6)?m[0].selectedIndex=0:m.val(q),!0===f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)&&(f[v.p.id]._savedData[h]=q)}),a("#id_g","#"+g).val(c);else{var w=a(e).jqGrid("getInd",c,!0);w&&(a('td[role="gridcell"]',w).each(function(m){h=t[m].name;if("cb"!==h&&"subgrid"!==
h&&"rn"!==h&&!0===t[m].editable){if(h==e.p.ExpandColumn&&!0===e.p.treeGrid)l=a(this).text();else try{l=a.unformat.call(e,a(this),{rowId:c,colModel:t[m]},m)}catch(n){l="textarea"==t[m].edittype?a(this).text():a(this).html()}v.p.autoencode&&(l=a.jgrid.htmlDecode(l));if(!0===f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)f[v.p.id]._savedData[h]=l;h=a.jgrid.jqID(h);switch(t[m].edittype){case "password":case "text":case "button":case "image":case "textarea":if("&nbsp;"==l||"&#160;"==l||1==l.length&&
160==l.charCodeAt(0))l="";a("#"+h,"#"+g).val(l);break;case "select":var p=l.split(","),p=a.map(p,function(c){return a.trim(c)});a("#"+h+" option","#"+g).each(function(){t[m].editoptions.multiple||a.trim(l)!=a.trim(a(this).text())&&p[0]!=a.trim(a(this).text())&&p[0]!=a.trim(a(this).val())?t[m].editoptions.multiple?-1<a.inArray(a.trim(a(this).text()),p)||-1<a.inArray(a.trim(a(this).val()),p)?this.selected=!0:this.selected=!1:this.selected=!1:this.selected=!0});break;case "checkbox":l=String(l);if(t[m].editoptions&&
t[m].editoptions.value)if(t[m].editoptions.value.split(":")[0]==l)a("#"+h,"#"+g)[v.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0});else a("#"+h,"#"+g)[v.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1});else l=l.toLowerCase(),0>l.search(/(false|f|0|no|n|off|undefined)/i)&&""!==l?(a("#"+h,"#"+g)[v.p.useProp?"prop":"attr"]("checked",!0),a("#"+h,"#"+g)[v.p.useProp?"prop":"attr"]("defaultChecked",!0)):(a("#"+h,"#"+g)[v.p.useProp?"prop":"attr"]("checked",!1),a("#"+h,"#"+g)[v.p.useProp?
"prop":"attr"]("defaultChecked",!1));break;case "custom":try{if(t[m].editoptions&&a.isFunction(t[m].editoptions.custom_value))t[m].editoptions.custom_value.call(v,a("#"+h,"#"+g),"set",l);else throw"e1";}catch(q){"e1"==q?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,q.message,a.jgrid.edit.bClose)}}k++}}),0<k&&a("#id_g",p).val(c))}}function m(){a.each(v.p.colModel,function(a,c){c.editoptions&&
!0===c.editoptions.NullIfEmpty&&G.hasOwnProperty(c.name)&&""===G[c.name]&&(G[c.name]="null")})}function n(){var c,g=[!0,"",""],h={},k=v.p.prmNames,n,q,r,u,s,A=a(v).triggerHandler("jqGridAddEditBeforeCheckValues",[a("#"+z),J]);A&&"object"===typeof A&&(G=A);a.isFunction(f[v.p.id].beforeCheckValues)&&(A=f[v.p.id].beforeCheckValues.call(v,G,a("#"+z),"_empty"==G[v.p.id+"_id"]?k.addoper:k.editoper))&&"object"===typeof A&&(G=A);for(r in G)if(G.hasOwnProperty(r)&&(g=a.jgrid.checkValues.call(v,G[r],r,v),!1===
g[0]))break;m();g[0]&&(h=a(v).triggerHandler("jqGridAddEditClickSubmit",[f[v.p.id],G,J]),void 0===h&&a.isFunction(f[v.p.id].onclickSubmit)&&(h=f[v.p.id].onclickSubmit.call(v,f[v.p.id],G)||{}),g=a(v).triggerHandler("jqGridAddEditBeforeSubmit",[G,a("#"+z),J]),void 0===g&&(g=[!0,"",""]),g[0]&&a.isFunction(f[v.p.id].beforeSubmit)&&(g=f[v.p.id].beforeSubmit.call(v,G,a("#"+z))));if(g[0]&&!f[v.p.id].processing){f[v.p.id].processing=!0;a("#sData",p+"_2").addClass("ui-state-active");q=k.oper;n=k.id;G[q]="_empty"==
a.trim(G[v.p.id+"_id"])?k.addoper:k.editoper;G[q]!=k.addoper?G[n]=G[v.p.id+"_id"]:void 0===G[n]&&(G[n]=G[v.p.id+"_id"]);delete G[v.p.id+"_id"];G=a.extend(G,f[v.p.id].editData,h);if(!0===v.p.treeGrid)for(s in G[q]==k.addoper&&(u=a(v).jqGrid("getGridParam","selrow"),G["adjacency"==v.p.treeGridModel?v.p.treeReader.parent_id_field:"parent_id"]=u),v.p.treeReader)v.p.treeReader.hasOwnProperty(s)&&(h=v.p.treeReader[s],!G.hasOwnProperty(h)||G[q]==k.addoper&&"parent_id_field"===s||delete G[h]);G[n]=a.jgrid.stripPref(v.p.idPrefix,
G[n]);s=a.extend({url:f[v.p.id].url||a(v).jqGrid("getGridParam","editurl"),type:f[v.p.id].mtype,data:a.isFunction(f[v.p.id].serializeEditData)?f[v.p.id].serializeEditData.call(v,G):G,complete:function(h,m){var r;G[n]=v.p.idPrefix+G[n];"success"!=m?(g[0]=!1,g[1]=a(v).triggerHandler("jqGridAddEditErrorTextFormat",[h,J]),a.isFunction(f[v.p.id].errorTextFormat)?g[1]=f[v.p.id].errorTextFormat.call(v,h):g[1]=m+" Status: '"+h.statusText+"'. Error code: "+h.status):(g=a(v).triggerHandler("jqGridAddEditAfterSubmit",
[h,G,J]),void 0===g&&(g=[!0,"",""]),g[0]&&a.isFunction(f[v.p.id].afterSubmit)&&(g=f[v.p.id].afterSubmit.call(v,h,G)));if(!1===g[0])a("#FormError>td",p).html(g[1]),a("#FormError",p).show();else if(v.p.autoencode&&a.each(G,function(c,e){G[c]=a.jgrid.htmlDecode(e)}),G[q]==k.addoper?(g[2]||(g[2]=a.jgrid.randId()),G[n]=g[2],f[v.p.id].closeAfterAdd?(f[v.p.id].reloadAfterSubmit?a(v).trigger("reloadGrid"):!0===v.p.treeGrid?a(v).jqGrid("addChildNode",g[2],u,G):(a(v).jqGrid("addRowData",g[2],G,e.addedrow),
a(v).jqGrid("setSelection",g[2])),a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose})):f[v.p.id].clearAfterAdd?(f[v.p.id].reloadAfterSubmit?a(v).trigger("reloadGrid"):!0===v.p.treeGrid?a(v).jqGrid("addChildNode",g[2],u,G):a(v).jqGrid("addRowData",g[2],G,e.addedrow),l("_empty",v,z)):f[v.p.id].reloadAfterSubmit?a(v).trigger("reloadGrid"):!0===v.p.treeGrid?a(v).jqGrid("addChildNode",g[2],u,G):a(v).jqGrid("addRowData",g[2],G,e.addedrow)):
(f[v.p.id].reloadAfterSubmit?(a(v).trigger("reloadGrid"),f[v.p.id].closeAfterEdit||setTimeout(function(){a(v).jqGrid("setSelection",G[n])},1E3)):!0===v.p.treeGrid?a(v).jqGrid("setTreeRow",G[n],G):a(v).jqGrid("setRowData",G[n],G),f[v.p.id].closeAfterEdit&&a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose})),a.isFunction(f[v.p.id].afterComplete)&&(c=h,setTimeout(function(){a(v).triggerHandler("jqGridAddEditAfterComplete",[c,G,a("#"+z),
J]);f[v.p.id].afterComplete.call(v,c,G,a("#"+z));c=null},500)),f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)if(a("#"+z).data("disabled",!1),"_empty"!=f[v.p.id]._savedData[v.p.id+"_id"])for(r in f[v.p.id]._savedData)f[v.p.id]._savedData.hasOwnProperty(r)&&G[r]&&(f[v.p.id]._savedData[r]=G[r]);f[v.p.id].processing=!1;a("#sData",p+"_2").removeClass("ui-state-active");try{a(":input:visible","#"+z)[0].focus()}catch(s){}}},a.jgrid.ajaxOptions,f[v.p.id].ajaxEditOptions);s.url||f[v.p.id].useDataProxy||
(a.isFunction(v.p.dataProxy)?f[v.p.id].useDataProxy=!0:(g[0]=!1,g[1]+=" "+a.jgrid.errors.nourl));g[0]&&(f[v.p.id].useDataProxy?(h=v.p.dataProxy.call(v,s,"set_"+v.p.id),void 0===h&&(h=[!0,""]),!1===h[0]?(g[0]=!1,g[1]=h[1]||"Error deleting the selected row!"):(s.data.oper==k.addoper&&f[v.p.id].closeAfterAdd&&a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose}),s.data.oper==k.editoper&&f[v.p.id].closeAfterEdit&&a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),
{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose}))):a.ajax(s))}!1===g[0]&&(a("#FormError>td",p).html(g[1]),a("#FormError",p).show())}function q(a,c){var e=!1,f;for(f in a)if(a.hasOwnProperty(f)&&a[f]!=c[f]){e=!0;break}return e}function r(){var c=!0;a("#FormError",p).hide();f[v.p.id].checkOnUpdate&&(G={},h(),Q=q(G,f[v.p.id]._savedData))&&(a("#"+z).data("disabled",!0),a(".confirm","#"+w.themodal).show(),c=!1);return c}function s(){var e;if("_empty"!==c&&void 0!==v.p.savedRow&&0<
v.p.savedRow.length&&a.isFunction(a.fn.jqGrid.restoreRow))for(e=0;e<v.p.savedRow.length;e++)if(v.p.savedRow[e].id==c){a(v).jqGrid("restoreRow",c);break}}function u(c,e){var f=e[1].length-1;0===c?a("#pData",p+"_2").addClass("ui-state-disabled"):void 0!==e[1][c-1]&&a("#"+a.jgrid.jqID(e[1][c-1])).hasClass("ui-state-disabled")?a("#pData",p+"_2").addClass("ui-state-disabled"):a("#pData",p+"_2").removeClass("ui-state-disabled");c==f?a("#nData",p+"_2").addClass("ui-state-disabled"):void 0!==e[1][c+1]&&a("#"+
a.jgrid.jqID(e[1][c+1])).hasClass("ui-state-disabled")?a("#nData",p+"_2").addClass("ui-state-disabled"):a("#nData",p+"_2").removeClass("ui-state-disabled")}function x(){var c=a(v).jqGrid("getDataIDs"),e=a("#id_g",p).val();return[a.inArray(e,c),c]}var v=this;if(v.grid&&c){var y=v.p.id,z="FrmGrid_"+y,k="TblGrid_"+y,p="#"+a.jgrid.jqID(k),w={themodal:"editmod"+y,modalhead:"edithd"+y,modalcontent:"editcnt"+y,scrollelm:z},B=a.isFunction(f[v.p.id].beforeShowForm)?f[v.p.id].beforeShowForm:!1,D=a.isFunction(f[v.p.id].afterShowForm)?
f[v.p.id].afterShowForm:!1,F=a.isFunction(f[v.p.id].beforeInitData)?f[v.p.id].beforeInitData:!1,K=a.isFunction(f[v.p.id].onInitializeForm)?f[v.p.id].onInitializeForm:!1,A=!0,H=1,E=0,G,Q,J,z=a.jgrid.jqID(z);"new"===c?(c="_empty",J="add",e.caption=f[v.p.id].addCaption):(e.caption=f[v.p.id].editCaption,J="edit");!0===e.recreateForm&&void 0!==a("#"+a.jgrid.jqID(w.themodal))[0]&&a("#"+a.jgrid.jqID(w.themodal)).remove();var N=!0;e.checkOnUpdate&&e.jqModal&&!e.modal&&(N=!1);if(void 0!==a("#"+a.jgrid.jqID(w.themodal))[0]){A=
a(v).triggerHandler("jqGridAddEditBeforeInitData",[a("#"+a.jgrid.jqID(z)),J]);void 0===A&&(A=!0);A&&F&&(A=F.call(v,a("#"+z)));if(!1===A)return;s();a(".ui-jqdialog-title","#"+a.jgrid.jqID(w.modalhead)).html(e.caption);a("#FormError",p).hide();f[v.p.id].topinfo?(a(".topinfo",p).html(f[v.p.id].topinfo),a(".tinfo",p).show()):a(".tinfo",p).hide();f[v.p.id].bottominfo?(a(".bottominfo",p+"_2").html(f[v.p.id].bottominfo),a(".binfo",p+"_2").show()):a(".binfo",p+"_2").hide();l(c,v,z);"_empty"!=c&&f[v.p.id].viewPagerButtons?
a("#pData, #nData",p+"_2").show():a("#pData, #nData",p+"_2").hide();!0===f[v.p.id].processing&&(f[v.p.id].processing=!1,a("#sData",p+"_2").removeClass("ui-state-active"));!0===a("#"+z).data("disabled")&&(a(".confirm","#"+a.jgrid.jqID(w.themodal)).hide(),a("#"+z).data("disabled",!1));a(v).triggerHandler("jqGridAddEditBeforeShowForm",[a("#"+z),J]);B&&B.call(v,a("#"+z));a("#"+a.jgrid.jqID(w.themodal)).data("onClose",f[v.p.id].onClose);a.jgrid.viewModal("#"+a.jgrid.jqID(w.themodal),{gbox:"#gbox_"+a.jgrid.jqID(y),
jqm:e.jqModal,jqM:!1,overlay:e.overlay,modal:e.modal});N||a(".jqmOverlay").click(function(){if(!r())return!1;a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose});return!1});a(v).triggerHandler("jqGridAddEditAfterShowForm",[a("#"+z),J]);D&&D.call(v,a("#"+z))}else{var R=isNaN(e.dataheight)?e.dataheight:e.dataheight+"px",A=isNaN(e.datawidth)?e.datawidth:e.datawidth+"px",R=a("<form name='FormPost' id='"+z+"' class='FormGrid' onSubmit='return false;' style='width:"+
A+";overflow:auto;position:relative;height:"+R+";'></form>").data("disabled",!1),L=a("<table id='"+k+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),A=a(v).triggerHandler("jqGridAddEditBeforeInitData",[a("#"+z),J]);void 0===A&&(A=!0);A&&F&&(A=F.call(v,a("#"+z)));if(!1===A)return;s();a(v.p.colModel).each(function(){var a=this.formoptions;H=Math.max(H,a?a.colpos||0:0);E=Math.max(E,a?a.rowpos||0:0)});a(R).append(L);F=a("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+
2*H+"'></td></tr>");F[0].rp=0;a(L).append(F);F=a("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*H+"'>"+f[v.p.id].topinfo+"</td></tr>");F[0].rp=0;a(L).append(F);var A=(F="rtl"==v.p.direction?!0:!1)?"nData":"pData",O=F?"pData":"nData";g(c,v,L,H);var A="<a href='javascript:void(0)' id='"+A+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",O="<a href='javascript:void(0)' id='"+O+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",
P="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+e.bSubmit+"</a>",I="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+e.bCancel+"</a>",k="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+k+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(F?O+A:A+O)+"</td><td class='EditButton'>"+P+I+"</td></tr>"+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+
f[v.p.id].bottominfo+"</td></tr>"),k=k+"</tbody></table>";if(0<E){var W=[];a.each(a(L)[0].rows,function(a,c){W[a]=c});W.sort(function(a,c){return a.rp>c.rp?1:a.rp<c.rp?-1:0});a.each(W,function(c,e){a("tbody",L).append(e)})}e.gbox="#gbox_"+a.jgrid.jqID(y);var T=!1;!0===e.closeOnEscape&&(e.closeOnEscape=!1,T=!0);k=a("<div></div>").append(R).append(k);a.jgrid.createModal(w,k,e,"#gview_"+a.jgrid.jqID(v.p.id),a("#gbox_"+a.jgrid.jqID(v.p.id))[0]);F&&(a("#pData, #nData",p+"_2").css("float","right"),a(".EditButton",
p+"_2").css("text-align","left"));f[v.p.id].topinfo&&a(".tinfo",p).show();f[v.p.id].bottominfo&&a(".binfo",p+"_2").show();k=k=null;a("#"+a.jgrid.jqID(w.themodal)).keydown(function(c){var g=c.target;if(!0===a("#"+z).data("disabled"))return!1;if(!0===f[v.p.id].savekey[0]&&c.which==f[v.p.id].savekey[1]&&"TEXTAREA"!=g.tagName)return a("#sData",p+"_2").trigger("click"),!1;if(27===c.which){if(!r())return!1;T&&a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:f[v.p.id].onClose});
return!1}if(!0===f[v.p.id].navkeys[0]){if("_empty"==a("#id_g",p).val())return!0;if(c.which==f[v.p.id].navkeys[1])return a("#pData",p+"_2").trigger("click"),!1;if(c.which==f[v.p.id].navkeys[2])return a("#nData",p+"_2").trigger("click"),!1}});e.checkOnUpdate&&(a("a.ui-jqdialog-titlebar-close span","#"+a.jgrid.jqID(w.themodal)).removeClass("jqmClose"),a("a.ui-jqdialog-titlebar-close","#"+a.jgrid.jqID(w.themodal)).unbind("click").click(function(){if(!r())return!1;a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),
{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose});return!1}));e.saveicon=a.extend([!0,"left","ui-icon-disk"],e.saveicon);e.closeicon=a.extend([!0,"left","ui-icon-close"],e.closeicon);!0===e.saveicon[0]&&a("#sData",p+"_2").addClass("right"==e.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+e.saveicon[2]+"'></span>");!0===e.closeicon[0]&&a("#cData",p+"_2").addClass("right"==e.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+
e.closeicon[2]+"'></span>");if(f[v.p.id].checkOnSubmit||f[v.p.id].checkOnUpdate)P="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+e.bYes+"</a>",O="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+e.bNo+"</a>",I="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+e.bExit+"</a>",k=e.zIndex||999,k++,a("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+
k+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(k+1)+"'>"+e.saveData+"<br/><br/>"+P+O+I+"</div>").insertAfter("#"+z),a("#sNew","#"+a.jgrid.jqID(w.themodal)).click(function(){n();a("#"+z).data("disabled",!1);a(".confirm","#"+a.jgrid.jqID(w.themodal)).hide();return!1}),a("#nNew","#"+a.jgrid.jqID(w.themodal)).click(function(){a(".confirm","#"+a.jgrid.jqID(w.themodal)).hide();a("#"+z).data("disabled",!1);setTimeout(function(){a(":input:visible","#"+
z)[0].focus()},0);return!1}),a("#cNew","#"+a.jgrid.jqID(w.themodal)).click(function(){a(".confirm","#"+a.jgrid.jqID(w.themodal)).hide();a("#"+z).data("disabled",!1);a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose});return!1});a(v).triggerHandler("jqGridAddEditInitializeForm",[a("#"+z),J]);K&&K.call(v,a("#"+z));"_empty"!=c&&f[v.p.id].viewPagerButtons?a("#pData,#nData",p+"_2").show():a("#pData,#nData",p+"_2").hide();a(v).triggerHandler("jqGridAddEditBeforeShowForm",
[a("#"+z),J]);B&&B.call(v,a("#"+z));a("#"+a.jgrid.jqID(w.themodal)).data("onClose",f[v.p.id].onClose);a.jgrid.viewModal("#"+a.jgrid.jqID(w.themodal),{gbox:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,overlay:e.overlay,modal:e.modal});N||a(".jqmOverlay").click(function(){if(!r())return!1;a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),jqm:e.jqModal,onClose:f[v.p.id].onClose});return!1});a(v).triggerHandler("jqGridAddEditAfterShowForm",[a("#"+z),J]);D&&D.call(v,a("#"+z));a(".fm-button",
"#"+a.jgrid.jqID(w.themodal)).hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});a("#sData",p+"_2").click(function(){G={};a("#FormError",p).hide();h();"_empty"==G[v.p.id+"_id"]?n():!0===e.checkOnSubmit?(Q=q(G,f[v.p.id]._savedData))?(a("#"+z).data("disabled",!0),a(".confirm","#"+a.jgrid.jqID(w.themodal)).show()):n():n();return!1});a("#cData",p+"_2").click(function(){if(!r())return!1;a.jgrid.hideModal("#"+a.jgrid.jqID(w.themodal),{gb:"#gbox_"+a.jgrid.jqID(y),
jqm:e.jqModal,onClose:f[v.p.id].onClose});return!1});a("#nData",p+"_2").click(function(){if(!r())return!1;a("#FormError",p).hide();var c=x();c[0]=parseInt(c[0],10);if(-1!=c[0]&&c[1][c[0]+1]){a(v).triggerHandler("jqGridAddEditClickPgButtons",["next",a("#"+z),c[1][c[0]]]);var f;if(a.isFunction(e.onclickPgButtons)&&(f=e.onclickPgButtons.call(v,"next",a("#"+z),c[1][c[0]]),void 0!==f&&!1===f)||a("#"+a.jgrid.jqID(c[1][c[0]+1])).hasClass("ui-state-disabled"))return!1;l(c[1][c[0]+1],v,z);a(v).jqGrid("setSelection",
c[1][c[0]+1]);a(v).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",a("#"+z),c[1][c[0]]]);a.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(v,"next",a("#"+z),c[1][c[0]+1]);u(c[0]+1,c)}return!1});a("#pData",p+"_2").click(function(){if(!r())return!1;a("#FormError",p).hide();var c=x();if(-1!=c[0]&&c[1][c[0]-1]){a(v).triggerHandler("jqGridAddEditClickPgButtons",["prev",a("#"+z),c[1][c[0]]]);var f;if(a.isFunction(e.onclickPgButtons)&&(f=e.onclickPgButtons.call(v,"prev",a("#"+z),
c[1][c[0]]),void 0!==f&&!1===f)||a("#"+a.jgrid.jqID(c[1][c[0]-1])).hasClass("ui-state-disabled"))return!1;l(c[1][c[0]-1],v,z);a(v).jqGrid("setSelection",c[1][c[0]-1]);a(v).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",a("#"+z),c[1][c[0]]]);a.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(v,"prev",a("#"+z),c[1][c[0]-1]);u(c[0]-1,c)}return!1})}B=x();u(B[0],B)}})},viewGridRow:function(c,e){e=a.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",
modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0},a.jgrid.view,e||{});f[a(this)[0].p.id]=e;return this.each(function(){function h(){!0!==f[q.p.id].closeOnEscape&&!0!==f[q.p.id].navkeys[0]||setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+a.jgrid.jqID(y.modalhead)).focus()},0)}function g(c,f,g,h){var k,l,m,n=0,p,q,r=[],w=!1,u,s="<td class='CaptionTD form-view-label ui-widget-content' width='"+
e.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",v="",z=["integer","number","currency"],x=0,y=0,B,D,F;for(u=1;u<=h;u++)v+=1==u?s:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";a(f.p.colModel).each(function(){(l=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)||"right"!==this.align||(this.formatter&&-1!==a.inArray(this.formatter,
z)?x=Math.max(x,parseInt(this.width,10)):y=Math.max(y,parseInt(this.width,10)))});B=0!==x?x:0!==y?y:0;w=a(f).jqGrid("getInd",c);a(f.p.colModel).each(function(c){k=this.name;D=!1;q=(l=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"";F="boolean"!==typeof this.viewable?!0:this.viewable;if("cb"!==k&&"subgrid"!==k&&"rn"!==k&&F){p=!1===w?"":k==f.p.ExpandColumn&&!0===f.p.treeGrid?a("td:eq("+c+")",f.rows[w]).text():a("td:eq("+c+")",f.rows[w]).html();D="right"===
this.align&&0!==B?!0:!1;var e=a.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),u=parseInt(e.rowpos,10)||n+1,t=parseInt(2*(parseInt(e.colpos,10)||1),10);if(e.rowabove){var s=a("<tr><td class='contentinfo' colspan='"+2*h+"'>"+e.rowcontent+"</td></tr>");a(g).append(s);s[0].rp=u}m=a(g).find("tr[rowpos="+u+"]");0===m.length&&(m=a("<tr "+q+" rowpos='"+u+"'></tr>").addClass("FormData").attr("id","trv_"+k),a(m).append(v),a(g).append(m),m[0].rp=u);a("td:eq("+(t-2)+")",m[0]).html("<b>"+(void 0===
e.label?f.p.colNames[c]:e.label)+"</b>");a("td:eq("+(t-1)+")",m[0]).append("<span>"+p+"</span>").attr("id","v_"+k);D&&a("td:eq("+(t-1)+") span",m[0]).css({"text-align":"right",width:B+"px"});r[n]=c;n++}});0<n&&(c=a("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*h-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+c+"'/></td></tr>"),c[0].rp=n+99,a(g).append(c));return r}function l(c,e){var f,g,h=0,k,l;if(l=a(e).jqGrid("getInd",
c,!0))a("td",l).each(function(c){f=e.p.colModel[c].name;g=e.p.colModel[c].editrules&&!0===e.p.colModel[c].editrules.edithidden?!1:!0===e.p.colModel[c].hidden?!0:!1;"cb"!==f&&"subgrid"!==f&&"rn"!==f&&(k=f==e.p.ExpandColumn&&!0===e.p.treeGrid?a(this).text():a(this).html(),a.extend({},e.p.colModel[c].editoptions||{}),f=a.jgrid.jqID("v_"+f),a("#"+f+" span","#"+u).html(k),g&&a("#"+f,"#"+u).parents("tr:first").hide(),h++)}),0<h&&a("#id_g","#"+u).val(c)}function m(c,e){var f=e[1].length-1;0===c?a("#pData",
"#"+u+"_2").addClass("ui-state-disabled"):void 0!==e[1][c-1]&&a("#"+a.jgrid.jqID(e[1][c-1])).hasClass("ui-state-disabled")?a("#pData",u+"_2").addClass("ui-state-disabled"):a("#pData","#"+u+"_2").removeClass("ui-state-disabled");c==f?a("#nData","#"+u+"_2").addClass("ui-state-disabled"):void 0!==e[1][c+1]&&a("#"+a.jgrid.jqID(e[1][c+1])).hasClass("ui-state-disabled")?a("#nData",u+"_2").addClass("ui-state-disabled"):a("#nData","#"+u+"_2").removeClass("ui-state-disabled")}function n(){var c=a(q).jqGrid("getDataIDs"),
e=a("#id_g","#"+u).val();return[a.inArray(e,c),c]}var q=this;if(q.grid&&c){var r=q.p.id,s="ViewGrid_"+a.jgrid.jqID(r),u="ViewTbl_"+a.jgrid.jqID(r),x="ViewGrid_"+r,v="ViewTbl_"+r,y={themodal:"viewmod"+r,modalhead:"viewhd"+r,modalcontent:"viewcnt"+r,scrollelm:s},z=a.isFunction(f[q.p.id].beforeInitData)?f[q.p.id].beforeInitData:!1,k=!0,p=1,w=0;if(void 0!==a("#"+a.jgrid.jqID(y.themodal))[0]){z&&(k=z.call(q,a("#"+s)),void 0===k&&(k=!0));if(!1===k)return;a(".ui-jqdialog-title","#"+a.jgrid.jqID(y.modalhead)).html(e.caption);
a("#FormError","#"+u).hide();l(c,q);a.isFunction(f[q.p.id].beforeShowForm)&&f[q.p.id].beforeShowForm.call(q,a("#"+s));a.jgrid.viewModal("#"+a.jgrid.jqID(y.themodal),{gbox:"#gbox_"+a.jgrid.jqID(r),jqm:e.jqModal,jqM:!1,overlay:e.overlay,modal:e.modal});h()}else{var B=isNaN(e.dataheight)?e.dataheight:e.dataheight+"px",D=isNaN(e.datawidth)?e.datawidth:e.datawidth+"px",x=a("<form name='FormPost' id='"+x+"' class='FormGrid' style='width:"+D+";overflow:auto;position:relative;height:"+B+";'></form>"),F=a("<table id='"+
v+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");z&&(k=z.call(q,a("#"+s)),void 0===k&&(k=!0));if(!1===k)return;a(q.p.colModel).each(function(){var a=this.formoptions;p=Math.max(p,a?a.colpos||0:0);w=Math.max(w,a?a.rowpos||0:0)});a(x).append(F);g(c,q,F,p);v="rtl"==q.p.direction?!0:!1;z="<a href='javascript:void(0)' id='"+(v?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>";
k="<a href='javascript:void(0)' id='"+(v?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>";B="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+e.bClose+"</a>";if(0<w){var K=[];a.each(a(F)[0].rows,function(a,c){K[a]=c});K.sort(function(a,c){return a.rp>c.rp?1:a.rp<c.rp?-1:0});a.each(K,function(c,e){a("tbody",F).append(e)})}e.gbox="#gbox_"+a.jgrid.jqID(r);x=a("<div></div>").append(x).append("<table border='0' class='EditTable' id='"+
u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+e.labelswidth+"'>"+(v?k+z:z+k)+"</td><td class='EditButton'>"+B+"</td></tr></tbody></table>");a.jgrid.createModal(y,x,e,"#gview_"+a.jgrid.jqID(q.p.id),a("#gview_"+a.jgrid.jqID(q.p.id))[0]);v&&(a("#pData, #nData","#"+u+"_2").css("float","right"),a(".EditButton","#"+u+"_2").css("text-align","left"));e.viewPagerButtons||a("#pData, #nData","#"+u+"_2").hide();x=null;a("#"+y.themodal).keydown(function(c){if(27===c.which)return f[q.p.id].closeOnEscape&&
a.jgrid.hideModal("#"+a.jgrid.jqID(y.themodal),{gb:e.gbox,jqm:e.jqModal,onClose:e.onClose}),!1;if(!0===e.navkeys[0]){if(c.which===e.navkeys[1])return a("#pData","#"+u+"_2").trigger("click"),!1;if(c.which===e.navkeys[2])return a("#nData","#"+u+"_2").trigger("click"),!1}});e.closeicon=a.extend([!0,"left","ui-icon-close"],e.closeicon);!0===e.closeicon[0]&&a("#cData","#"+u+"_2").addClass("right"==e.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+e.closeicon[2]+
"'></span>");a.isFunction(e.beforeShowForm)&&e.beforeShowForm.call(q,a("#"+s));a.jgrid.viewModal("#"+a.jgrid.jqID(y.themodal),{gbox:"#gbox_"+a.jgrid.jqID(r),jqm:e.jqModal,overlay:e.overlay,modal:e.modal});a(".fm-button:not(.ui-state-disabled)","#"+u+"_2").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});h();a("#cData","#"+u+"_2").click(function(){a.jgrid.hideModal("#"+a.jgrid.jqID(y.themodal),{gb:"#gbox_"+a.jgrid.jqID(r),jqm:e.jqModal,onClose:e.onClose});
return!1});a("#nData","#"+u+"_2").click(function(){a("#FormError","#"+u).hide();var c=n();c[0]=parseInt(c[0],10);-1!=c[0]&&c[1][c[0]+1]&&(a.isFunction(e.onclickPgButtons)&&e.onclickPgButtons.call(q,"next",a("#"+s),c[1][c[0]]),l(c[1][c[0]+1],q),a(q).jqGrid("setSelection",c[1][c[0]+1]),a.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(q,"next",a("#"+s),c[1][c[0]+1]),m(c[0]+1,c));h();return!1});a("#pData","#"+u+"_2").click(function(){a("#FormError","#"+u).hide();var c=n();-1!=c[0]&&c[1][c[0]-
1]&&(a.isFunction(e.onclickPgButtons)&&e.onclickPgButtons.call(q,"prev",a("#"+s),c[1][c[0]]),l(c[1][c[0]-1],q),a(q).jqGrid("setSelection",c[1][c[0]-1]),a.isFunction(e.afterclickPgButtons)&&e.afterclickPgButtons.call(q,"prev",a("#"+s),c[1][c[0]-1]),m(c[0]-1,c));h();return!1})}x=n();m(x[0],x)}})},delGridRow:function(c,e){e=a.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,
afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},a.jgrid.del,e||{});f[a(this)[0].p.id]=e;return this.each(function(){var h=this;if(h.grid&&c){var g=a.isFunction(f[h.p.id].beforeShowForm),l=a.isFunction(f[h.p.id].afterShowForm),m=a.isFunction(f[h.p.id].beforeInitData)?f[h.p.id].beforeInitData:!1,n=h.p.id,q={},r=!0,s="DelTbl_"+a.jgrid.jqID(n),
u,x,v,y,z="DelTbl_"+n,k={themodal:"delmod"+n,modalhead:"delhd"+n,modalcontent:"delcnt"+n,scrollelm:s};a.isArray(c)&&(c=c.join());if(void 0!==a("#"+a.jgrid.jqID(k.themodal))[0]){m&&(r=m.call(h,a("#"+s)),void 0===r&&(r=!0));if(!1===r)return;a("#DelData>td","#"+s).text(c);a("#DelError","#"+s).hide();!0===f[h.p.id].processing&&(f[h.p.id].processing=!1,a("#dData","#"+s).removeClass("ui-state-active"));g&&f[h.p.id].beforeShowForm.call(h,a("#"+s));a.jgrid.viewModal("#"+a.jgrid.jqID(k.themodal),{gbox:"#gbox_"+
a.jgrid.jqID(n),jqm:f[h.p.id].jqModal,jqM:!1,overlay:f[h.p.id].overlay,modal:f[h.p.id].modal})}else{var p=isNaN(f[h.p.id].dataheight)?f[h.p.id].dataheight:f[h.p.id].dataheight+"px",w=isNaN(e.datawidth)?e.datawidth:e.datawidth+"px",z="<div id='"+z+"' class='formdata' style='width:"+w+";overflow:auto;position:relative;height:"+p+";'><table class='DelTable'><tbody>",z=z+"<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>",z=z+("<tr id='DelData' style='display:none'><td >"+c+
"</td></tr>"),z=z+('<tr><td class="delmsg" style="white-space:pre;">'+f[h.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>"),z=z+"</tbody></table></div>",z=z+("<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+s+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+e.bSubmit+"</a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+
e.bCancel+"</a>")+"</td></tr></tbody></table>");e.gbox="#gbox_"+a.jgrid.jqID(n);a.jgrid.createModal(k,z,e,"#gview_"+a.jgrid.jqID(h.p.id),a("#gview_"+a.jgrid.jqID(h.p.id))[0]);m&&(r=m.call(h,a("#"+s)),void 0===r&&(r=!0));if(!1===r)return;a(".fm-button","#"+s+"_2").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")});e.delicon=a.extend([!0,"left","ui-icon-scissors"],f[h.p.id].delicon);e.cancelicon=a.extend([!0,"left","ui-icon-cancel"],f[h.p.id].cancelicon);
!0===e.delicon[0]&&a("#dData","#"+s+"_2").addClass("right"==e.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+e.delicon[2]+"'></span>");!0===e.cancelicon[0]&&a("#eData","#"+s+"_2").addClass("right"==e.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+e.cancelicon[2]+"'></span>");a("#dData","#"+s+"_2").click(function(){var c=[!0,""],g,l=a("#DelData>td","#"+s).text();q={};a.isFunction(f[h.p.id].onclickSubmit)&&(q=f[h.p.id].onclickSubmit.call(h,
f[h.p.id],l)||{});a.isFunction(f[h.p.id].beforeSubmit)&&(c=f[h.p.id].beforeSubmit.call(h,l));if(c[0]&&!f[h.p.id].processing){f[h.p.id].processing=!0;v=h.p.prmNames;u=a.extend({},f[h.p.id].delData,q);y=v.oper;u[y]=v.deloper;x=v.id;l=String(l).split(",");if(!l.length)return!1;for(g in l)l.hasOwnProperty(g)&&(l[g]=a.jgrid.stripPref(h.p.idPrefix,l[g]));u[x]=l.join();a(this).addClass("ui-state-active");g=a.extend({url:f[h.p.id].url||a(h).jqGrid("getGridParam","editurl"),type:f[h.p.id].mtype,data:a.isFunction(f[h.p.id].serializeDelData)?
f[h.p.id].serializeDelData.call(h,u):u,complete:function(g,m){var p;"success"!=m?(c[0]=!1,a.isFunction(f[h.p.id].errorTextFormat)?c[1]=f[h.p.id].errorTextFormat.call(h,g):c[1]=m+" Status: '"+g.statusText+"'. Error code: "+g.status):a.isFunction(f[h.p.id].afterSubmit)&&(c=f[h.p.id].afterSubmit.call(h,g,u));if(!1===c[0])a("#DelError>td","#"+s).html(c[1]),a("#DelError","#"+s).show();else{if(f[h.p.id].reloadAfterSubmit&&"local"!=h.p.datatype)a(h).trigger("reloadGrid");else{if(!0===h.p.treeGrid)try{a(h).jqGrid("delTreeNode",
h.p.idPrefix+l[0])}catch(q){}else for(p=0;p<l.length;p++)a(h).jqGrid("delRowData",h.p.idPrefix+l[p]);h.p.selrow=null;h.p.selarrrow=[]}a.isFunction(f[h.p.id].afterComplete)&&setTimeout(function(){f[h.p.id].afterComplete.call(h,g,l)},500)}f[h.p.id].processing=!1;a("#dData","#"+s+"_2").removeClass("ui-state-active");c[0]&&a.jgrid.hideModal("#"+a.jgrid.jqID(k.themodal),{gb:"#gbox_"+a.jgrid.jqID(n),jqm:e.jqModal,onClose:f[h.p.id].onClose})}},a.jgrid.ajaxOptions,f[h.p.id].ajaxDelOptions);g.url||f[h.p.id].useDataProxy||
(a.isFunction(h.p.dataProxy)?f[h.p.id].useDataProxy=!0:(c[0]=!1,c[1]+=" "+a.jgrid.errors.nourl));c[0]&&(f[h.p.id].useDataProxy?(g=h.p.dataProxy.call(h,g,"del_"+h.p.id),void 0===g&&(g=[!0,""]),!1===g[0]?(c[0]=!1,c[1]=g[1]||"Error deleting the selected row!"):a.jgrid.hideModal("#"+a.jgrid.jqID(k.themodal),{gb:"#gbox_"+a.jgrid.jqID(n),jqm:e.jqModal,onClose:f[h.p.id].onClose})):a.ajax(g))}!1===c[0]&&(a("#DelError>td","#"+s).html(c[1]),a("#DelError","#"+s).show());return!1});a("#eData","#"+s+"_2").click(function(){a.jgrid.hideModal("#"+
a.jgrid.jqID(k.themodal),{gb:"#gbox_"+a.jgrid.jqID(n),jqm:f[h.p.id].jqModal,onClose:f[h.p.id].onClose});return!1});g&&f[h.p.id].beforeShowForm.call(h,a("#"+s));a.jgrid.viewModal("#"+a.jgrid.jqID(k.themodal),{gbox:"#gbox_"+a.jgrid.jqID(n),jqm:f[h.p.id].jqModal,overlay:f[h.p.id].overlay,modal:f[h.p.id].modal})}l&&f[h.p.id].afterShowForm.call(h,a("#"+s));!0===f[h.p.id].closeOnEscape&&setTimeout(function(){a(".ui-jqdialog-titlebar-close","#"+a.jgrid.jqID(k.modalhead)).focus()},0)}})},navGrid:function(c,
e,f,g,l,m,n){e=a.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},a.jgrid.nav,e||{});return this.each(function(){if(!this.nav){var q={themodal:"alertmod_"+
this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},r=this,s;if(r.grid&&"string"===typeof c){void 0===a("#"+q.themodal)[0]&&(e.alerttop||e.alertleft||(void 0!==window.innerWidth?(e.alertleft=window.innerWidth,e.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e.alertleft=document.documentElement.clientWidth,e.alerttop=document.documentElement.clientHeight):(e.alertleft=
1024,e.alerttop=768),e.alertleft=e.alertleft/2-parseInt(e.alertwidth,10)/2,e.alerttop=e.alerttop/2-25),a.jgrid.createModal(q,"<div>"+e.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+a.jgrid.jqID(r.p.id),jqModal:!0,drag:!0,resize:!0,caption:e.alertcap,top:e.alerttop,left:e.alertleft,width:e.alertwidth,height:e.alertheight,closeOnEscape:e.closeOnEscape,zIndex:e.alertzIndex},"#gview_"+a.jgrid.jqID(r.p.id),a("#gbox_"+a.jgrid.jqID(r.p.id))[0],!0));
var u=1,x,v=function(){a(this).hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},y=function(){a(this).removeClass("ui-state-hover")};e.cloneToTop&&r.p.toppager&&(u=2);for(x=0;x<u;x++){var z=a("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),k,p;0===x?(k=c,p=r.p.id,k==r.p.toppager&&(p+="_top",u=1)):(k=r.p.toppager,p=r.p.id+"_top");"rtl"==r.p.direction&&a(z).attr("dir","rtl").css("float",
"right");e.add&&(g=g||{},s=a("<td class='ui-pg-button ui-corner-all'></td>"),a(s).append("<div class='ui-pg-div'><span class='ui-icon "+e.addicon+"'></span>"+e.addtext+"</div>"),a("tr",z).append(s),a(s,z).attr({title:e.addtitle||"",id:g.id||"add_"+p}).click(function(){a(this).hasClass("ui-state-disabled")||(a.isFunction(e.addfunc)?e.addfunc.call(r):a(r).jqGrid("editGridRow","new",g));return!1}).hover(v,y),s=null);e.edit&&(s=a("<td class='ui-pg-button ui-corner-all'></td>"),f=f||{},a(s).append("<div class='ui-pg-div'><span class='ui-icon "+
e.editicon+"'></span>"+e.edittext+"</div>"),a("tr",z).append(s),a(s,z).attr({title:e.edittitle||"",id:f.id||"edit_"+p}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var c=r.p.selrow;c?a.isFunction(e.editfunc)?e.editfunc.call(r,c):a(r).jqGrid("editGridRow",c,f):(a.jgrid.viewModal("#"+q.themodal,{gbox:"#gbox_"+a.jgrid.jqID(r.p.id),jqm:!0}),a("#jqg_alrt").focus())}return!1}).hover(v,y),s=null);e.view&&(s=a("<td class='ui-pg-button ui-corner-all'></td>"),n=n||{},a(s).append("<div class='ui-pg-div'><span class='ui-icon "+
e.viewicon+"'></span>"+e.viewtext+"</div>"),a("tr",z).append(s),a(s,z).attr({title:e.viewtitle||"",id:n.id||"view_"+p}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var c=r.p.selrow;c?a.isFunction(e.viewfunc)?e.viewfunc.call(r,c):a(r).jqGrid("viewGridRow",c,n):(a.jgrid.viewModal("#"+q.themodal,{gbox:"#gbox_"+a.jgrid.jqID(r.p.id),jqm:!0}),a("#jqg_alrt").focus())}return!1}).hover(v,y),s=null);e.del&&(s=a("<td class='ui-pg-button ui-corner-all'></td>"),l=l||{},a(s).append("<div class='ui-pg-div'><span class='ui-icon "+
e.delicon+"'></span>"+e.deltext+"</div>"),a("tr",z).append(s),a(s,z).attr({title:e.deltitle||"",id:l.id||"del_"+p}).click(function(){if(!a(this).hasClass("ui-state-disabled")){var c;r.p.multiselect?(c=r.p.selarrrow,0===c.length&&(c=null)):c=r.p.selrow;c?a.isFunction(e.delfunc)?e.delfunc.call(r,c):a(r).jqGrid("delGridRow",c,l):(a.jgrid.viewModal("#"+q.themodal,{gbox:"#gbox_"+a.jgrid.jqID(r.p.id),jqm:!0}),a("#jqg_alrt").focus())}return!1}).hover(v,y),s=null);(e.add||e.edit||e.del||e.view)&&a("tr",z).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>");
e.search&&(s=a("<td class='ui-pg-button ui-corner-all'></td>"),m=m||{},a(s).append("<div class='ui-pg-div'><span class='ui-icon "+e.searchicon+"'></span>"+e.searchtext+"</div>"),a("tr",z).append(s),a(s,z).attr({title:e.searchtitle||"",id:m.id||"search_"+p}).click(function(){a(this).hasClass("ui-state-disabled")||(a.isFunction(e.searchfunc)?e.searchfunc.call(r,m):a(r).jqGrid("searchGrid",m));return!1}).hover(v,y),m.showOnLoad&&!0===m.showOnLoad&&a(s,z).click(),s=null);e.refresh&&(s=a("<td class='ui-pg-button ui-corner-all'></td>"),
a(s).append("<div class='ui-pg-div'><span class='ui-icon "+e.refreshicon+"'></span>"+e.refreshtext+"</div>"),a("tr",z).append(s),a(s,z).attr({title:e.refreshtitle||"",id:"refresh_"+p}).click(function(){if(!a(this).hasClass("ui-state-disabled")){a.isFunction(e.beforeRefresh)&&e.beforeRefresh.call(r);r.p.search=!1;try{var c=r.p.id;r.p.postData.filters="";a("#fbox_"+a.jgrid.jqID(c)).jqFilter("resetFilter");a.isFunction(r.clearToolbar)&&r.clearToolbar.call(r,!1)}catch(f){}switch(e.refreshstate){case "firstpage":a(r).trigger("reloadGrid",
[{page:1}]);break;case "current":a(r).trigger("reloadGrid",[{current:!0}])}a.isFunction(e.afterRefresh)&&e.afterRefresh.call(r)}return!1}).hover(v,y),s=null);s=a(".ui-jqgrid").css("font-size")||"11px";a("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+s+";visibility:hidden;' ></div>");s=a(z).clone().appendTo("#testpg2").width();a("#testpg2").remove();a(k+"_"+e.position,k).append(z);r.p._nvtd&&(s>r.p._nvtd[0]&&(a(k+"_"+e.position,k).width(s),r.p._nvtd[0]=
s),r.p._nvtd[1]=s);z=s=s=null;this.nav=!0}}}})},navButtonAdd:function(c,e){e=a.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},e||{});return this.each(function(){if(this.grid){"string"===typeof c&&0!==c.indexOf("#")&&(c="#"+a.jgrid.jqID(c));var f=a(".navtable",c)[0],g=this;if(f&&(!e.id||void 0===a("#"+a.jgrid.jqID(e.id),f)[0])){var l=a("<td></td>");"NONE"==e.buttonicon.toString().toUpperCase()?a(l).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+
e.caption+"</div>"):a(l).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+e.buttonicon+"'></span>"+e.caption+"</div>");e.id&&a(l).attr("id",e.id);"first"==e.position?0===f.rows[0].cells.length?a("tr",f).append(l):a("tr td:eq(0)",f).before(l):a("tr",f).append(l);a(l,f).attr("title",e.title||"").click(function(c){a(this).hasClass("ui-state-disabled")||a.isFunction(e.onClickButton)&&e.onClickButton.call(g,c);return!1}).hover(function(){a(this).hasClass("ui-state-disabled")||
a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(c,e){e=a.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},e||{});return this.each(function(){if(this.grid){"string"===typeof c&&0!==c.indexOf("#")&&(c="#"+a.jgrid.jqID(c));var f=a(".navtable",c)[0];if(f){var g="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+e.sepclass+"'></span>"+e.sepcontent+"</td>";"first"===e.position?0===f.rows[0].cells.length?
a("tr",f).append(g):a("tr td:eq(0)",f).before(g):a("tr",f).append(g)}}})},GridToForm:function(c,e){return this.each(function(){var f=this,g;if(f.grid){var l=a(f).jqGrid("getRowData",c);if(l)for(g in l)l.hasOwnProperty(g)&&(a("[name="+a.jgrid.jqID(g)+"]",e).is("input:radio")||a("[name="+a.jgrid.jqID(g)+"]",e).is("input:checkbox")?a("[name="+a.jgrid.jqID(g)+"]",e).each(function(){if(a(this).val()==l[g])a(this)[f.p.useProp?"prop":"attr"]("checked",!0);else a(this)[f.p.useProp?"prop":"attr"]("checked",
!1)}):a("[name="+a.jgrid.jqID(g)+"]",e).val(l[g]))}})},FormToGrid:function(c,e,f,g){return this.each(function(){if(this.grid){f||(f="set");g||(g="first");var l=a(e).serializeArray(),m={};a.each(l,function(a,c){m[c.name]=c.value});"add"==f?a(this).jqGrid("addRowData",c,m,g):"set"==f&&a(this).jqGrid("setRowData",c,m)}})}})})(jQuery);
(function(a){a.jgrid.inlineEdit=a.jgrid.inlineEdit||{};a.jgrid.extend({editRow:function(f,c,e,h,g,l,m,n,q){var r={},s=a.makeArray(arguments).slice(1);"object"===a.type(s[0])?r=s[0]:(void 0!==c&&(r.keys=c),a.isFunction(e)&&(r.oneditfunc=e),a.isFunction(h)&&(r.successfunc=h),void 0!==g&&(r.url=g),void 0!==l&&(r.extraparam=l),a.isFunction(m)&&(r.aftersavefunc=m),a.isFunction(n)&&(r.errorfunc=n),a.isFunction(q)&&(r.afterrestorefunc=q));r=a.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,
extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},a.jgrid.inlineEdit,r);return this.each(function(){var c=this,e,g,h,l=0,k=null,m={},n,q;c.grid&&(n=a(c).jqGrid("getInd",f,!0),!1!==n&&(h=a(n).attr("editable")||"0","0"!=h||a(n).hasClass("not-editable-row")||(q=c.p.colModel,a('td[role="gridcell"]',n).each(function(h){e=q[h].name;var n=!0===c.p.treeGrid&&e===c.p.ExpandColumn;if(n)g=a("span:first",this).html();else try{g=a.unformat.call(c,this,{rowId:f,
colModel:q[h]},h)}catch(r){g=q[h].edittype&&"textarea"===q[h].edittype?a(this).text():a(this).html()}if("cb"!==e&&"subgrid"!==e&&"rn"!==e&&(c.p.autoencode&&(g=a.jgrid.htmlDecode(g)),m[e]=g,!0===q[h].editable)){null===k&&(k=h);n?a("span:first",this).html(""):a(this).html("");var w=a.extend({},q[h].editoptions||{},{id:f+"_"+e,name:e});q[h].edittype||(q[h].edittype="text");if("&nbsp;"===g||"&#160;"===g||1===g.length&&160===g.charCodeAt(0))g="";var s=a.jgrid.createEl.call(c,q[h].edittype,w,g,!0,a.extend({},
a.jgrid.ajaxOptions,c.p.ajaxSelectOptions||{}));a(s).addClass("editable");n?a("span:first",this).append(s):a(this).append(s);a.jgrid.bindEv(s,w,c);"select"===q[h].edittype&&void 0!==q[h].editoptions&&!0===q[h].editoptions.multiple&&void 0===q[h].editoptions.dataUrl&&a.jgrid.msie&&a(s).width(a(s).width());l++}}),0<l&&(m.id=f,c.p.savedRow.push(m),a(n).attr("editable","1"),a("td:eq("+k+") input",n).focus(),!0===r.keys&&a(n).bind("keydown",function(e){if(27===e.keyCode){a(c).jqGrid("restoreRow",f,r.afterrestorefunc);
if(c.p._inlinenav)try{a(c).jqGrid("showAddEditButtons")}catch(g){}return!1}if(13===e.keyCode){if("TEXTAREA"===e.target.tagName)return!0;if(a(c).jqGrid("saveRow",f,r)&&c.p._inlinenav)try{a(c).jqGrid("showAddEditButtons")}catch(h){}return!1}}),a(c).triggerHandler("jqGridInlineEditRow",[f,r]),a.isFunction(r.oneditfunc)&&r.oneditfunc.call(c,f)))))})},saveRow:function(f,c,e,h,g,l,m){var n=a.makeArray(arguments).slice(1),q={};"object"===a.type(n[0])?q=n[0]:(a.isFunction(c)&&(q.successfunc=c),void 0!==e&&
(q.url=e),void 0!==h&&(q.extraparam=h),a.isFunction(g)&&(q.aftersavefunc=g),a.isFunction(l)&&(q.errorfunc=l),a.isFunction(m)&&(q.afterrestorefunc=m));var q=a.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},a.jgrid.inlineEdit,q),r=!1,s=this[0],u,x={},v={},y={},z,k,p;if(!s.grid)return r;p=a(s).jqGrid("getInd",f,!0);if(!1===p)return r;n=a(p).attr("editable");q.url=q.url||s.p.editurl;if("1"===n){var w;a('td[role="gridcell"]',
p).each(function(c){w=s.p.colModel[c];u=w.name;if("cb"!==u&&"subgrid"!==u&&!0===w.editable&&"rn"!==u&&!a(this).hasClass("not-editable-cell")){switch(w.edittype){case "checkbox":var e=["Yes","No"];w.editoptions&&(e=w.editoptions.value.split(":"));x[u]=a("input",this).is(":checked")?e[0]:e[1];break;case "text":case "password":case "textarea":case "button":x[u]=a("input, textarea",this).val();break;case "select":if(w.editoptions.multiple){var e=a("select",this),f=[];x[u]=a(e).val();x[u]=x[u]?x[u].join(","):
"";a("select option:selected",this).each(function(c,e){f[c]=a(e).text()});v[u]=f.join(",")}else x[u]=a("select option:selected",this).val(),v[u]=a("select option:selected",this).text();w.formatter&&"select"===w.formatter&&(v={});break;case "custom":try{if(w.editoptions&&a.isFunction(w.editoptions.custom_value)){if(x[u]=w.editoptions.custom_value.call(s,a(".customelement",this),"get"),void 0===x[u])throw"e2";}else throw"e1";}catch(g){"e1"===g&&a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+
a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose),"e2"===g?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,g.message,a.jgrid.edit.bClose)}}k=a.jgrid.checkValues(x[u],c,s);if(!1===k[0])return k[1]=x[u]+" "+k[1],!1;s.p.autoencode&&(x[u]=a.jgrid.htmlEncode(x[u]));"clientArray"!==q.url&&w.editoptions&&!0===w.editoptions.NullIfEmpty&&""===x[u]&&(y[u]="null")}});if(!1===k[0]){try{var B=a.jgrid.findPos(a("#"+
a.jgrid.jqID(f),s.grid.bDiv)[0]);a.jgrid.info_dialog(a.jgrid.errors.errcap,k[1],a.jgrid.edit.bClose,{left:B[0],top:B[1]})}catch(D){alert(k[1])}return r}var F=s.p.prmNames,B=f,n=!1===s.p.keyIndex?F.id:s.p.colModel[s.p.keyIndex+(!0===s.p.rownumbers?1:0)+(!0===s.p.multiselect?1:0)+(!0===s.p.subGrid?1:0)].name;x&&(x[F.oper]=F.editoper,void 0===x[n]?x[n]=f:p.id!==s.p.idPrefix+x[n]&&(F=a.jgrid.stripPref(s.p.idPrefix,f),void 0!==s.p._index[F]&&(s.p._index[x[n]]=s.p._index[F],delete s.p._index[F]),f=s.p.idPrefix+
x[n],a(p).attr("id",f),s.p.selrow===B&&(s.p.selrow=f),a.isArray(s.p.selarrrow)&&(F=a.inArray(B,s.p.selarrrow),0<=F&&(s.p.selarrrow[F]=f)),s.p.multiselect&&(F="jqg_"+s.p.id+"_"+f,a("input.cbox",p).attr("id",F).attr("name",F))),void 0===s.p.inlineData&&(s.p.inlineData={}),x=a.extend({},x,s.p.inlineData,q.extraparam));if("clientArray"===q.url){x=a.extend({},x,v);s.p.autoencode&&a.each(x,function(c,e){x[c]=a.jgrid.htmlDecode(e)});F=a(s).jqGrid("setRowData",f,x);a(p).attr("editable","0");for(n=0;n<s.p.savedRow.length;n++)if(String(s.p.savedRow[n].id)===
String(B)){z=n;break}0<=z&&s.p.savedRow.splice(z,1);a(s).triggerHandler("jqGridInlineAfterSaveRow",[f,F,x,q]);a.isFunction(q.aftersavefunc)&&q.aftersavefunc.call(s,f,F,q);r=!0;a(p).removeClass("jqgrid-new-row").unbind("keydown")}else a("#lui_"+a.jgrid.jqID(s.p.id)).show(),y=a.extend({},x,y),y[n]=a.jgrid.stripPref(s.p.idPrefix,y[n]),a.ajax(a.extend({url:q.url,data:a.isFunction(s.p.serializeRowData)?s.p.serializeRowData.call(s,y):y,type:q.mtype,async:!1,complete:function(c,e){a("#lui_"+a.jgrid.jqID(s.p.id)).hide();
if("success"===e){var g=!0,h;h=a(s).triggerHandler("jqGridInlineSuccessSaveRow",[c,f,q]);a.isArray(h)||(h=[!0,x]);h[0]&&a.isFunction(q.successfunc)&&(h=q.successfunc.call(s,c));a.isArray(h)?(g=h[0],x=h[1]||x):g=h;if(!0===g){s.p.autoencode&&a.each(x,function(c,e){x[c]=a.jgrid.htmlDecode(e)});x=a.extend({},x,v);a(s).jqGrid("setRowData",f,x);a(p).attr("editable","0");for(g=0;g<s.p.savedRow.length;g++)if(String(s.p.savedRow[g].id)===String(f)){z=g;break}0<=z&&s.p.savedRow.splice(z,1);a(s).triggerHandler("jqGridInlineAfterSaveRow",
[f,c,x,q]);a.isFunction(q.aftersavefunc)&&q.aftersavefunc.call(s,f,c);r=!0;a(p).removeClass("jqgrid-new-row").unbind("keydown")}else a(s).triggerHandler("jqGridInlineErrorSaveRow",[f,c,e,null,q]),a.isFunction(q.errorfunc)&&q.errorfunc.call(s,f,c,e,null),!0===q.restoreAfterError&&a(s).jqGrid("restoreRow",f,q.afterrestorefunc)}},error:function(c,e,g){a("#lui_"+a.jgrid.jqID(s.p.id)).hide();a(s).triggerHandler("jqGridInlineErrorSaveRow",[f,c,e,g,q]);if(a.isFunction(q.errorfunc))q.errorfunc.call(s,f,c,
e,g);else{c=c.responseText||c.statusText;try{a.jgrid.info_dialog(a.jgrid.errors.errcap,'<div class="ui-state-error">'+c+"</div>",a.jgrid.edit.bClose,{buttonalign:"right"})}catch(h){alert(c)}}!0===q.restoreAfterError&&a(s).jqGrid("restoreRow",f,q.afterrestorefunc)}},a.jgrid.ajaxOptions,s.p.ajaxRowOptions||{}))}return r},restoreRow:function(f,c){var e=a.makeArray(arguments).slice(1),h={};"object"===a.type(e[0])?h=e[0]:a.isFunction(c)&&(h.afterrestorefunc=c);h=a.extend(!0,{},a.jgrid.inlineEdit,h);return this.each(function(){var c=
this,e,m,n={},q;if(c.grid&&(m=a(c).jqGrid("getInd",f,!0),!1!==m)){for(q=0;q<c.p.savedRow.length;q++)if(String(c.p.savedRow[q].id)===String(f)){e=q;break}if(0<=e){if(a.isFunction(a.fn.datepicker))try{a("input.hasDatepicker","#"+a.jgrid.jqID(m.id)).datepicker("hide")}catch(r){}a.each(c.p.colModel,function(){!0===this.editable&&c.p.savedRow[e].hasOwnProperty(this.name)&&(n[this.name]=c.p.savedRow[e][this.name])});a(c).jqGrid("setRowData",f,n);a(m).attr("editable","0").unbind("keydown");c.p.savedRow.splice(e,
1);a("#"+a.jgrid.jqID(f),"#"+a.jgrid.jqID(c.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){a(c).jqGrid("delRowData",f);a(c).jqGrid("showAddEditButtons")},0)}a(c).triggerHandler("jqGridInlineAfterRestoreRow",[f]);a.isFunction(h.afterrestorefunc)&&h.afterrestorefunc.call(c,f)}})},addRow:function(f){f=a.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},f||{});return this.each(function(){if(this.grid){var c=this;f.rowID=a.isFunction(f.rowID)?
f.rowID.call(c,f):null!=f.rowID?f.rowID:a.jgrid.randId();!0===f.useDefValues&&a(c.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue,e=a.isFunction(e)?e.call(c):e;f.initdata[this.name]=e}});a(c).jqGrid("addRowData",f.rowID,f.initdata,f.position);f.rowID=c.p.idPrefix+f.rowID;a("#"+a.jgrid.jqID(f.rowID),"#"+a.jgrid.jqID(c.p.id)).addClass("jqgrid-new-row");if(f.useFormatter)a("#"+a.jgrid.jqID(f.rowID)+" .ui-inline-edit","#"+a.jgrid.jqID(c.p.id)).click();
else{var e=c.p.prmNames;f.addRowParams.extraparam[e.oper]=e.addoper;a(c).jqGrid("editRow",f.rowID,f.addRowParams);a(c).jqGrid("setSelection",f.rowID)}}})},inlineNav:function(f,c){c=a.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{},editParams:{},restoreAfterSelect:!0},a.jgrid.nav,c||{});return this.each(function(){if(this.grid){var e=this,h,g=a.jgrid.jqID(e.p.id);e.p._inlinenav=!0;if(!0===c.addParams.useFormatter){var l=
e.p.colModel,m;for(m=0;m<l.length;m++)if(l[m].formatter&&"actions"===l[m].formatter){l[m].formatoptions&&(l=a.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},l[m].formatoptions),c.addParams.addRowParams={keys:l.keys,oneditfunc:l.onEdit,successfunc:l.onSuccess,url:l.url,extraparam:l.extraparam,aftersavefunc:l.afterSavef,errorfunc:l.onError,afterrestorefunc:l.afterRestore});break}}c.add&&a(e).jqGrid("navButtonAdd",f,{caption:c.addtext,
title:c.addtitle,buttonicon:c.addicon,id:e.p.id+"_iladd",onClickButton:function(){a(e).jqGrid("addRow",c.addParams);c.addParams.useFormatter||(a("#"+g+"_ilsave").removeClass("ui-state-disabled"),a("#"+g+"_ilcancel").removeClass("ui-state-disabled"),a("#"+g+"_iladd").addClass("ui-state-disabled"),a("#"+g+"_iledit").addClass("ui-state-disabled"))}});c.edit&&a(e).jqGrid("navButtonAdd",f,{caption:c.edittext,title:c.edittitle,buttonicon:c.editicon,id:e.p.id+"_iledit",onClickButton:function(){var f=a(e).jqGrid("getGridParam",
"selrow");f?(a(e).jqGrid("editRow",f,c.editParams),a("#"+g+"_ilsave").removeClass("ui-state-disabled"),a("#"+g+"_ilcancel").removeClass("ui-state-disabled"),a("#"+g+"_iladd").addClass("ui-state-disabled"),a("#"+g+"_iledit").addClass("ui-state-disabled")):(a.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+g,jqm:!0}),a("#jqg_alrt").focus())}});c.save&&(a(e).jqGrid("navButtonAdd",f,{caption:c.savetext||"",title:c.savetitle||"Save row",buttonicon:c.saveicon,id:e.p.id+"_ilsave",onClickButton:function(){var f=
e.p.savedRow[0].id;if(f){var h=e.p.prmNames,l=h.oper,m={};a("#"+a.jgrid.jqID(f),"#"+g).hasClass("jqgrid-new-row")?(c.addParams.addRowParams.extraparam||(c.addParams.addRowParams.extraparam={}),c.addParams.addRowParams.extraparam[l]=h.addoper,m=c.addParams.addRowParams):(c.editParams.extraparam||(c.editParams.extraparam={}),c.editParams.extraparam[l]=h.editoper,m=c.editParams);a(e).jqGrid("saveRow",f,m)&&a(e).jqGrid("showAddEditButtons")}else a.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+g,jqm:!0}),
a("#jqg_alrt").focus()}}),a("#"+g+"_ilsave").addClass("ui-state-disabled"));c.cancel&&(a(e).jqGrid("navButtonAdd",f,{caption:c.canceltext||"",title:c.canceltitle||"Cancel row editing",buttonicon:c.cancelicon,id:e.p.id+"_ilcancel",onClickButton:function(){var f=e.p.savedRow[0].id,h={};f?(h=a("#"+a.jgrid.jqID(f),"#"+g).hasClass("jqgrid-new-row")?c.addParams.addRowParams:c.editParams,a(e).jqGrid("restoreRow",f,h),a(e).jqGrid("showAddEditButtons")):(a.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+g,jqm:!0}),
a("#jqg_alrt").focus())}}),a("#"+g+"_ilcancel").addClass("ui-state-disabled"));!0===c.restoreAfterSelect&&(h=a.isFunction(e.p.beforeSelectRow)?e.p.beforeSelectRow:!1,e.p.beforeSelectRow=function(f,g){var l=!0;0<e.p.savedRow.length&&!0===e.p._inlinenav&&f!==e.p.selrow&&null!==e.p.selrow&&(e.p.selrow===c.addParams.rowID?a(e).jqGrid("delRowData",e.p.selrow):a(e).jqGrid("restoreRow",e.p.selrow,c.editParams),a(e).jqGrid("showAddEditButtons"));h&&(l=h.call(e,f,g));return l})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var f=
a.jgrid.jqID(this.p.id);a("#"+f+"_ilsave").addClass("ui-state-disabled");a("#"+f+"_ilcancel").addClass("ui-state-disabled");a("#"+f+"_iladd").removeClass("ui-state-disabled");a("#"+f+"_iledit").removeClass("ui-state-disabled")}})}})})(jQuery);
(function(a){a.jgrid.extend({editCell:function(f,c,e){return this.each(function(){var h=this,g,l,m,n;if(h.grid&&!0===h.p.cellEdit){c=parseInt(c,10);h.p.selrow=h.rows[f].id;h.p.knv||a(h).jqGrid("GridNav");if(0<h.p.savedRow.length){if(!0===e&&f==h.p.iRow&&c==h.p.iCol)return;a(h).jqGrid("saveCell",h.p.savedRow[0].id,h.p.savedRow[0].ic)}else window.setTimeout(function(){a("#"+a.jgrid.jqID(h.p.knv)).attr("tabindex","-1").focus()},0);n=h.p.colModel[c];g=n.name;if("subgrid"!=g&&"cb"!=g&&"rn"!=g){m=a("td:eq("+
c+")",h.rows[f]);if(!0!==n.editable||!0!==e||m.hasClass("not-editable-cell"))0<=parseInt(h.p.iCol,10)&&0<=parseInt(h.p.iRow,10)&&(a("td:eq("+h.p.iCol+")",h.rows[h.p.iRow]).removeClass("edit-cell ui-state-highlight"),a(h.rows[h.p.iRow]).removeClass("selected-row ui-state-hover")),m.addClass("edit-cell ui-state-highlight"),a(h.rows[f]).addClass("selected-row ui-state-hover"),l=m.html().replace(/\&#160\;/ig,""),a(h).triggerHandler("jqGridSelectCell",[h.rows[f].id,g,l,f,c]),a.isFunction(h.p.onSelectCell)&&
h.p.onSelectCell.call(h,h.rows[f].id,g,l,f,c);else{0<=parseInt(h.p.iCol,10)&&0<=parseInt(h.p.iRow,10)&&(a("td:eq("+h.p.iCol+")",h.rows[h.p.iRow]).removeClass("edit-cell ui-state-highlight"),a(h.rows[h.p.iRow]).removeClass("selected-row ui-state-hover"));a(m).addClass("edit-cell ui-state-highlight");a(h.rows[f]).addClass("selected-row ui-state-hover");try{l=a.unformat.call(h,m,{rowId:h.rows[f].id,colModel:n},c)}catch(q){l=n.edittype&&"textarea"==n.edittype?a(m).text():a(m).html()}h.p.autoencode&&(l=
a.jgrid.htmlDecode(l));n.edittype||(n.edittype="text");h.p.savedRow.push({id:f,ic:c,name:g,v:l});if("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))l="";if(a.isFunction(h.p.formatCell)){var r=h.p.formatCell.call(h,h.rows[f].id,g,l,f,c);void 0!==r&&(l=r)}var r=a.extend({},n.editoptions||{},{id:f+"_"+g,name:g}),s=a.jgrid.createEl.call(h,n.edittype,r,l,!0,a.extend({},a.jgrid.ajaxOptions,h.p.ajaxSelectOptions||{}));a(h).triggerHandler("jqGridBeforeEditCell",[h.rows[f].id,g,l,f,c]);a.isFunction(h.p.beforeEditCell)&&
h.p.beforeEditCell.call(h,h.rows[f].id,g,l,f,c);a(m).html("").append(s).attr("tabindex","0");a.jgrid.bindEv(s,r,h);window.setTimeout(function(){a(s).focus()},0);a("input, select, textarea",m).bind("keydown",function(e){27===e.keyCode&&(0<a("input.hasDatepicker",m).length?a(".ui-datepicker").is(":hidden")?a(h).jqGrid("restoreCell",f,c):a("input.hasDatepicker",m).datepicker("hide"):a(h).jqGrid("restoreCell",f,c));if(13===e.keyCode)return a(h).jqGrid("saveCell",f,c),!1;if(9===e.keyCode){if(h.grid.hDiv.loading)return!1;
e.shiftKey?a(h).jqGrid("prevCell",f,c):a(h).jqGrid("nextCell",f,c)}e.stopPropagation()});a(h).triggerHandler("jqGridAfterEditCell",[h.rows[f].id,g,l,f,c]);a.isFunction(h.p.afterEditCell)&&h.p.afterEditCell.call(h,h.rows[f].id,g,l,f,c)}h.p.iCol=c;h.p.iRow=f}}})},saveCell:function(f,c){return this.each(function(){var e=this,h;if(e.grid&&!0===e.p.cellEdit){h=1<=e.p.savedRow.length?0:null;if(null!==h){var g=a("td:eq("+c+")",e.rows[f]),l,m,n=e.p.colModel[c],q=n.name,r=a.jgrid.jqID(q);switch(n.edittype){case "select":if(n.editoptions.multiple){var r=
a("#"+f+"_"+r,e.rows[f]),s=[];(l=a(r).val())?l.join(","):l="";a("option:selected",r).each(function(c,e){s[c]=a(e).text()});m=s.join(",")}else l=a("#"+f+"_"+r+" option:selected",e.rows[f]).val(),m=a("#"+f+"_"+r+" option:selected",e.rows[f]).text();n.formatter&&(m=l);break;case "checkbox":var u=["Yes","No"];n.editoptions&&(u=n.editoptions.value.split(":"));m=l=a("#"+f+"_"+r,e.rows[f]).is(":checked")?u[0]:u[1];break;case "password":case "text":case "textarea":case "button":m=l=a("#"+f+"_"+r,e.rows[f]).val();
break;case "custom":try{if(n.editoptions&&a.isFunction(n.editoptions.custom_value)){l=n.editoptions.custom_value.call(e,a(".customelement",g),"get");if(void 0===l)throw"e2";m=l}else throw"e1";}catch(x){"e1"==x&&a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose),"e2"==x?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,x.message,
a.jgrid.edit.bClose)}}if(m!==e.p.savedRow[h].v){if(h=a(e).triggerHandler("jqGridBeforeSaveCell",[e.rows[f].id,q,l,f,c]))m=l=h;a.isFunction(e.p.beforeSaveCell)&&(h=e.p.beforeSaveCell.call(e,e.rows[f].id,q,l,f,c))&&(m=l=h);var v=a.jgrid.checkValues(l,c,e);if(!0===v[0]){h=a(e).triggerHandler("jqGridBeforeSubmitCell",[e.rows[f].id,q,l,f,c])||{};a.isFunction(e.p.beforeSubmitCell)&&((h=e.p.beforeSubmitCell.call(e,e.rows[f].id,q,l,f,c))||(h={}));0<a("input.hasDatepicker",g).length&&a("input.hasDatepicker",
g).datepicker("hide");if("remote"==e.p.cellsubmit)if(e.p.cellurl){var y={};e.p.autoencode&&(l=a.jgrid.htmlEncode(l));y[q]=l;u=e.p.prmNames;n=u.id;r=u.oper;y[n]=a.jgrid.stripPref(e.p.idPrefix,e.rows[f].id);y[r]=u.editoper;y=a.extend(h,y);a("#lui_"+a.jgrid.jqID(e.p.id)).show();e.grid.hDiv.loading=!0;a.ajax(a.extend({url:e.p.cellurl,data:a.isFunction(e.p.serializeCellData)?e.p.serializeCellData.call(e,y):y,type:"POST",complete:function(h,k){a("#lui_"+e.p.id).hide();e.grid.hDiv.loading=!1;if("success"==
k){var n=a(e).triggerHandler("jqGridAfterSubmitCell",[e,h,y.id,q,l,f,c])||[!0,""];!0===n[0]&&a.isFunction(e.p.afterSubmitCell)&&(n=e.p.afterSubmitCell.call(e,h,y.id,q,l,f,c));!0===n[0]?(a(g).empty(),a(e).jqGrid("setCell",e.rows[f].id,c,m,!1,!1,!0),a(g).addClass("dirty-cell"),a(e.rows[f]).addClass("edited"),a(e).triggerHandler("jqGridAfterSaveCell",[e.rows[f].id,q,l,f,c]),a.isFunction(e.p.afterSaveCell)&&e.p.afterSaveCell.call(e,e.rows[f].id,q,l,f,c),e.p.savedRow.splice(0,1)):(a.jgrid.info_dialog(a.jgrid.errors.errcap,
n[1],a.jgrid.edit.bClose),a(e).jqGrid("restoreCell",f,c))}},error:function(g,h,k){a("#lui_"+a.jgrid.jqID(e.p.id)).hide();e.grid.hDiv.loading=!1;a(e).triggerHandler("jqGridErrorCell",[g,h,k]);a.isFunction(e.p.errorCell)?e.p.errorCell.call(e,g,h,k):a.jgrid.info_dialog(a.jgrid.errors.errcap,g.status+" : "+g.statusText+"<br/>"+h,a.jgrid.edit.bClose);a(e).jqGrid("restoreCell",f,c)}},a.jgrid.ajaxOptions,e.p.ajaxCellOptions||{}))}else try{a.jgrid.info_dialog(a.jgrid.errors.errcap,a.jgrid.errors.nourl,a.jgrid.edit.bClose),
a(e).jqGrid("restoreCell",f,c)}catch(z){}"clientArray"==e.p.cellsubmit&&(a(g).empty(),a(e).jqGrid("setCell",e.rows[f].id,c,m,!1,!1,!0),a(g).addClass("dirty-cell"),a(e.rows[f]).addClass("edited"),a(e).triggerHandler("jqGridAfterSaveCell",[e.rows[f].id,q,l,f,c]),a.isFunction(e.p.afterSaveCell)&&e.p.afterSaveCell.call(e,e.rows[f].id,q,l,f,c),e.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){a.jgrid.info_dialog(a.jgrid.errors.errcap,l+" "+v[1],a.jgrid.edit.bClose)},100),a(e).jqGrid("restoreCell",
f,c)}catch(k){}}else a(e).jqGrid("restoreCell",f,c)}window.setTimeout(function(){a("#"+a.jgrid.jqID(e.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(f,c){return this.each(function(){var e=this,h;if(e.grid&&!0===e.p.cellEdit){h=1<=e.p.savedRow.length?0:null;if(null!==h){var g=a("td:eq("+c+")",e.rows[f]);if(a.isFunction(a.fn.datepicker))try{a("input.hasDatepicker",g).datepicker("hide")}catch(l){}a(g).empty().attr("tabindex","-1");a(e).jqGrid("setCell",e.rows[f].id,c,e.p.savedRow[h].v,
!1,!1,!0);a(e).triggerHandler("jqGridAfterRestoreCell",[e.rows[f].id,e.p.savedRow[h].v,f,c]);a.isFunction(e.p.afterRestoreCell)&&e.p.afterRestoreCell.call(e,e.rows[f].id,e.p.savedRow[h].v,f,c);e.p.savedRow.splice(0,1)}window.setTimeout(function(){a("#"+e.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(f,c){return this.each(function(){var e=!1,h;if(this.grid&&!0===this.p.cellEdit){for(h=c+1;h<this.p.colModel.length;h++)if(!0===this.p.colModel[h].editable){e=h;break}!1!==e?a(this).jqGrid("editCell",
f,e,!0):0<this.p.savedRow.length&&a(this).jqGrid("saveCell",f,c)}})},prevCell:function(f,c){return this.each(function(){var e=!1,h;if(this.grid&&!0===this.p.cellEdit){for(h=c-1;0<=h;h--)if(!0===this.p.colModel[h].editable){e=h;break}!1!==e?a(this).jqGrid("editCell",f,e,!0):0<this.p.savedRow.length&&a(this).jqGrid("saveCell",f,c)}})},GridNav:function(){return this.each(function(){function f(c,f,g){if("v"==g.substr(0,1)){var h=a(e.grid.bDiv)[0].clientHeight,l=a(e.grid.bDiv)[0].scrollTop,u=e.rows[c].offsetTop+
e.rows[c].clientHeight,x=e.rows[c].offsetTop;"vd"==g&&u>=h&&(a(e.grid.bDiv)[0].scrollTop=a(e.grid.bDiv)[0].scrollTop+e.rows[c].clientHeight);"vu"==g&&x<l&&(a(e.grid.bDiv)[0].scrollTop=a(e.grid.bDiv)[0].scrollTop-e.rows[c].clientHeight)}"h"==g&&(g=a(e.grid.bDiv)[0].clientWidth,h=a(e.grid.bDiv)[0].scrollLeft,l=e.rows[c].cells[f].offsetLeft,e.rows[c].cells[f].offsetLeft+e.rows[c].cells[f].clientWidth>=g+parseInt(h,10)?a(e.grid.bDiv)[0].scrollLeft=a(e.grid.bDiv)[0].scrollLeft+e.rows[c].cells[f].clientWidth:
l<h&&(a(e.grid.bDiv)[0].scrollLeft=a(e.grid.bDiv)[0].scrollLeft-e.rows[c].cells[f].clientWidth))}function c(a,c){var f,g;if("lft"==c)for(f=a+1,g=a;0<=g;g--)if(!0!==e.p.colModel[g].hidden){f=g;break}if("rgt"==c)for(f=a-1,g=a;g<e.p.colModel.length;g++)if(!0!==e.p.colModel[g].hidden){f=g;break}return f}var e=this;if(e.grid&&!0===e.p.cellEdit){e.p.knv=e.p.id+"_kn";var h=a("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+e.p.knv+
"'></div></div>"),g,l;a(h).insertBefore(e.grid.cDiv);a("#"+e.p.knv).focus().keydown(function(h){l=h.keyCode;"rtl"==e.p.direction&&(37===l?l=39:39===l&&(l=37));switch(l){case 38:0<e.p.iRow-1&&(f(e.p.iRow-1,e.p.iCol,"vu"),a(e).jqGrid("editCell",e.p.iRow-1,e.p.iCol,!1));break;case 40:e.p.iRow+1<=e.rows.length-1&&(f(e.p.iRow+1,e.p.iCol,"vd"),a(e).jqGrid("editCell",e.p.iRow+1,e.p.iCol,!1));break;case 37:0<=e.p.iCol-1&&(g=c(e.p.iCol-1,"lft"),f(e.p.iRow,g,"h"),a(e).jqGrid("editCell",e.p.iRow,g,!1));break;
case 39:e.p.iCol+1<=e.p.colModel.length-1&&(g=c(e.p.iCol+1,"rgt"),f(e.p.iRow,g,"h"),a(e).jqGrid("editCell",e.p.iRow,g,!1));break;case 13:0<=parseInt(e.p.iCol,10)&&0<=parseInt(e.p.iRow,10)&&a(e).jqGrid("editCell",e.p.iRow,e.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(f){var c=[];f||(f="all");this.each(function(){var e=this,h;e.grid&&!0===e.p.cellEdit&&a(e.rows).each(function(g){var l={};a(this).hasClass("edited")&&(a("td",this).each(function(c){h=e.p.colModel[c].name;
if("cb"!==h&&"subgrid"!==h)if("dirty"==f){if(a(this).hasClass("dirty-cell"))try{l[h]=a.unformat.call(e,this,{rowId:e.rows[g].id,colModel:e.p.colModel[c]},c)}catch(n){l[h]=a.jgrid.htmlDecode(a(this).html())}}else try{l[h]=a.unformat.call(e,this,{rowId:e.rows[g].id,colModel:e.p.colModel[c]},c)}catch(q){l[h]=a.jgrid.htmlDecode(a(this).html())}}),l.id=this.id,c.push(l))})});return c}})})(jQuery);
(function(a){a.jgrid.extend({setSubGrid:function(){return this.each(function(){var f,c;this.p.subGridOptions=a.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0},this.p.subGridOptions||{});this.p.colNames.unshift("");this.p.colModel.unshift({name:"subgrid",width:a.jgrid.cell_width?this.p.subGridWidth+this.p.cellLayout:this.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0});
f=this.p.subGridModel;if(f[0])for(f[0].align=a.extend([],f[0].align||[]),c=0;c<f[0].name.length;c++)f[0].align[c]=f[0].align[c]||"left"})},addSubGridCell:function(a,c){var e="",h,g;this.each(function(){e=this.formatCol(a,c);g=this.p.id;h=this.p.subGridOptions.plusicon});return'<td role="gridcell" aria-describedby="'+g+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+e+"><a href='javascript:void(0);'><span class='ui-icon "+h+"'></span></a></td>"},addSubGrid:function(f,c){return this.each(function(){var e=
this;if(e.grid){var h=function(c,f,g){f=a("<td align='"+e.p.subGridModel[0].align[g]+"'></td>").html(f);a(c).append(f)},g=function(c,f){var g,l,m,n=a("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),q=a("<tr></tr>");for(l=0;l<e.p.subGridModel[0].name.length;l++)g=a("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+e.p.direction+"'></th>"),a(g).html(e.p.subGridModel[0].name[l]),a(g).width(e.p.subGridModel[0].width[l]),a(q).append(g);a(n).append(q);c&&(m=e.p.xmlReader.subgrid,
a(m.root+" "+m.row,c).each(function(){q=a("<tr class='ui-widget-content ui-subtblcell'></tr>");if(!0===m.repeatitems)a(m.cell,this).each(function(c){h(q,a(this).text()||"&#160;",c)});else{var c=e.p.subGridModel[0].mapping||e.p.subGridModel[0].name;if(c)for(l=0;l<c.length;l++)h(q,a(c[l],this).text()||"&#160;",l)}a(n).append(q)}));g=a("table:first",e.grid.bDiv).attr("id")+"_";a("#"+a.jgrid.jqID(g+f)).append(n);e.grid.hDiv.loading=!1;a("#load_"+a.jgrid.jqID(e.p.id)).hide();return!1},l=function(c,f){var g,
l,m,n,q,r=a("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),s=a("<tr></tr>");for(l=0;l<e.p.subGridModel[0].name.length;l++)g=a("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+e.p.direction+"'></th>"),a(g).html(e.p.subGridModel[0].name[l]),a(g).width(e.p.subGridModel[0].width[l]),a(s).append(g);a(r).append(s);if(c&&(n=e.p.jsonReader.subgrid,g=a.jgrid.getAccessor(c,n.root),void 0!==g))for(l=0;l<g.length;l++){m=g[l];s=a("<tr class='ui-widget-content ui-subtblcell'></tr>");
if(!0===n.repeatitems)for(n.cell&&(m=m[n.cell]),q=0;q<m.length;q++)h(s,m[q]||"&#160;",q);else{var u=e.p.subGridModel[0].mapping||e.p.subGridModel[0].name;if(u.length)for(q=0;q<u.length;q++)h(s,m[u[q]]||"&#160;",q)}a(r).append(s)}l=a("table:first",e.grid.bDiv).attr("id")+"_";a("#"+a.jgrid.jqID(l+f)).append(r);e.grid.hDiv.loading=!1;a("#load_"+a.jgrid.jqID(e.p.id)).hide();return!1},m=function(c){var f,h,m,n;f=a(c).attr("id");h={nd_:(new Date).getTime()};h[e.p.prmNames.subgridid]=f;if(!e.p.subGridModel[0])return!1;
if(e.p.subGridModel[0].params)for(n=0;n<e.p.subGridModel[0].params.length;n++)for(m=0;m<e.p.colModel.length;m++)e.p.colModel[m].name===e.p.subGridModel[0].params[n]&&(h[e.p.colModel[m].name]=a("td:eq("+m+")",c).text().replace(/\&#160\;/ig,""));if(!e.grid.hDiv.loading)switch(e.grid.hDiv.loading=!0,a("#load_"+a.jgrid.jqID(e.p.id)).show(),e.p.subgridtype||(e.p.subgridtype=e.p.datatype),a.isFunction(e.p.subgridtype)?e.p.subgridtype.call(e,h):e.p.subgridtype=e.p.subgridtype.toLowerCase(),e.p.subgridtype){case "xml":case "json":a.ajax(a.extend({type:e.p.mtype,
url:e.p.subGridUrl,dataType:e.p.subgridtype,data:a.isFunction(e.p.serializeSubGridData)?e.p.serializeSubGridData.call(e,h):h,complete:function(c){"xml"===e.p.subgridtype?g(c.responseXML,f):l(a.jgrid.parse(c.responseText),f)}},a.jgrid.ajaxOptions,e.p.ajaxSubgridOptions||{}))}return!1},n,q,r,s=0,u,x;a.each(e.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||s++});var v=e.rows.length,y=1;void 0!==c&&0<c&&(y=c,v=c+1);for(;y<v;)a(e.rows[y]).hasClass("jqgrow")&&a(e.rows[y].cells[f]).bind("click",
function(){var c=a(this).parent("tr")[0];x=c.nextSibling;if(a(this).hasClass("sgcollapsed")){q=e.p.id;n=c.id;if(!0===e.p.subGridOptions.reloadOnExpand||!1===e.p.subGridOptions.reloadOnExpand&&!a(x).hasClass("ui-subgrid")){r=1<=f?"<td colspan='"+f+"'>&#160;</td>":"";u=a(e).triggerHandler("jqGridSubGridBeforeExpand",[q+"_"+n,n]);(u=!1===u||"stop"===u?!1:!0)&&a.isFunction(e.p.subGridBeforeExpand)&&(u=e.p.subGridBeforeExpand.call(e,q+"_"+n,n));if(!1===u)return!1;a(c).after("<tr role='row' class='ui-subgrid'>"+
r+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+e.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(e.p.colNames.length-1-s,10)+"' class='ui-widget-content subgrid-data'><div id="+q+"_"+n+" class='tablediv'></div></td></tr>");a(e).triggerHandler("jqGridSubGridRowExpanded",[q+"_"+n,n]);a.isFunction(e.p.subGridRowExpanded)?e.p.subGridRowExpanded.call(e,q+"_"+n,n):m(c)}else a(x).show();a(this).html("<a href='javascript:void(0);'><span class='ui-icon "+e.p.subGridOptions.minusicon+
"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded");e.p.subGridOptions.selectOnExpand&&a(e).jqGrid("setSelection",n)}else if(a(this).hasClass("sgexpanded")){u=a(e).triggerHandler("jqGridSubGridRowColapsed",[q+"_"+n,n]);(u=!1===u||"stop"===u?!1:!0)&&a.isFunction(e.p.subGridRowColapsed)&&(n=c.id,u=e.p.subGridRowColapsed.call(e,q+"_"+n,n));if(!1===u)return!1;!0===e.p.subGridOptions.reloadOnExpand?a(x).remove(".ui-subgrid"):a(x).hasClass("ui-subgrid")&&a(x).hide();a(this).html("<a href='javascript:void(0);'><span class='ui-icon "+
e.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1}),y++;!0===e.p.subGridOptions.expandOnLoad&&a(e.rows).filter(".jqgrow").each(function(c,e){a(e.cells[0]).click()});e.subGridXml=function(a,c){g(a,c)};e.subGridJson=function(a,c){l(a,c)}}})},expandSubGridRow:function(f){return this.each(function(){if((this.grid||f)&&!0===this.p.subGrid){var c=a(this).jqGrid("getInd",f,!0);c&&(c=a("td.sgcollapsed",c)[0])&&a(c).trigger("click")}})},collapseSubGridRow:function(f){return this.each(function(){if((this.grid||
f)&&!0===this.p.subGrid){var c=a(this).jqGrid("getInd",f,!0);c&&(c=a("td.sgexpanded",c)[0])&&a(c).trigger("click")}})},toggleSubGridRow:function(f){return this.each(function(){if((this.grid||f)&&!0===this.p.subGrid){var c=a(this).jqGrid("getInd",f,!0);if(c){var e=a("td.sgcollapsed",c)[0];e?a(e).trigger("click"):(e=a("td.sgexpanded",c)[0])&&a(e).trigger("click")}}})}})})(jQuery);
(function(a){a.jgrid.extend({setTreeNode:function(f,c){return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)for(var h=e.p.expColInd,g=e.p.treeReader.expanded_field,l=e.p.treeReader.leaf_field,m=e.p.treeReader.level_field,n=e.p.treeReader.icon_field,q=e.p.treeReader.loaded,r,s,u,x;f<c;)x=e.p.data[e.p._index[e.rows[f].id]],"nested"!=e.p.treeGridModel||x[l]||(r=parseInt(x[e.p.treeReader.left_field],10),s=parseInt(x[e.p.treeReader.right_field],10),x[l]=s===r+1?"true":"false",e.rows[f].cells[e.p._treeleafpos].innerHTML=
x[l]),r=parseInt(x[m],10),0===e.p.tree_root_level?(u=r+1,s=r):(u=r,s=r-1),u="<div class='tree-wrap tree-wrap-"+e.p.direction+"' style='width:"+18*u+"px;'>",u+="<div style='"+("rtl"==e.p.direction?"right:":"left:")+18*s+"px;' class='ui-icon ",void 0!==x[q]&&(x[q]="true"==x[q]||!0===x[q]?!0:!1),"true"==x[l]||!0===x[l]?(u+=(void 0!==x[n]&&""!==x[n]?x[n]:e.p.treeIcons.leaf)+" tree-leaf treeclick",x[l]=!0,s="leaf"):(x[l]=!1,s=""),x[g]=("true"==x[g]||!0===x[g]?!0:!1)&&(x[q]||void 0===x[q]),u=!1===x[g]?
u+(!0===x[l]?"'":e.p.treeIcons.plus+" tree-plus treeclick'"):u+(!0===x[l]?"'":e.p.treeIcons.minus+" tree-minus treeclick'"),u+="></div></div>",a(e.rows[f].cells[h]).wrapInner("<span class='cell-wrapper"+s+"'></span>").prepend(u),r!==parseInt(e.p.tree_root_level,10)&&((x=(x=a(e).jqGrid("getNodeParent",x))&&x.hasOwnProperty(g)?x[g]:!0)||a(e.rows[f]).css("display","none")),a(e.rows[f].cells[h]).find("div.treeclick").bind("click",function(c){c=a(c.target||c.srcElement,e.rows).closest("tr.jqgrow")[0].id;
c=e.p._index[c];e.p.data[c][l]||(e.p.data[c][g]?(a(e).jqGrid("collapseRow",e.p.data[c]),a(e).jqGrid("collapseNode",e.p.data[c])):(a(e).jqGrid("expandRow",e.p.data[c]),a(e).jqGrid("expandNode",e.p.data[c])));return!1}),!0===e.p.ExpandColClick&&a(e.rows[f].cells[h]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(c){c=a(c.target||c.srcElement,e.rows).closest("tr.jqgrow")[0].id;var f=e.p._index[c];e.p.data[f][l]||(e.p.data[f][g]?(a(e).jqGrid("collapseRow",e.p.data[f]),a(e).jqGrid("collapseNode",
e.p.data[f])):(a(e).jqGrid("expandRow",e.p.data[f]),a(e).jqGrid("expandNode",e.p.data[f])));a(e).jqGrid("setSelection",c);return!1}),f++})},setTreeGrid:function(){return this.each(function(){var f=this,c=0,e,h=!1,g,l,m=[];if(f.p.treeGrid){f.p.treedatatype||a.extend(f.p,{treedatatype:f.p.datatype});f.p.subGrid=!1;f.p.altRows=!1;f.p.pgbuttons=!1;f.p.pginput=!1;f.p.gridview=!0;null===f.p.rowTotal&&(f.p.rowNum=1E4);f.p.multiselect=!1;f.p.rowList=[];f.p.expColInd=0;e="ui-icon-triangle-1-"+("rtl"==f.p.direction?
"w":"e");f.p.treeIcons=a.extend({plus:e,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},f.p.treeIcons||{});"nested"==f.p.treeGridModel?f.p.treeReader=a.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},f.p.treeReader):"adjacency"==f.p.treeGridModel&&(f.p.treeReader=a.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},
f.p.treeReader));for(g in f.p.colModel)if(f.p.colModel.hasOwnProperty(g))for(l in e=f.p.colModel[g].name,e!=f.p.ExpandColumn||h||(h=!0,f.p.expColInd=c),c++,f.p.treeReader)f.p.treeReader.hasOwnProperty(l)&&f.p.treeReader[l]==e&&m.push(e);a.each(f.p.treeReader,function(e,g){g&&-1===a.inArray(g,m)&&("leaf_field"===e&&(f.p._treeleafpos=c),c++,f.p.colNames.push(g),f.p.colModel.push({name:g,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(f){this.each(function(){var c=
this;if(c.grid&&c.p.treeGrid){var e=a(c).jqGrid("getNodeChildren",f),h=c.p.treeReader.expanded_field,g=c.rows;a(e).each(function(){var e=a.jgrid.getAccessor(this,c.p.localReader.id);a(g.namedItem(e)).css("display","");this[h]&&a(c).jqGrid("expandRow",this)})}})},collapseRow:function(f){this.each(function(){var c=this;if(c.grid&&c.p.treeGrid){var e=a(c).jqGrid("getNodeChildren",f),h=c.p.treeReader.expanded_field,g=c.rows;a(e).each(function(){var e=a.jgrid.getAccessor(this,c.p.localReader.id);a(g.namedItem(e)).css("display",
"none");this[h]&&a(c).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var f=[];this.each(function(){var c=this;if(c.grid&&c.p.treeGrid)switch(c.p.treeGridModel){case "nested":var e=c.p.treeReader.level_field;a(c.p.data).each(function(){parseInt(this[e],10)===parseInt(c.p.tree_root_level,10)&&f.push(this)});break;case "adjacency":var h=c.p.treeReader.parent_id_field;a(c.p.data).each(function(){null!==this[h]&&"null"!=String(this[h]).toLowerCase()||f.push(this)})}});return f},getNodeDepth:function(f){var c=
null;this.each(function(){if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case "nested":c=parseInt(f[this.p.treeReader.level_field],10)-parseInt(this.p.tree_root_level,10);break;case "adjacency":c=a(this).jqGrid("getNodeAncestors",f).length}});return c},getNodeParent:function(f){var c=null;this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case "nested":var h=e.p.treeReader.left_field,g=e.p.treeReader.right_field,l=e.p.treeReader.level_field,m=parseInt(f[h],
10),n=parseInt(f[g],10),q=parseInt(f[l],10);a(this.p.data).each(function(){if(parseInt(this[l],10)===q-1&&parseInt(this[h],10)<m&&parseInt(this[g],10)>n)return c=this,!1});break;case "adjacency":var r=e.p.treeReader.parent_id_field,s=e.p.localReader.id;a(this.p.data).each(function(){if(this[s]===a.jgrid.stripPref(e.p.idPrefix,f[r]))return c=this,!1})}});return c},getNodeChildren:function(f){var c=[];this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case "nested":var h=
e.p.treeReader.left_field,g=e.p.treeReader.right_field,l=e.p.treeReader.level_field,m=parseInt(f[h],10),n=parseInt(f[g],10),q=parseInt(f[l],10);a(this.p.data).each(function(){parseInt(this[l],10)===q+1&&parseInt(this[h],10)>m&&parseInt(this[g],10)<n&&c.push(this)});break;case "adjacency":var r=e.p.treeReader.parent_id_field,s=e.p.localReader.id;a(this.p.data).each(function(){this[r]===a.jgrid.stripPref(e.p.idPrefix,f[s])&&c.push(this)})}});return c},getFullTreeNode:function(f){var c=[];this.each(function(){var e=
this,h;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case "nested":var g=e.p.treeReader.left_field,l=e.p.treeReader.right_field,m=e.p.treeReader.level_field,n=parseInt(f[g],10),q=parseInt(f[l],10),r=parseInt(f[m],10);a(this.p.data).each(function(){parseInt(this[m],10)>=r&&parseInt(this[g],10)>=n&&parseInt(this[g],10)<=q&&c.push(this)});break;case "adjacency":if(f){c.push(f);var s=e.p.treeReader.parent_id_field,u=e.p.localReader.id;a(this.p.data).each(function(f){h=c.length;for(f=0;f<h;f++)if(a.jgrid.stripPref(e.p.idPrefix,
c[f][u])===this[s]){c.push(this);break}})}}});return c},getNodeAncestors:function(f){var c=[];this.each(function(){if(this.grid&&this.p.treeGrid)for(var e=a(this).jqGrid("getNodeParent",f);e;)c.push(e),e=a(this).jqGrid("getNodeParent",e)});return c},isVisibleNode:function(f){var c=!0;this.each(function(){if(this.grid&&this.p.treeGrid){var e=a(this).jqGrid("getNodeAncestors",f),h=this.p.treeReader.expanded_field;a(e).each(function(){c=c&&this[h];if(!c)return!1})}});return c},isNodeLoaded:function(f){var c;
this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.leaf_field;c=void 0!==f?void 0!==f.loaded?f.loaded:f[e]||0<a(this).jqGrid("getNodeChildren",f).length?!0:!1:!1}});return c},expandNode:function(f){return this.each(function(){if(this.grid&&this.p.treeGrid){var c=this.p.treeReader.expanded_field,e=this.p.treeReader.parent_id_field,h=this.p.treeReader.loaded,g=this.p.treeReader.level_field,l=this.p.treeReader.left_field,m=this.p.treeReader.right_field;if(!f[c]){var n=a.jgrid.getAccessor(f,
this.p.localReader.id),q=a("#"+a.jgrid.jqID(n),this.grid.bDiv)[0],r=this.p._index[n];a(this).jqGrid("isNodeLoaded",this.p.data[r])?(f[c]=!0,a("div.treeclick",q).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(f[c]=!0,a("div.treeclick",q).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=q.rowIndex,this.p.datatype=this.p.treedatatype,"nested"==this.p.treeGridModel?
a(this).jqGrid("setGridParam",{postData:{nodeid:n,n_left:f[l],n_right:f[m],n_level:f[g]}}):a(this).jqGrid("setGridParam",{postData:{nodeid:n,parentid:f[e],n_level:f[g]}}),a(this).trigger("reloadGrid"),f[h]=!0,"nested"==this.p.treeGridModel?a(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):a(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(f){return this.each(function(){if(this.grid&&this.p.treeGrid){var c=this.p.treeReader.expanded_field;
f[c]&&(f[c]=!1,c=a.jgrid.getAccessor(f,this.p.localReader.id),c=a("#"+a.jgrid.jqID(c),this.grid.bDiv)[0],a("div.treeclick",c).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"))}})},SortTree:function(f,c,e,h){return this.each(function(){if(this.grid&&this.p.treeGrid){var g,l,m,n=[],q=this,r;g=a(this).jqGrid("getRootNodes");g=a.jgrid.from(g);g.orderBy(f,c,e,h);r=g.select();g=0;for(l=r.length;g<l;g++)m=r[g],n.push(m),a(this).jqGrid("collectChildrenSortTree",
n,m,f,c,e,h);a.each(n,function(c){var e=a.jgrid.getAccessor(this,q.p.localReader.id);a("#"+a.jgrid.jqID(q.p.id)+" tbody tr:eq("+c+")").after(a("tr#"+a.jgrid.jqID(e),q.grid.bDiv))});n=r=g=null}})},collectChildrenSortTree:function(f,c,e,h,g,l){return this.each(function(){if(this.grid&&this.p.treeGrid){var m,n,q,r;m=a(this).jqGrid("getNodeChildren",c);m=a.jgrid.from(m);m.orderBy(e,h,g,l);r=m.select();m=0;for(n=r.length;m<n;m++)q=r[m],f.push(q),a(this).jqGrid("collectChildrenSortTree",f,q,e,h,g,l)}})},
setTreeRow:function(f,c){var e=!1;this.each(function(){this.grid&&this.p.treeGrid&&(e=a(this).jqGrid("setRowData",f,c))});return e},delTreeNode:function(f){return this.each(function(){var c=this.p.localReader.id,e,h=this.p.treeReader.left_field,g=this.p.treeReader.right_field,l,m,n;if(this.grid&&this.p.treeGrid&&(e=this.p._index[f],void 0!==e)){l=parseInt(this.p.data[e][g],10);m=l-parseInt(this.p.data[e][h],10)+1;var q=a(this).jqGrid("getFullTreeNode",this.p.data[e]);if(0<q.length)for(e=0;e<q.length;e++)a(this).jqGrid("delRowData",
q[e][c]);if("nested"===this.p.treeGridModel){c=a.jgrid.from(this.p.data).greater(h,l,{stype:"integer"}).select();if(c.length)for(n in c)c.hasOwnProperty(n)&&(c[n][h]=parseInt(c[n][h],10)-m);c=a.jgrid.from(this.p.data).greater(g,l,{stype:"integer"}).select();if(c.length)for(n in c)c.hasOwnProperty(n)&&(c[n][g]=parseInt(c[n][g],10)-m)}}})},addChildNode:function(f,c,e,h){var g=this[0];if(e){var l=g.p.treeReader.expanded_field,m=g.p.treeReader.leaf_field,n=g.p.treeReader.level_field,q=g.p.treeReader.parent_id_field,
r=g.p.treeReader.left_field,s=g.p.treeReader.right_field,u=g.p.treeReader.loaded,x,v,y,z,k;x=0;var p=c,w;void 0===h&&(h=!1);if(void 0===f||null===f){k=g.p.data.length-1;if(0<=k)for(;0<=k;)x=Math.max(x,parseInt(g.p.data[k][g.p.localReader.id],10)),k--;f=x+1}var B=a(g).jqGrid("getInd",c);w=!1;void 0===c||null===c||""===c?(p=c=null,x="last",z=g.p.tree_root_level,k=g.p.data.length+1):(x="after",v=g.p._index[c],y=g.p.data[v],c=y[g.p.localReader.id],z=parseInt(y[n],10)+1,k=a(g).jqGrid("getFullTreeNode",
y),k.length?(p=k=k[k.length-1][g.p.localReader.id],k=a(g).jqGrid("getInd",p)+1):k=a(g).jqGrid("getInd",c)+1,y[m]&&(w=!0,y[l]=!0,a(g.rows[B]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(g.p.treeIcons.leaf+" tree-leaf").addClass(g.p.treeIcons.minus+" tree-minus"),g.p.data[v][m]=!1,y[u]=!0));v=k+1;void 0===e[l]&&(e[l]=!1);void 0===e[u]&&(e[u]=!1);e[n]=z;void 0===e[m]&&(e[m]=!0);"adjacency"===g.p.treeGridModel&&(e[q]=c);
if("nested"===g.p.treeGridModel){var D;if(null!==c){m=parseInt(y[s],10);n=a.jgrid.from(g.p.data);n=n.greaterOrEquals(s,m,{stype:"integer"});n=n.select();if(n.length)for(D in n)n.hasOwnProperty(D)&&(n[D][r]=n[D][r]>m?parseInt(n[D][r],10)+2:n[D][r],n[D][s]=n[D][s]>=m?parseInt(n[D][s],10)+2:n[D][s]);e[r]=m;e[s]=m+1}else{m=parseInt(a(g).jqGrid("getCol",s,!1,"max"),10);n=a.jgrid.from(g.p.data).greater(r,m,{stype:"integer"}).select();if(n.length)for(D in n)n.hasOwnProperty(D)&&(n[D][r]=parseInt(n[D][r],
10)+2);n=a.jgrid.from(g.p.data).greater(s,m,{stype:"integer"}).select();if(n.length)for(D in n)n.hasOwnProperty(D)&&(n[D][s]=parseInt(n[D][s],10)+2);e[r]=m+1;e[s]=m+2}}if(null===c||a(g).jqGrid("isNodeLoaded",y)||w)a(g).jqGrid("addRowData",f,e,x,p),a(g).jqGrid("setTreeNode",k,v);y&&!y[l]&&h&&a(g.rows[B]).find("div.treeclick").click()}}})})(jQuery);
(function(a){a.extend(a.jgrid,{template:function(f){var c=a.makeArray(arguments).slice(1),e,h=c.length;null==f&&(f="");return f.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(f,l){if(!isNaN(parseInt(l,10)))return c[parseInt(l,10)];for(e=0;e<h;e++)if(a.isArray(c[e]))for(var m=c[e],n=m.length;n--;)if(l===m[n].nm)return m[n].v})}});a.jgrid.extend({groupingSetup:function(){return this.each(function(){var f,c,e=this.p.colModel,h=this.p.groupingView;if(null===h||"object"!==typeof h&&!a.isFunction(h))this.p.grouping=
!1;else if(h.groupField.length){void 0===h.visibiltyOnNextGrouping&&(h.visibiltyOnNextGrouping=[]);h.lastvalues=[];h.groups=[];h.counters=[];for(f=0;f<h.groupField.length;f++)h.groupOrder[f]||(h.groupOrder[f]="asc"),h.groupText[f]||(h.groupText[f]="{0}"),"boolean"!==typeof h.groupColumnShow[f]&&(h.groupColumnShow[f]=!0),"boolean"!==typeof h.groupSummary[f]&&(h.groupSummary[f]=!1),!0===h.groupColumnShow[f]?(h.visibiltyOnNextGrouping[f]=!0,a(this).jqGrid("showCol",h.groupField[f])):(h.visibiltyOnNextGrouping[f]=
a("#"+a.jgrid.jqID(this.p.id+"_"+h.groupField[f])).is(":visible"),a(this).jqGrid("hideCol",h.groupField[f]));h.summary=[];f=0;for(c=e.length;f<c;f++)e[f].summaryType&&h.summary.push({nm:e[f].name,st:e[f].summaryType,v:"",sr:e[f].summaryRound,srt:e[f].summaryRoundType||"round"})}else this.p.grouping=!1})},groupingPrepare:function(f,c,e,h){this.each(function(){var g=this.p.groupingView,l=this,m,n=g.groupField.length,q,r,s,u=0;for(m=0;m<n;m++)q=g.groupField[m],s=g.displayField[m],r=e[q],s=null==s?null:
e[s],null==s&&(s=r),void 0!==r&&(0===h?(g.groups.push({idx:m,dataIndex:q,value:r,displayValue:s,startRow:h,cnt:1,summary:[]}),g.lastvalues[m]=r,g.counters[m]={cnt:1,pos:g.groups.length-1,summary:a.extend(!0,[],g.summary)}):"object"!==typeof r&&g.lastvalues[m]!==r?(g.groups.push({idx:m,dataIndex:q,value:r,displayValue:s,startRow:h,cnt:1,summary:[]}),g.lastvalues[m]=r,u=1,g.counters[m]={cnt:1,pos:g.groups.length-1,summary:a.extend(!0,[],g.summary)}):1===u?(g.groups.push({idx:m,dataIndex:q,value:r,displayValue:s,
startRow:h,cnt:1,summary:[]}),g.lastvalues[m]=r,g.counters[m]={cnt:1,pos:g.groups.length-1,summary:a.extend(!0,[],g.summary)}):(g.counters[m].cnt+=1,g.groups[g.counters[m].pos].cnt=g.counters[m].cnt),a.each(g.counters[m].summary,function(){a.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,e):this.v=a(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,e)}),g.groups[g.counters[m].pos].summary=g.counters[m].summary);c.push(f)});return c},groupingToggle:function(f){this.each(function(){var c=
this.p.groupingView,e=f.split("_"),h=parseInt(e[e.length-2],10);e.splice(e.length-2,2);var e=e.join("_"),g=c.minusicon,l=c.plusicon,m=a("#"+a.jgrid.jqID(f)),m=m.length?m[0].nextSibling:null,n=a("#"+a.jgrid.jqID(f)+" span.tree-wrap-"+this.p.direction),q=!1;if(n.hasClass(g)){if(c.showSummaryOnHide){if(m)for(;m&&!(a(m).hasClass("jqfoot")&&parseInt(a(m).attr("jqfootlevel"),10)<=h);)a(m).hide(),m=m.nextSibling}else if(m)for(;m&&!a(m).hasClass(e+"_"+String(h))&&!a(m).hasClass(e+"_"+String(h-1));)a(m).hide(),
m=m.nextSibling;n.removeClass(g).addClass(l);q=!0}else{if(m)for(;m&&!a(m).hasClass(e+"_"+String(h))&&!a(m).hasClass(e+"_"+String(h-1));)a(m).show(),(c=a(m).find("span.tree-wrap-"+this.p.direction))&&a(c).hasClass(l)&&a(c).removeClass(l).addClass(g),m=m.nextSibling;n.removeClass(l).addClass(g)}a(this).triggerHandler("jqGridGroupingClickGroup",[f,q]);a.isFunction(this.p.onClickGroup)&&this.p.onClickGroup.call(this,f,q)});return!1},groupingRender:function(f,c){return this.each(function(){function e(a,
c,e){var f=!1;if(0===c)f=e[a];else{var g=e[a].idx;if(0===g)f=e[a];else for(;0<=a;a--)if(e[a].idx===g-c){f=e[a];break}}return f}var h=this,g=h.p.groupingView,l="",m="",n,q,r=g.groupCollapse?g.plusicon:g.minusicon,s,u=[],x=g.groupField.length,r=r+(" tree-wrap-"+h.p.direction);a.each(h.p.colModel,function(a,c){var e;for(e=0;e<x;e++)if(g.groupField[e]===c.name){u[e]=a;break}});var v=0,y=a.makeArray(g.groupSummary);y.reverse();a.each(g.groups,function(z,k){v++;q=h.p.id+"ghead_"+k.idx;n=q+"_"+z;m="<span style='cursor:pointer;' class='ui-icon "+
r+"' onclick=\"jQuery('#"+a.jgrid.jqID(h.p.id)+"').jqGrid('groupingToggle','"+n+"');return false;\"></span>";try{s=h.formatter(n,k.displayValue,u[k.idx],k.value)}catch(p){s=k.displayValue}l+='<tr id="'+n+'" role="row" class= "ui-widget-content jqgroup ui-row-'+h.p.direction+" "+q+'"><td style="padding-left:'+12*k.idx+'px;" colspan="'+c+'">'+m+a.jgrid.template(g.groupText[k.idx],s,k.cnt,k.summary)+"</td></tr>";if(x-1===k.idx){var w=g.groups[z+1],B,D,F=void 0!==w?g.groups[z+1].startRow:f.length;for(D=
k.startRow;D<F;D++)l+=f[D].join("");var K;if(void 0!==w){for(K=0;K<g.groupField.length&&w.dataIndex!==g.groupField[K];K++);v=g.groupField.length-K}for(w=0;w<v;w++)if(y[w]){D="";g.groupCollapse&&!g.showSummaryOnHide&&(D=' style="display:none;"');l+="<tr"+D+' jqfootlevel="'+(k.idx-w)+'" role="row" class="ui-widget-content jqfoot ui-row-'+h.p.direction+'">';D=e(z,w,g.groups);var A=h.p.colModel,H,E=D.cnt;for(B=0;B<c;B++){var G="<td "+h.formatCol(B,1,"")+">&#160;</td>",Q="{0}";a.each(D.summary,function(){if(this.nm===
A[B].name){A[B].summaryTpl&&(Q=A[B].summaryTpl);"string"===typeof this.st&&"avg"===this.st.toLowerCase()&&this.v&&0<E&&(this.v/=E);try{H=h.formatter("",this.v,B,this)}catch(c){H=this.v}G="<td "+h.formatCol(B,1,"")+">"+a.jgrid.format(Q,H)+"</td>";return!1}});l+=G}l+="</tr>"}v=K}});a("#"+a.jgrid.jqID(h.p.id)+" tbody:first").append(l);l=null})},groupingGroupBy:function(f,c){return this.each(function(){"string"===typeof f&&(f=[f]);var e=this.p.groupingView;this.p.grouping=!0;void 0===e.visibiltyOnNextGrouping&&
(e.visibiltyOnNextGrouping=[]);var h;for(h=0;h<e.groupField.length;h++)!e.groupColumnShow[h]&&e.visibiltyOnNextGrouping[h]&&a(this).jqGrid("showCol",e.groupField[h]);for(h=0;h<f.length;h++)e.visibiltyOnNextGrouping[h]=a("#"+a.jgrid.jqID(this.p.id)+"_"+a.jgrid.jqID(f[h])).is(":visible");this.p.groupingView=a.extend(this.p.groupingView,c||{});e.groupField=f;a(this).trigger("reloadGrid")})},groupingRemove:function(f){return this.each(function(){void 0===f&&(f=!0);this.p.grouping=!1;if(!0===f){var c=
this.p.groupingView,e;for(e=0;e<c.groupField.length;e++)!c.groupColumnShow[e]&&c.visibiltyOnNextGrouping[e]&&a(this).jqGrid("showCol",c.groupField);a("tr.jqgroup, tr.jqfoot","#"+a.jgrid.jqID(this.p.id)+" tbody:first").remove();a("tr.jqgrow:hidden","#"+a.jgrid.jqID(this.p.id)+" tbody:first").show()}else a(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(a,c,e,h,g,l){var m={sum:function(){return parseFloat(c||0)+parseFloat(l[e]||0)},min:function(){return""===c?parseFloat(l[e]||
0):Math.min(parseFloat(c),parseFloat(l[e]||0))},max:function(){return""===c?parseFloat(l[e]||0):Math.max(parseFloat(c),parseFloat(l[e]||0))},count:function(){""===c&&(c=0);return l.hasOwnProperty(e)?c+1:0},avg:function(){return m.sum()}};if(!m[a])throw"jqGrid Grouping No such method: "+a;a=m[a]();null!=h&&("fixed"==g?a=a.toFixed(h):(h=Math.pow(10,h),a=Math.round(a*h)/h));return a}}})})(jQuery);
(function(a){a.jgrid.extend({jqGridImport:function(f){f=a.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},f||{});return this.each(function(){var c=this,e=function(e,f){var g=a(f.xmlGrid.config,e)[0],h=a(f.xmlGrid.data,e)[0],r,s;if(xmlJsonClass.xml2json&&a.jgrid.parse){g=xmlJsonClass.xml2json(g," ");g=a.jgrid.parse(g);for(s in g)g.hasOwnProperty(s)&&(r=g[s]);h?(h=g.grid.datatype,
g.grid.datatype="xmlstring",g.grid.datastr=e,a(c).jqGrid(r).jqGrid("setGridParam",{datatype:h})):a(c).jqGrid(r)}else alert("xml2json or parse are not present")},h=function(e,f){if(e&&"string"===typeof e){var g=!1;a.jgrid.useJSON&&(a.jgrid.useJSON=!1,g=!0);var h=a.jgrid.parse(e);g&&(a.jgrid.useJSON=!0);g=h[f.jsonGrid.config];if(h=h[f.jsonGrid.data]){var r=g.datatype;g.datatype="jsonstring";g.datastr=h;a(c).jqGrid(g).jqGrid("setGridParam",{datatype:r})}else a(c).jqGrid(g)}};switch(f.imptype){case "xml":a.ajax(a.extend({url:f.impurl,
type:f.mtype,data:f.impData,dataType:"xml",complete:function(g,h){"success"===h&&(e(g.responseXML,f),a(c).triggerHandler("jqGridImportComplete",[g,f]),a.isFunction(f.importComplete)&&f.importComplete(g))}},f.ajaxOptions));break;case "xmlstring":if(f.impstring&&"string"===typeof f.impstring){var g=a.parseXML(f.impstring);g&&(e(g,f),a(c).triggerHandler("jqGridImportComplete",[g,f]),a.isFunction(f.importComplete)&&f.importComplete(g),f.impstring=null);g=null}break;case "json":a.ajax(a.extend({url:f.impurl,
type:f.mtype,data:f.impData,dataType:"json",complete:function(e){try{h(e.responseText,f),a(c).triggerHandler("jqGridImportComplete",[e,f]),a.isFunction(f.importComplete)&&f.importComplete(e)}catch(g){}}},f.ajaxOptions));break;case "jsonstring":f.impstring&&"string"===typeof f.impstring&&(h(f.impstring,f),a(c).triggerHandler("jqGridImportComplete",[f.impstring,f]),a.isFunction(f.importComplete)&&f.importComplete(f.impstring),f.impstring=null)}})},jqGridExport:function(f){f=a.extend({exptype:"xmlstring",
root:"grid",ident:"\t"},f||{});var c=null;this.each(function(){if(this.grid){var e,h=a.extend(!0,{},a(this).jqGrid("getGridParam"));h.rownumbers&&(h.colNames.splice(0,1),h.colModel.splice(0,1));h.multiselect&&(h.colNames.splice(0,1),h.colModel.splice(0,1));h.subGrid&&(h.colNames.splice(0,1),h.colModel.splice(0,1));h.knv=null;if(h.treeGrid)for(e in h.treeReader)h.treeReader.hasOwnProperty(e)&&(h.colNames.splice(h.colNames.length-1),h.colModel.splice(h.colModel.length-1));switch(f.exptype){case "xmlstring":c=
"<"+f.root+">"+xmlJsonClass.json2xml(h,f.ident)+"</"+f.root+">";break;case "jsonstring":c="{"+xmlJsonClass.toJson(h,f.root,f.ident,!1)+"}",void 0!==h.postData.filters&&(c=c.replace(/filters":"/,'filters":'),c=c.replace(/}]}"/,"}]}"))}}});return c},excelExport:function(f){f=a.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},f||{});return this.each(function(){if(this.grid){var c;"remote"===f.exptype&&(c=a.extend({},this.p.postData),c[f.oper]=f.tag,c=jQuery.param(c),c=-1!==
f.url.indexOf("?")?f.url+"&"+c:f.url+"?"+c,window.location=c)}})}})})(jQuery);
(function(a){a.jgrid.msie&&8==a.jgrid.msiever()&&(a.expr[":"].hidden=function(a){return 0===a.offsetWidth||0===a.offsetHeight||"none"==a.style.display});a.jgrid._multiselect=!1;if(a.ui&&a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var f=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(c,e){var h=f.call(this,c,e);if(e&&this.selectedList){var g=this.element;this.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(g)})}return h}}a.ui.multiselect.prototype.destroy&&
(a.ui.multiselect.prototype.destroy=function(){this.element.show();this.container.remove();void 0===a.Widget?a.widget.prototype.destroy.apply(this,arguments):a.Widget.prototype.destroy.apply(this,arguments)});a.jgrid._multiselect=!0}a.jgrid.extend({sortableColumns:function(c){return this.each(function(){function e(){f.p.disableClick=!0}var f=this,g=a.jgrid.jqID(f.p.id),g={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+g+"_cb,#jqgh_"+g+"_rn,#jqgh_"+g+"_subgrid),:hidden)",
placeholder:{element:function(c){return a(document.createElement(c[0].nodeName)).addClass(c[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,c){c.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10));c.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},update:function(c,
e){var g=a(e.item).parent(),g=a(">th",g),l={},s=f.p.id+"_";a.each(f.p.colModel,function(a){l[this.name]=a});var u=[];g.each(function(){var c=a(">div",this).get(0).id.replace(/^jqgh_/,"").replace(s,"");l.hasOwnProperty(c)&&u.push(l[c])});a(f).jqGrid("remapColumns",u,!0,!0);a.isFunction(f.p.sortable.update)&&f.p.sortable.update(u);setTimeout(function(){f.p.disableClick=!1},50)}};f.p.sortable.options?a.extend(g,f.p.sortable.options):a.isFunction(f.p.sortable)&&(f.p.sortable={update:f.p.sortable});if(g.start){var l=
g.start;g.start=function(a,c){e();l.call(this,a,c)}}else g.start=e;f.p.sortable.exclude&&(g.items+=":not("+f.p.sortable.exclude+")");c.sortable(g).data("sortable").floating=!0})},columnChooser:function(c){function e(c,e){c&&("string"==typeof c?a.fn[c]&&a.fn[c].apply(e,a.makeArray(arguments).slice(2)):a.isFunction(c)&&c.apply(e,a.makeArray(arguments).slice(2)))}var f=this;if(!a("#colchooser_"+a.jgrid.jqID(f[0].p.id)).length){var g=a('<div id="colchooser_'+f[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),
l=a("select",g);c=a.extend({width:420,height:240,classname:null,done:function(a){a&&f.jqGrid("remapColumns",a,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(c){var e={};e[c.bSubmit]=function(){c.apply_perm();c.cleanup(!1)};e[c.bCancel]=function(){c.cleanup(!0)};return a.extend(!0,{buttons:e,close:function(){c.cleanup(!0)},modal:c.modal||!1,resizable:c.resizable||!0,width:c.width+20},c.dialog_opts||{})},apply_perm:function(){a("option",l).each(function(){this.selected?
f.jqGrid("showCol",m[this.value].name):f.jqGrid("hideCol",m[this.value].name)});var e=[];a("option:selected",l).each(function(){e.push(parseInt(this.value,10))});a.each(e,function(){delete q[m[parseInt(this,10)].name]});a.each(q,function(){var a=parseInt(this,10);var c=e,f=a;if(0<=f){var g=c.slice(),h=g.splice(f,Math.max(c.length-f,f));f>c.length&&(f=c.length);g[f]=a;e=g.concat(h)}else e=void 0});c.done&&c.done.call(f,e)},cleanup:function(a){e(c.dlog,g,"destroy");e(c.msel,l,"destroy");g.remove();
a&&c.done&&c.done.call(f)},msel_opts:{}},a.jgrid.col,c||{});if(a.ui&&a.ui.multiselect&&"multiselect"==c.msel){if(!a.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}c.msel_opts=a.extend(a.ui.multiselect.defaults,c.msel_opts)}c.caption&&g.attr("title",c.caption);c.classname&&(g.addClass(c.classname),l.addClass(c.classname));c.width&&(a(">div",g).css({width:c.width,margin:"0 auto"}),l.css("width",c.width));c.height&&(a(">div",g).css("height",
c.height),l.css("height",c.height-10));var m=f.jqGrid("getGridParam","colModel"),n=f.jqGrid("getGridParam","colNames"),q={},r=[];l.empty();a.each(m,function(c){q[this.name]=c;this.hidedlg?this.hidden||r.push(c):l.append("<option value='"+c+"' "+(this.hidden?"":"selected='selected'")+">"+a.jgrid.stripHtml(n[c])+"</option>")});var s=a.isFunction(c.dlog_opts)?c.dlog_opts.call(f,c):c.dlog_opts;e(c.dlog,g,s);s=a.isFunction(c.msel_opts)?c.msel_opts.call(f,c):c.msel_opts;e(c.msel,l,s)}},sortableRows:function(c){return this.each(function(){var e=
this;e.grid&&!e.p.treeGrid&&a.fn.sortable&&(c=a.extend({cursor:"move",axis:"y",items:".jqgrow"},c||{}),c.start&&a.isFunction(c.start)?(c._start_=c.start,delete c.start):c._start_=!1,c.update&&a.isFunction(c.update)?(c._update_=c.update,delete c.update):c._update_=!1,c.start=function(f,g){a(g.item).css("border-width","0px");a("td",g.item).each(function(a){this.style.width=e.grid.cols[a].style.width});if(e.p.subGrid){var l=a(g.item).attr("id");try{a(e).jqGrid("collapseSubGridRow",l)}catch(m){}}c._start_&&
c._start_.apply(this,[f,g])},c.update=function(f,g){a(g.item).css("border-width","");!0===e.p.rownumbers&&a("td.jqgrid-rownum",e.rows).each(function(c){a(this).html(c+1+(parseInt(e.p.page,10)-1)*parseInt(e.p.rowNum,10))});c._update_&&c._update_.apply(this,[f,g])},a("tbody:first",e).sortable(c),a("tbody:first",e).disableSelection())})},gridDnD:function(c){return this.each(function(){function e(){var c=a.data(f,"dnd");a("tr.jqgrow:not(.ui-draggable)",f).draggable(a.isFunction(c.drag)?c.drag.call(a(f),
c):c.drag)}var f=this,g,l;if(f.grid&&!f.p.treeGrid&&a.fn.draggable&&a.fn.droppable)if(void 0===a("#jqgrid_dnd")[0]&&a("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof c&&"updateDnD"==c&&!0===f.p.jqgdnd)e();else if(c=a.extend({drag:function(c){return a.extend({start:function(e,g){var l;if(f.p.subGrid){l=a(g.helper).attr("id");try{a(f).jqGrid("collapseSubGridRow",l)}catch(s){}}for(l=0;l<a.data(f,"dnd").connectWith.length;l++)"0"==a(a.data(f,"dnd").connectWith[l]).jqGrid("getGridParam",
"reccount")&&a(a.data(f,"dnd").connectWith[l]).jqGrid("addRowData","jqg_empty_row",{});g.helper.addClass("ui-state-highlight");a("td",g.helper).each(function(a){this.style.width=f.grid.headers[a].width+"px"});c.onstart&&a.isFunction(c.onstart)&&c.onstart.call(a(f),e,g)},stop:function(e,g){var l;g.helper.dropped&&!c.dragcopy&&(l=a(g.helper).attr("id"),void 0===l&&(l=a(this).attr("id")),a(f).jqGrid("delRowData",l));for(l=0;l<a.data(f,"dnd").connectWith.length;l++)a(a.data(f,"dnd").connectWith[l]).jqGrid("delRowData",
"jqg_empty_row");c.onstop&&a.isFunction(c.onstop)&&c.onstop.call(a(f),e,g)}},c.drag_opts||{})},drop:function(c){return a.extend({accept:function(c){if(!a(c).hasClass("jqgrow"))return c;c=a(c).closest("table.ui-jqgrid-btable");return 0<c.length&&void 0!==a.data(c[0],"dnd")?(c=a.data(c[0],"dnd").connectWith,-1!=a.inArray("#"+a.jgrid.jqID(this.id),c)?!0:!1):!1},drop:function(e,g){if(a(g.draggable).hasClass("jqgrow")){var l=a(g.draggable).attr("id"),l=g.draggable.parent().parent().jqGrid("getRowData",
l);if(!c.dropbyname){var s=0,u={},x,v,y=a("#"+a.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(v in l)l.hasOwnProperty(v)&&(x=y[s].name,"cb"!=x&&"rn"!=x&&"subgrid"!=x&&l.hasOwnProperty(v)&&y[s]&&(u[x]=l[v]),s++);l=u}catch(z){}}g.helper.dropped=!0;c.beforedrop&&a.isFunction(c.beforedrop)&&(x=c.beforedrop.call(this,e,g,l,a("#"+a.jgrid.jqID(f.p.id)),a(this)),void 0!==x&&null!==x&&"object"==typeof x&&(l=x));if(g.helper.dropped){var k;c.autoid&&(a.isFunction(c.autoid)?k=c.autoid.call(this,
l):(k=Math.ceil(1E3*Math.random()),k=c.autoidprefix+k));a("#"+a.jgrid.jqID(this.id)).jqGrid("addRowData",k,l,c.droppos)}c.ondrop&&a.isFunction(c.ondrop)&&c.ondrop.call(this,e,g,l)}}},c.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5E3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},c||{}),c.connectWith)for(c.connectWith=
c.connectWith.split(","),c.connectWith=a.map(c.connectWith,function(c){return a.trim(c)}),a.data(f,"dnd",c),"0"==f.p.reccount||f.p.jqgdnd||e(),f.p.jqgdnd=!0,g=0;g<c.connectWith.length;g++)l=c.connectWith[g],a(l).droppable(a.isFunction(c.drop)?c.drop.call(a(f),c):c.drop)})},gridResize:function(c){return this.each(function(){var e=this,f=a.jgrid.jqID(e.p.id);e.grid&&a.fn.resizable&&(c=a.extend({},c||{}),c.alsoResize?(c._alsoResize_=c.alsoResize,delete c.alsoResize):c._alsoResize_=!1,c.stop&&a.isFunction(c.stop)?
(c._stop_=c.stop,delete c.stop):c._stop_=!1,c.stop=function(g,l){a(e).jqGrid("setGridParam",{height:a("#gview_"+f+" .ui-jqgrid-bdiv").height()});a(e).jqGrid("setGridWidth",l.size.width,c.shrinkToFit);c._stop_&&c._stop_.call(e,g,l)},c.alsoResize=c._alsoResize_?eval("("+("{'#gview_"+f+" .ui-jqgrid-bdiv':true,'"+c._alsoResize_+"':true}")+")"):a(".ui-jqgrid-bdiv","#gview_"+f),delete c._alsoResize_,a("#gbox_"+f).resizable(c))})}})})(jQuery);
function tableToGrid(a,f){jQuery(a).each(function(){if(!this.grid){jQuery(this).width("99%");var a=jQuery(this).width(),e=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),h=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),e=0<e.length,h=!e&&0<h.length,g=e||h,l=[],m=[];jQuery("th",jQuery(this)).each(function(){0===l.length&&g?(l.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),m.push("__selection__")):(l.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),
index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),m.push(jQuery(this).html()))});var n=[],q=[],r=[];jQuery("tbody > tr",jQuery(this)).each(function(){var a={},c=0;jQuery("td",jQuery(this)).each(function(){if(0===c&&g){var e=jQuery("input",jQuery(this)),f=e.attr("value");q.push(f||n.length);e.is(":checked")&&r.push(f);a[l[c].name]=e.attr("value")}else a[l[c].name]=jQuery(this).html();c++});0<c&&n.push(a)});
jQuery(this).empty();jQuery(this).addClass("scroll");jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:a,colNames:m,colModel:l,multiselect:e},f||{}));for(a=0;a<n.length;a++)h=null,0<q.length&&(h=q[a])&&h.replace&&(h=encodeURIComponent(h).replace(/[.\-%]/g,"_")),null===h&&(h=a+1),jQuery(this).jqGrid("addRowData",h,n[a]);for(a=0;a<r.length;a++)jQuery(this).jqGrid("setSelection",r[a])}})}define("qui/ui/jquery.jqgrid",function(){});
(function(a){a.extend(!0,a.jgrid.defaults,{viewrecords:!0,recordtext:"\u7b2c {0} \uff5e {1} \u6761\u8bb0\u5f55\uff0c\u5171\u6709 {2} \u6761\u8bb0\u5f55",emptyrecords:"\u6ca1\u6709\u8bb0\u5f55",loadtext:"\u6b63\u5728\u52a0\u8f7d",pgtext:"\u7b2c {0} \u9875\uff0c\u5171 {1} \u9875",datatype:"json",height:"",search:!1,rowNum:40,postData:{},shrinkToFit:!0,autowidth:!1,forceFit:!1,headertitles:!1,jsonReader:{root:"data.result",page:"data.page",total:"data.totalpage",records:"data.totalCount",repeatitems:!0,
id:"id"},prmNames:{page:"page.pageNo",rows:"page.pageSize",sort:"page.orderBy",order:"page.order"},beforeProcessing:function(f){var c=a(this).jqGrid("getGridParam"),e=a.jgrid.getAccessor(f,c.jsonReader.root);a(this).data("dataSource",e);a(this).data("data",f);e&&f.data&&(e=a.jgrid.getAccessor(f,c.jsonReader.records),c=c.postData[c.prmNames.rows],f.data.totalpage=e<c?1:Math.ceil(parseInt(e,10)/parseInt(c,10)))},gridview:!0})})($);define("qui/ui/jquery.jqgrid.default",function(){});
(function(a){a.jgrid.extend({getData:function(f,c){var e=this.data("dataSource");c=c||"id";return f?(a.isArray(f)||(f+="",f=f.split(",")),a.grep(e,function(e){return-1!=a.inArray(e[c]+"",f)})):e},scroll:function(f){var c=this[0],e=20;f=a.extend(!0,{screen:700,num:20,pages:4,iteratorNum:5},f);var h=function(c){var h=!1,m=1,n=function(e){a(c).infiniteScroll({threshold:10,onBottom:function(h){var l=!0,n=f.pages,r=a(c).data("dataSource");q(m,r,e,function(a){m+=1;a.length&&m!=n||(l=!1,s(!0,e));h(l)})}})},
q=function(e,f,h,l){h=h.rowNum||30;var m=f.slice(e*h,(e+1)*h);r.call(c,!0);setTimeout(function(){a.each(m,function(e,f){a(c).jqGrid("addRowData",f.id,f)});r.call(c,!1);l&&l(m)},200)},r=function(e){var f="ScrollLoading_"+a.jgrid.jqID(c.p.id);e?a('<div id="'+f+'">\u52a0\u8f7d\u4e2d...</div>').appendTo(a(c).parent()):a("#"+f).remove()},s=function(c,e){var f=a(e.pager);c?a(e.pager).show():f.hide()};(function(){var c=a(window).height()-f.screen,g=f.num;0>=c||(g+=Math.floor(c/100)*f.iteratorNum);e=g})();
return{init:function(e,f){s(!1,f);m=e;h?a(c).infiniteScroll("reset"):(h=!0,n(f))}}}(c);a(this).bind("jqGridBeforeRequest",function(){var c=a(this).jqGrid("getGridParam");c.pages=f.pages;var h=c.postData;c.rowNum=e;c=a(this).jqGrid("getGridParam").prmNames;h[c.rows]=e*f.pages});a(this).bind("jqGridAfterLoadComplete",function(c,f){var m=a(this).jqGrid("getGridParam");f=a.jgrid.getAccessor(f,m.jsonReader.root);if(!f)return!1;f.length<e||h.init(1,m)})}})})(jQuery);
define("qui/ui/jquery.jqgrid.scrolling",function(){});
(function(a,f){a.widget("ui.gallery",{options:{carousel:".carousel",thumbnail:".thumbnail",prevButton:null,nextButton:null},$gallery:null,$carousel:null,$prevButton:null,$nextButton:null,currOffset:0,windowSize:0,totalItems:0,_items:null,_itemOutterWidth:0,_create:function(c){this.options=a.extend({},this.options,c);this.update();this._bindEvents();this.$gallery.data("gallery",this)},update:function(c){this.$gallery=this.element;this.options=a.extend({},this.options,c);this.$carousel=this.$gallery.find(this.options.carousel);
this.$prevButton=this.options.prevButton;this.$nextButton=this.options.nextButton;this._items=this.$carousel.find(this.options.thumbnail);this._itemOutterWidth=this._items.eq(0).outerWidth()+10;this.windowSize=Math.floor((this.$carousel.parent().width()+10)/this._itemOutterWidth);this.totalItems=this._items.length;this._resetButtonStatus()},_bindEvents:function(){var a=this;this.$prevButton.click(function(e){e.preventDefault();e.stopPropagation();a.scrollTo(--a.currOffset)});this.$nextButton.click(function(e){e.preventDefault();
e.stopPropagation();a.scrollTo(++a.currOffset)})},scrollTo:function(a){a>=this.totalItems-this.windowSize&&(a=this.totalItems-this.windowSize);0>a&&(a=0);this.currOffset=a;this._resetButtonStatus();this.$carousel.stop().animate({marginLeft:0-this.currOffset*this._itemOutterWidth},"fast")},_resetButtonStatus:function(){var a=this.currOffset;this.$prevButton.attr("disabled",0>=a);this.$nextButton.attr("disabled",a>=this.totalItems-this.windowSize)}});a.extend(a.ui.gallery,{uuid:0,_isShow:!1})})(jQuery);
define("qui/ui/jquery-ui.gallery",function(){});
$.widget("ui.autocomplete",$.ui.autocomplete,{version:"0.0.1",_displayKey:"$$autocompleteDisplayKey",options:{labelKey:"label",valueKey:"id"},getSelectedItem:function(){return this.selectedItem},getItems:function(){var a=[];this.options.multiple?this.element.parent().find("span.ui-suggest-value").each(function(){a.push($(this).data("data"))}):this.selectedItem&&(a=[this.selectedItem]);return a},setSelectedItem:function(a){this._value(a);this.selectedItem=a},setValidStatus:function(a){this.noResultPanel.data("valid",
a)},_renderMenu:function(a,f){var c=this,e=this.options.header;e&&a.append($('<li class="ui-menu-header">'+e+"</li>").data("ui-autocomplete-item",{}));$.each(f,function(e,f){c._renderItemData(a,f)});e=this.options.footer;this.options.needFooter&&e&&a.append($('<li class="ui-menu-footer">'+e+"</li>").data("ui-autocomplete-item",{}))},_renderItem:function(a,f){var c=this,e=c.options.template||function(a){return a[c._displayKey]};return $("<li>").append("<a>"+e.call(this,f)+"</a>").appendTo(a)},__response:function(a){a&&
(a=this._normalize(a));this._trigger("response",null,{content:a});if(!this.options.disabled&&a&&a.length&&!this.cancelSearch)this._suggest(a),this._trigger("open");else if(this.options.people){a=this.menu.element;a.show();a.find(".ui-menu-item").remove();var f=$('<li class="ui-menu-info ui-menu-noresult">'+(this.options.noResult||"\u6ca1\u6709\u7ed3\u679c")+"</li>");self.noResultPanel&&self.noResultPanel.position({of:this.element,my:"left top",at:"left bottom",collision:"none"});a.find(".ui-menu-noresult").length?
a.find(".ui-menu-noresult").show():(a.find(".ui-menu-header").length?a.find(".ui-menu-header").after(f):a.prepend(f),this.menu.blur())}else this._close()},getValue:function(){return $(this.element).attr("data-id")||""},setValue:function(a){this.prevItem=a;if(this.options.multiple)return this.addValue(a),!1;a?(this.element.attr("data-id",a[this.options.valueKey]),this._value(a.label)):this.element.removeAttr("data-id").val("");this.element.removeClass("valid-error");this.setValidStatus(!0)},addValue:function(a,
f){var c=this.options,e=this.getResultData&&this.getResultData(),e=e||[],h=!1,g,l;if(a){a.name=$.trim(a[this._displayKey]);a.value=$.trim(a[c.valueKey]);a.label=$.trim(a[c.labelKey]);c.multipleProcess&&(a=c.multipleProcess(a));if(!f&&c.multipleValid&&(h=0<$.grep(e,function(c){g=a.name||a.value||"";l=c.name||c.value||"";return g.toLowerCase()===l.toLowerCase()}).length,!h))return;var m=[],n=c.valueKey||"id",e=this.getItems(),c=a[n],h=a.label,q;e&&$.each(e,function(a,c){c[n]&&m.push(c[n])});this._value("");
if(this.options.mustInAutoComplete&&!c)return"";c&&0>$.inArray(c,m)&&m.push(c);$(this.element).attr("data-id",m.join(","));c?-1!==$.inArray(c,m)&&(q=$(this.element).parent().find('span[data-tag-id="'+c+'"]')):h&&(q=$(this.element).parent().find('span[data-tag-label="'+h+'"]'));q&&0<q.length?q.effect("highlight",{},3E3):(e=$('<span data-tag-id="'+(c||"")+'"class="ui-suggest-value tagmanagerTag" data-tag-label="'+h+'">'+h+'<a class="tagmanagerRemoveTag" title="Remove" href="#">x</a></span>').data("data",
a),$(this.element).after(e))}},removeValue:function(a){var f=$(a).parents(".tagmanagerTag");a=f.data("data");f.remove();var c=$(this.element).attr("data-id"),f=[];c&&(f=c.split(","));a=$.inArray(a[this.options.valueKey],f);f.splice(a,1);0>=f.length?$(this.element).removeAttr("data-id"):$(this.element).attr("data-id",f.join(","))},getValidStatus:function(){return!this.element.hasClass("valid-error")},showPanel:function(){this.panel.show();this.noResultPanel.hide()},hidePanel:function(){this.panel.hide()},
setValidStausCss:function(a){var f=this.options;a&&"error"==a?f.validate&&!0===f.validate&&this.element.addClass("valid-error"):this.element.removeClass("valid-error")},validate:function(a){var f=this,c=f.options;f.element.removeAttr("data-id");if(a&&a.length)if(a&&1==a.length){var e=c.onOneResult||function(a){};f.noResultPanel.hide();e.call(this,a[0])}else a=c.onMoreResult||function(){f.setValidStatus(!1)},f.noResultPanel.hide(),a();else(c.onNoResult||function(){f.options.noResult&&c.validate&&(f.noResultPanel.html(f.options.noResult).show(),
f.noResultPanel.position({of:this.element,my:"left top",at:"left bottom",collision:"none"}),f.setValidStatus(!1),f.setValidStausCss("error"))}).call(f)},_initPanel:function(){var a=this,f=a.options,c=a._appendTo(),e=a.element,h=$('<div class="ui-suggest-panel"></div>');h.attr("id","ui-suggest-"+this.element.attr("id")).appendTo(c);a.panel=h;var g=f.renderPanel;a._on(h,{mousedown:function(c){c.preventDefault();if($(c.target).closest(".ui-suggest-panel").length){var e=$(c.target).data("initpanel-item");
if(!e)return!1;!1!==a._trigger("select",c,{item:e})&&a._value(e.value);a.selectedItem=e;a.hidePanel()}return!1}});$(a.element).on("focus.showPanel",function(){var c=a.panel;a._delay(function(){a.document.one("mousedown",function(f){f.target===e[0]||f.target===c[0]||$.contains(c[0],f.target)||(a.hidePanel(),a.noResultPanel.hide())})});g.call(a,function(c){var f=a.panel;f.empty();a.showPanel();f.position({of:e,my:"left top",at:"left bottom",collision:"none"});$.each(c,function(a,c){$('<a href="javascript:;" class="ui-suggest-item">'+
c.label+"</a>").appendTo(f).data("initpanel-item",c)})})}).on("keyup",function(){0===$(this).val().length?a.showPanel():a.hidePanel()})},_initNoResult:function(){var a=this,f=a._appendTo(),c=$(a.element).css("width");a.noResultPanel=$('<div class="ui-suggest-panel noresult"></div>').attr("id","ui-suggest-"+this.element.attr("id")).data("valid",!0).css({width:c}).appendTo(f);$(document).on("mousedown.hideNoResult",function(){a.noResultPanel.hide()})},multiplesearch:function(){var a=this.term,f=this.options,
c=f.multiple;if(f.multiple&&a.slice(-1)==c)return f=null,this.options.validate&&this.getValidStatus()?f=this.prevItem:(a=a.slice(0,-1),$.trim(a)&&(f={name:a,label:a})),this.addValue(f),!1},init:function(){var a=this,f=a.options.renderPanel;a._initNoResult();a.options.init&&a.options.init.call(a);f&&a._initPanel();this.options.multiple&&($(a.element).parent().on("click","a.tagmanagerRemoveTag",function(c){a.removeValue(c.target);return!1}),f=this.options.parseValue.call(this),$.each(f,function(c,e){a.addValue(e,
!0)}));a.element.on("keyup",function(c){if(0===$(this).val().length)a.setValidStatus(!0),a._trigger("emptyvalue"),a.setValue(null),a.setValidStausCss("valid");else{var e=$.ui.keyCode;a.options.multiple&&c.keyCode==e.ENTER&&(c=a.element.val(),e=null,$.trim(c)&&(e={name:c,label:c},a.addValue(e)))}}).on("blur",function(){""===$.trim(a.element.val())||a.element.attr("data-id")||a.setValidStausCss("error");a.options.validate&&a.options.clearInvalid&&!a.getValidStatus()&&(a.element.val(""),a.setValidStausCss("valid"),
a.options.onBlurEmpty&&a.options.onBlurEmpty.call(a))})}});define("qui/ui/jquery.qui.autocomplete",function(){});
(function(a,f){a.widget("qui.suggest",a.ui.autocomplete,{version:"0.0.1",options:{url:"",method:"get",autoFocus:!0,multiple:!0,validate:!1,multipleValid:!1,clearInvalid:!0,noResult:"\u5bf9\u4e0d\u8d77\uff0c\u6ca1\u6709\u8fd9\u4e2a\u7ed3\u679c",otherParam:{},valueKey:"id",labelKey:"label",needFooter:!0,parseValue:function(){var c=this.element.val(),e=[],f=null,g=null,l=self.options;c&&(f=c.split(";"),a.each(f,function(a,c){c=c.split(",");g={};g[l.labelKey]=c[1];g[l.valueKey]=c[0];e.push(g)}));this._value("");
return e},create:function(c,e){a(this).suggest("init")},process:function(c){var e=[];c=a.isArray(c)?c:c.data;var f=this,g=f.options,l=null;if(!c)return[];a.map(c,function(a){"string"===typeof a?(l={},l[g.valueKey]=a,l[g.labelKey]=a,l[f._displayKey]=a,e.push(l)):(a[f._displayKey]=a[g.labelKey],e.push(a))});return e},highlight:function(a,e,f){var g=this,l=g.options;a.forEach(function(e,n){var q=null;if("string"!==typeof e){if(key=l.labelKey,(q=e[key])&&f)try{e[g._displayKey]=e[key].replace(RegExp("("+
f+")","ig"),"<b>$1</b>")}catch(r){}}else a[n]=e.replace(RegExp("("+f+")","ig"),"<b>$1</b>")})}},getResultData:function(){return this.result},_getSuggestData:function(c,e,f,g){a.ajax({url:c,dataType:"json",data:f,cache:!1,method:e,success:function(a){g&&g.call(this,a)},error:function(a){g&&g.call(this,a)}})},_handleResponse:function(c,e,f){var g=this.options,l=a.trim(c.term);f=g.process.call(this,f,l);f=a.ui.autocomplete.filter(f,c.term);g.highlight&&g.highlight.call(this,f,this._displayKey,l);this.result=
f;e(f)},_initSource:function(){var c,e=this;a.isArray(e.options.source)?(c=e.options.source,e.source=function(a,f){e._handleResponse(a,f,c)}):"string"===typeof this.options.source?(e.options.url=url=e.options.source,e.source=e.__source):e.source=e.options.source},__source:function(c,e){var f=this.options,g=a.trim(c.term),l=null,m=null,n={};if(!g)return null;f.ignoreWord||(n={word:g});n=a.extend(!0,f.otherParam,n);l=f.url;(m=f.getParam)&&(a.isFunction(f.getParam)?n=a.extend(!0,n,m.call(this,g)):a.isPlainObject(m)&&
(n=a.extend(!0,n,m)));this._getSuggestData(l,f.method,n,a.proxy(this._handleResponse,this,c,e))},_create:function(){var a=this.element;a.wrap('<span class="ui-front ui-suggest"></span>');this._super();a.on("suggestresponse",function(e,f){a.suggest("validate",f.content)}).on("suggestselect",function(e,f){return a.suggest("setValue",f.item)}).on("suggestsearch",function(e,f){return a.suggest("multiplesearch")})}})})(jQuery);define("qui/ui/jquery.qui.suggest",function(){});
var TagManager=function(){function a(a,c){this.$element=$(a);this.tagIds=[];this.tagStrings=[];this.options=$.extend({},{strategy:"array",tagFieldName:"tags[]",ajaxCreate:null,ajaxRemove:null,initialCap:!0,backspaceChars:[8],delimiterChars:[13,44,188],createHandler:function(a,c,f){},removeHandler:function(a,c,f){return!0},afterRemoveHandler:function(a,c,f){return!0},createElementHandler:function(a,c,f){a.$element.before(c)},validateHandler:function(a,c,f){return c}},c);$(a).data("tagmanager",this);
this.listen()}a.prototype.keypress=function(a){-1==$.inArray(a.which,this.options.backspaceChars)||this.$element.val()||(a.preventDefault(),this.pop());if(-1!=$.inArray(a.which,this.options.delimiterChars)){a.preventDefault();a.stopPropagation();if(this.$element.data("typeahead")&&this.$element.data("typeahead").shown&&this.$element.data("typeahead").$menu.find(".active").length)return!1;this.create(this.$element.val())}};a.prototype.empty=function(){var a=this;$(this.tagIds).each(function(c,e){a.remove(e,
!0)})};a.prototype.pop=function(){0<this.tagIds.length&&this.remove(this.tagIds[this.tagIds.length-1])};a.prototype.remove=function(a,c){var e=$("#"+a).attr("tag");if(!this.options.removeHandler||this.options.removeHandler(this,e,c)){"ajax"==this.options.strategy&&this.options.ajaxRemove&&!c&&$.ajax({url:this.options.ajaxRemove,type:"post",data:{tag:e},dataType:"json"});var h=$.inArray(a,this.tagIds);this.tagStrings.splice(h,1);this.tagIds.splice(h,1);$("#"+a).remove();this.options.afterRemoveHandler&&
this.options.afterRemoveHandler(this,e,c)}};a.prototype.populate=function(a){var c=this;$.each(a,function(a,f){c.create(f,!0)})};a.prototype.create=function(a,c){var e=$.trim(a);if(e)if(this.options.initialCap&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e=this.options.validateHandler(this,e,c)){"ajax"==this.options.strategy&&this.options.ajaxCreate&&!c&&$.ajax({url:this.options.ajaxCreate,type:"post",data:{tag:e},dataType:"json"});this.options.createHandler&&this.options.createHandler(this,e,c);for(var h=
"",g=32;0<g;--g)h+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];h="tag_"+h;this.tagIds.push(h);this.tagStrings.push(e);e=new Tag(this,h,e);this.options.createElementHandler(this,e.render(),c);this.$element.val("");this.$element.focus()}else this.$element.val("");else this.$element.val("")};a.prototype.listen=function(){this.$element.on("keypress",$.proxy(this.keypress,this))};return a}(),Tag=function(){function a(a,c,e){this.manager=a;this.id=c;this.tag=
e}a.prototype.validate=function(){"array"!=this.manager.options.strategy||this.manager.options.tagFieldName||alert("Array strategy used with no field name")};a.prototype.render=function(){this.validate();var a=$("<span />").addClass("tagmanagerTag").attr("tag",this.tag).attr("id",this.id).data("tagmanager",this.manager).text(this.tag);"array"==this.manager.options.strategy&&$("<input>").attr("type","hidden").attr("name",this.manager.options.tagFieldName).val(this.tag).appendTo(a);var c=$("<a />").addClass("tagmanagerRemoveTag").attr("title",
"Remove").attr("href","#").text("x").appendTo(a),e=this.id,h=this.manager;$(c).click(function(a){h.remove(e);return!1});return a};return a}();$.fn.tagmanager=function(a){return this.each(function(){var f=$(this),c=f.data("tagmanager"),e="object"==typeof a&&a;c||f.data("tagmanager",c=new TagManager(this,e));if("string"==typeof a)c[a]()})};define("qui/ui/jquery.qui.tagmanager",function(){});
(function(a,f){a.widget("qui.tip",{version:"0.0.1",tipid:0,options:{showModal:!0,showClose:!0,type:"success",callback:function(){},timeout:4E3,content:"\u63d0\u793a\u4fe1\u606f"},_getHtmlByOptions:function(a,e){var f='<div id="lego-tip-'+this.tipid++ +'" class="ui-tips-inner">';a.showClose&&(f+='<div class="ui-tips-close">X</div>');f=f+'<div class="ui-tips-content-container">'+e(a.content);f+="</div></div>";a.showModal&&(f+='<div class="ui-tips-modal"></div>');return f},_create:function(){var c=this,
e=null,f=a('<div class="ui-tips-wrapper"></div>');f.on("click",".ui-tips-close",function(){e=a(this).closest(".ui-tips-inner");c.close(e.attr("id"))});f.appendTo(a(document.body));this.$container=f},methods:{dialog:function(){a.extend(this.options,{showModal:!0});var c=this._getHtmlByOptions(this.options,function(a){return'<div class="ui-tips-content tips-loading"><div class="tips-loading-text">'+(a||"\u7cfb\u7edf\u6b63\u5728\u5904\u7406\u4e2d")+"</div></div>"}),e=this.$container;e.html(c);c=e.find(".ui-tips-inner");
e=c.height();c.css({top:"50%","margin-top":-1*e/2})},error:function(){a.extend(this.options,{showClose:!0,showModal:!1,timeout:4E3});var c=this._getHtmlByOptions(this.options,function(a){return'<div class="ui-tips-content alert-error">'+a+"</div>"});this.$container.html(c).find(".ui-tips-inner").animate({top:0},1E3,"linear")},success:function(){a.extend(this.options,{showModal:!1,timeout:4E3});var c=this._getHtmlByOptions(this.options,function(a){return'<div class="ui-tips-content alert-success">'+
a+"</div>"});this.$container.html(c).find(".ui-tips-inner").animate({top:0},1E3,"linear")}},_refresh:function(){},_setOptions:function(){this._superApply(arguments);this._refresh()},_setOption:function(a,e){this._super(a,e)},_show:function(){},_init:function(){var c=this.options,e=this.options.type;"dialog"!=e&&this._delay(a.proxy(this,"close","lego-tip-"+this.tipid),c.timeout);e in this.methods&&this.methods[e].call(this)},_destory:function(){this.$container.remove()},updateContent:function(a){this.$container.find(".tips-loading-text").html(a)},
close:function(a){var e=null,f=this.options.callback,g=this.$container.find(".ui-tips-modal"),l=this,e=a?this.$container.find("#"+a):this.$container.find(".ui-tips-inner");"dialog"==l.options.type?(e.css({opacity:0.8,top:-1E3}),g.hide()):e.animate({opacity:0.8,top:-1E3},800,"linear",function(){f.call(l)})}})})(jQuery);define("qui/ui/jquery.qui.tips",function(){});
(function(a,f){a.widget("qui.addndel",{version:"0.0.1",options:{delBtnLabel:"\u5220\u9664",addBtnLabel:null,addBtnClass:"add",delBtnClass:"del",rowClass:"control-group",insertOrder:"",addDecorator:function(a,e){return!0},delDecorator:function(a){return!0},filter:function(a){}},_create:function(){var c=this,e=this.element,f=this.options,g=e.find("."+f.rowClass),l=e.children().clone(),m=f.addDecorator,n=f.delDecorator;g[0]&&(e.clonedRow=a(g[0]).clone(),this._clearFields(e.clonedRow),f.filter&&f.filter.call(c,
e.clonedRow),e.on("click","."+f.addBtnClass,function(g){g=a(this);var l=e.clonedRow.clone(),n=g.closest("."+f.rowClass);if("function"!==a.type(m)||!1!==m.call(c,l,n))"after"==f.insertOrder?l.insertBefore(n):l.insertAfter(n),g.removeClass(f.addBtnClass),g.text(f.delBtnLabel),g.addClass(f.delBtnClass)}),e.on("click","."+f.delBtnClass,function(){var e=a(this).closest("."+f.rowClass);"function"===a.type(n)&&!1===n.call(c,e)||e.remove()}),null===f.addBtnLabel&&(f.addBtnLabel=e.clonedRow.find("."+f.addBtnClass).text()),
this.$backup=l)},reset:function(){this.$backup&&this.$backup.replaceAll(this.element)},_clearFields:function(a,e){a&&a.find("input").val("")},appendBeforeAddRow:function(a){this.addRow(a,"before")},addRow:function(c,e){var f=this.options,g=this.element,l=g.clonedRow.clone(),m=l.find("."+f.addBtnClass),g=g.find("."+f.addBtnClass).closest("."+f.rowClass),n=f.addDecorator;if("function"!==a.type(n)||n.call(this,l,g))c&&c.call(this,l,g),e&&("after"===e?l.insertAfter(g):l.insertBefore(g)),m.addClass(f.delBtnClass),
m.text(f.delBtnLabel),m.removeClass(f.addBtnClass)},delFirstRow:function(a){var e=this.options,f=this.element.find("."+e.rowClass).first(),g=f.next(),l=g.find("."+e.delBtnClass),g=g.find("."+e.addBtnClass);0<f.length&&a&&(a.call(this,f),f.remove(),1>g.length&&(l.addClass(e.addBtnClass),l.text(e.addBtnLabel),l.removeClass(e.delBtnClass)))},getAddJQRows:function(){return this.element.find("."+this.options.addBtnClass).closest("."+this.options.rowClass)},getAddJQBtns:function(){return this.element.find("."+
this.options.addBtnClass)},getJQRows:function(){return this.element.find("."+this.options.rowClass)},getRowNum:function(){return 0<this.getJQRows().length?this.getJQRows().length:0}})})(jQuery);define("qui/ui/jquery.qui.addndel",function(){});
(function(a,f){a.widget("lego.videoshot",{version:"0.0.1",options:{onFinish:null,ajaxGetCapture:null,multiple:!0,data:{},count:8,dialogOptions:{autoOpen:!1,modal:!0,width:710,maxHeight:600}},$container:null,$choose:null,$result:null,_totalTime:0,_startTime:0,_interval:0,_loopCount:0,_imageArea:"",_create:function(c){var e=this;this.options=a.extend({},this.options,c);this.$container=this.element;this.$container.data("videoShot",this);c=a.extend({buttons:[{text:"\u5b8c\u6210","class":"btn btn-primary",
click:function(c,f){e._confirmSelect.call(e);a(this).dialog("close")}},{text:"\u53d6\u6d88","class":"btn",click:function(){a(this).dialog("close")}}]},this.options.dialogOptions);this.$container.dialog(c);this.initData=a.extend({},this.options.data);this.$choose=this.$container.find("div.choose");this.$result=this.$container.find("div.result");this._bindEvents()},_bindEvents:function(){var c=this,e=c.options;this.$container.on("dialogopen",function(a,e){c._fetchCapture()});this.$container.find("a.reload").click(function(a){a.preventDefault();
a.stopPropagation();c._fetchCapture()});this.$choose.delegate("img","click",function(f){var g=a(this),l=c.$result.find(".slides"),m=g.attr("src");f.preventDefault();f.stopPropagation();0===c.$result.find("img").filter(function(c){return a(this).attr("src")===m}).length&&(e.multiple||(c.$choose.find(".active").removeClass("active"),c.$result.find("img").parent().remove()),g.parent().addClass("active"),l.width(170*(l.find("img").length+1)),l.append(a("<div />").append(c._appendImage(m),'<span class="delete">X</span>')))});
this.$result.delegate("span.delete","click",function(e){var f=a(this).prev(),l=c.$result.find(".slides"),m=f.attr("src");e.preventDefault();e.stopPropagation();e=c.$choose.find("img").filter(function(c){return a(this).attr("src")===m});0<e.length&&e.parent().removeClass("active");l.width(170*(l.find("img").length-1));f.parent().remove()})},_confirmSelect:function(){var c=[];this.$result.find("img").each(function(e,f){c.push(a(this).attr("src"))});this.$choose.empty();this.$result.find(".slides").empty();
this.options.onFinish(this.options.data,c);this._startTime=0;this.options.data=a.extend({},this.initData)},_appendImage:function(c){c=a('<img src="'+c+'" />');c.load(function(c){c=Com.Image.resizeOutside(a(this),160,100);a(this).css({width:c.width,height:c.height,marginTop:c.top,marginLeft:c.left})});return c},_fetchCapture:function(){var a=this.options,e=a.data;e.count=a.count;this._startTime>Math.max(0.9*this._totalTime,this._totalTime-8*this._interval)?(this._startTime=this._loopCount=this._loopCount>
this._interval?0:this._loopCount,e.startTime=this._startTime,this._loopCount+=1E3):e.startTime=this._startTime?this._startTime+this._interval:this._startTime;e.interval=this._interval||1E3;e.totalTime=a.totalTime?a.totalTime:this._totalTime;"local"===a.type?this._genImageListLocal(e,this._handleImageList):"remote"===a.type?this._genImageListRemote(e,this._handleImageList):console&&console.error&&console.error("Fatal Error\uff1ano arguments for local or remote image list generator")},_genImageListLocal:function(c,
e){var f=0,g=0,l=c.startTime,m=c.count,n=c.interval,q=c.totalTime,r=[],s=this.options,u=s.getImageUrl;if(u){for(f=0;f<m;++f)g=(parseInt(l,10)+parseInt(Math.random()*n,10))/1E3,r.push({src:u(g),timePoint:1E3*g}),l+=n,l>q&&(l=0);a.extend(s.data,{images:r});e.call(this,{code:"A00000",data:s.data})}else console&&console.error&&console.error("Fatal error: need getImageUrl function to generate random images locally")},_genImageListRemote:function(c,e){a.get("/videoImage/getVideoImages",c,function(a,c,f){e&&
e.call(this,a)},"json")},_handleImageList:function(c){var e=this,f=e.options,g=null;c&&"A00000"===c.code?(g=c.data,e.$choose.empty(),a.each(g.images,function(c,f){e.$choose.append(a("<div />").append(e._appendImage(f.src),'<span class="checked">OK</span>'));e._startTime=Math.max(e._startTime,f.timePoint)}),e._totalTime=null!==f.totalTime?f.totalTime:g.totalTime,e._interval=Math.floor(Math.floor(1E3*Math.sqrt(e._totalTime/1E3))/8)):console&&console.error&&console.error("Fatal Error: the data returned from image list generator is invalid")}});
a.extend(a.ui.videoShot,{uuid:0,_isShow:!1})})(jQuery);define("qui/ui/jquery.qui.videoshot",function(){});
d3=function(){function a(a){return null!=a&&!isNaN(a)}function f(a){return a.length}function c(a,c){try{for(var e in c)Object.defineProperty(a.prototype,e,{value:c[e],enumerable:!1})}catch(f){a.prototype=c}}function e(){}function h(){}function g(a,c,e){return function(){var f=e.apply(c,arguments);return f===c?a:f}}function l(){}function m(a){function c(){for(var e=f,g=-1,h=e.length,k;++g<h;)(k=e[g].on)&&k.apply(this,arguments);return a}var f=[],g=new e;c.on=function(c,e){var h=g.get(c),k;if(2>arguments.length)return h&&
h.on;h&&(h.on=null,f=f.slice(0,k=f.indexOf(h)).concat(f.slice(k+1)),g.remove(c));e&&f.push(g.set(c,{on:e}));return a};return c}function n(){C.event.stopPropagation();C.event.preventDefault()}function q(){for(var a=C.event,c;c=a.sourceEvent;)a=c;return a}function r(a,c){function e(){a.on(c,null)}a.on(c,function(){n();e()},!0);setTimeout(e,0)}function s(a){for(var c=new l,e=0,f=arguments.length;++e<f;)c[arguments[e]]=m(c);c.of=function(e,f){return function(g){try{var h=g.sourceEvent=C.event;g.target=
a;C.event=g;c[g.type].apply(e,f)}finally{C.event=h}}};return c}function u(a,c){var e=a.ownerSVGElement||a;if(e.createSVGPoint){var f=e.createSVGPoint();if(0>rd&&(Ga.scrollX||Ga.scrollY)){var e=C.select(Na.body).append("svg").style("position","absolute").style("top",0).style("left",0),g=e[0][0].getScreenCTM();rd=!(g.f||g.e);e.remove()}rd?(f.x=c.pageX,f.y=c.pageY):(f.x=c.clientX,f.y=c.clientY);f=f.matrixTransform(a.getScreenCTM().inverse());return[f.x,f.y]}e=a.getBoundingClientRect();return[c.clientX-
e.left-a.clientLeft,c.clientY-e.top-a.clientTop]}function x(a){for(var c=-1,e=a.length,f=[];++c<e;)f.push(a[c]);return f}function v(a){sd(a,ta);return a}function y(a){return function(){return qe(a,this)}}function z(a){return function(){return re(a,this)}}function k(a,c){function e(){this.removeAttribute(a)}function f(){this.removeAttributeNS(a.space,a.local)}function g(){this.setAttribute(a,c)}function h(){this.setAttributeNS(a.space,a.local,c)}function k(){var e=c.apply(this,arguments);null==e?this.removeAttribute(a):
this.setAttribute(a,e)}function l(){var e=c.apply(this,arguments);null==e?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,e)}a=C.ns.qualify(a);return null==c?a.local?f:e:"function"===typeof c?a.local?l:k:a.local?h:g}function p(a){return a.trim().replace(/\s+/g," ")}function w(a){return RegExp("(?:^|\\s+)"+C.requote(a)+"(?:\\s+|$)","g")}function B(a,c){function e(){for(var f=-1;++f<g;)a[f](this,c)}function f(){for(var e=-1,h=c.apply(this,arguments);++e<g;)a[e](this,h)}a=
a.trim().split(/\s+/).map(D);var g=a.length;return"function"===typeof c?f:e}function D(a){var c=w(a);return function(e,f){if(g=e.classList)return f?g.add(a):g.remove(a);var g=e.getAttribute("class")||"";f?(c.lastIndex=0,c.test(g)||e.setAttribute("class",p(g+" "+a))):e.setAttribute("class",p(g.replace(c," ")))}}function F(a,c,e){function f(){this.style.removeProperty(a)}function g(){this.style.setProperty(a,c,e)}function h(){var f=c.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,
f,e)}return null==c?f:"function"===typeof c?h:g}function K(a,c){function e(){delete this[a]}function f(){this[a]=c}function g(){var e=c.apply(this,arguments);null==e?delete this[a]:this[a]=e}return null==c?e:"function"===typeof c?g:f}function A(a){return function(){return se(this,a)}}function H(a){arguments.length||(a=C.ascending);return function(c,e){return!c-!e||a(c.__data__,e.__data__)}}function E(){}function G(a,c,e){function f(){var c=this[k];c&&(this.removeEventListener(a,c,c.$),delete this[k])}
function g(){var h=m(c,pb(arguments));f.call(this);this.addEventListener(a,this[k]=h,h.$=e);h._=c}function h(){var c=RegExp("^__on([^.]+)"+C.requote(a)+"$"),e,f;for(f in this)if(e=f.match(c)){var g=this[f];this.removeEventListener(e[1],g,g.$);delete this[f]}}var k="__on"+a,l=a.indexOf("."),m=Q;0<l&&(a=a.substring(0,l));var n=td.get(a);n&&(a=n,m=J);return l?c?g:f:c?E:h}function Q(a,c){return function(e){var f=C.event;C.event=e;c[0]=this.__data__;try{a.apply(this,c)}finally{C.event=f}}}function J(a,
c){var e=Q(a,c);return function(a){var c=a.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||e.call(this,a)}}function N(a,c){for(var e=0,f=a.length;e<f;e++)for(var g=a[e],h=0,k=g.length,l;h<k;h++)(l=g[h])&&c(l,h,e);return a}function R(a){sd(a,Bb);return a}function L(){}function O(a,c,e){return new P(a,c,e)}function P(a,c,e){this.h=a;this.s=c;this.l=e}function I(a,c,e){function f(a){360<a?a-=360:0>a&&(a+=360);return 60>a?g+(h-g)*a/60:180>a?h:240>a?g+(h-g)*(240-a)/60:g}var g,h;a%=360;
0>a&&(a+=360);c=0>c?0:1<c?1:c;e=0>e?0:1<e?1:e;h=0.5>=e?e*(1+c):e+c-e*c;g=2*e-h;return t(Math.round(255*f(a+120)),Math.round(255*f(a)),Math.round(255*f(a-120)))}function W(a){return(Math.exp(a)-Math.exp(-a))/2}function T(a){return(a=Math.sin(a/2))*a}function M(a,c,e){return new X(a,c,e)}function X(a,c,e){this.h=a;this.c=c;this.l=e}function S(a,c,e){return Z(e,Math.cos(a*=ja)*c,Math.sin(a)*c)}function Z(a,c,e){return new ba(a,c,e)}function ba(a,c,e){this.l=a;this.a=c;this.b=e}function Y(a,c,e){a=(a+
16)/116;e=a-e/200;c=ca(a+c/500)*te;a=ca(a)*ue;e=ca(e)*ve;return t(aa(3.2404542*c-1.5371385*a-0.4985314*e),aa(-0.969266*c+1.8760108*a+0.041556*e),aa(0.0556434*c-0.2040259*a+1.0572252*e))}function V(a,c,e){return M(Math.atan2(e,c)*ya,Math.sqrt(c*c+e*e),a)}function ca(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function U(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function aa(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function t(a,c,e){return new ha(a,
c,e)}function ha(a,c,e){this.r=a;this.g=c;this.b=e}function ka(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function qa(a,c,e){var f=0,g=0,h=0,k,l;if(k=/([a-z]+)\((.*)\)/i.exec(a))switch(l=k[2].split(","),k[1]){case "hsl":return e(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100);case "rgb":return c(wa(l[0]),wa(l[1]),wa(l[2]))}if(e=Gc.get(a))return c(e.r,e.g,e.b);null!=a&&"#"===a.charAt(0)&&(4===a.length?(f=a.charAt(1),f+=f,g=a.charAt(2),g+=g,h=a.charAt(3),
h+=h):7===a.length&&(f=a.substring(1,3),g=a.substring(3,5),h=a.substring(5,7)),f=parseInt(f,16),g=parseInt(g,16),h=parseInt(h,16));return c(f,g,h)}function ra(a,c,e){var f=Math.min(a/=255,c/=255,e/=255),g=Math.max(a,c,e),h=g-f,k=(g+f)/2;h?(f=0.5>k?h/(g+f):h/(2-g-f),a=60*(a==g?(c-e)/h+(c<e?6:0):c==g?(e-a)/h+2:(a-c)/h+4)):f=a=0;return O(a,f,k)}function ia(a,c,e){a=pa(a);c=pa(c);e=pa(e);var f=U((0.4124564*a+0.3575761*c+0.1804375*e)/te),g=U((0.2126729*a+0.7151522*c+0.072175*e)/ue);a=U((0.0193339*a+0.119192*
c+0.9503041*e)/ve);return Z(116*g-16,500*(f-g),200*(g-a))}function pa(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function wa(a){var c=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*c):c}function da(a){return"function"===typeof a?a:function(){return a}}function sa(a){return a}function ma(a){return 1===a.length?function(c,e){a(null==c?e:null)}:a}function ua(a,c){function e(a,h,k){3>arguments.length&&(k=h,h=null);var l=C.xhr(a,c,k);l.row=function(a){return arguments.length?
l.response(null==(h=a)?f:g(a)):h};return l.row(h)}function f(a){return e.parse(a.responseText)}function g(a){return function(c){return e.parse(c.responseText,a)}}function k(c){return c.map(l).join(a)}function l(a){return m.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var m=RegExp('["'+a+"\n]"),n=a.charCodeAt(0);e.parse=function(a,c){var f;return e.parseRows(a,function(a,e){if(f)return f(a,e-1);var g=new Function("d","return {"+a.map(function(a,c){return JSON.stringify(a)+": d["+c+"]"}).join(",")+"}");
f=c?function(a,e){return c(g(a),e)}:g})};e.parseRows=function(a,c){function e(){if(l>=k)return g;if(p)return p=!1,f;var c=l;if(34===a.charCodeAt(c)){for(var h=c;h++<k;)if(34===a.charCodeAt(h)){if(34!==a.charCodeAt(h+1))break;++h}l=h+2;var fa=a.charCodeAt(h+1);13===fa?(p=!0,10===a.charCodeAt(h+2)&&++l):10===fa&&(p=!0);return a.substring(c+1,h).replace(/""/g,'"')}for(;l<k;){fa=a.charCodeAt(l++);h=1;if(10===fa)p=!0;else if(13===fa)p=!0,10===a.charCodeAt(l)&&(++l,++h);else if(fa!==n)continue;return a.substring(c,
l-h)}return a.substring(c)}for(var f={},g={},h=[],k=a.length,l=0,fa=0,m,p;(m=e())!==g;){for(var xa=[];m!==f&&m!==g;)xa.push(m),m=e();c&&!(xa=c(xa,fa++))||h.push(xa)}return h};e.format=function(c){if(Array.isArray(c[0]))return e.formatRows(c);var f=new h,g=[];c.forEach(function(a){for(var c in a)f.has(c)||g.push(f.add(c))});return[g.map(l).join(a)].concat(c.map(function(c){return g.map(function(a){return l(c[a])}).join(a)})).join("\n")};e.formatRows=function(a){return a.map(k).join("\n")};return e}
function Sa(){for(var a,c=Date.now(),e=Mb;e;)a=c-e.then,a>=e.delay&&(e.flush=e.callback(a)),e=e.next;a=na()-c;24<a?(isFinite(a)&&(clearTimeout(Hc),Hc=setTimeout(Sa,a)),Ic=0):(Ic=1,we(Sa))}function na(){for(var a=null,c=Mb,e=Infinity;c;)c.flush?(delete ud[c.callback.id],c=a?a.next=c.next:Mb=c.next):(e=Math.min(e,c.then+c.delay),c=(a=c).next);return e}function va(a,c){return c-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function La(a){return a+""}function Da(a,c){if(a&&xe.hasOwnProperty(a.type))xe[a.type](a,
c)}function ga(a,c,e){var f=-1;e=a.length-e;var g;for(c.lineStart();++f<e;)g=a[f],c.point(g[0],g[1]);c.lineEnd()}function oa(a,c){var e=-1,f=a.length;for(c.polygonStart();++e<f;)ga(a[e],c,1);c.polygonEnd()}function ab(){function a(c,e){c*=ja;e=e*ja/2+ea/4;var k=c-f,l=Math.cos(e),fa=Math.sin(e),m=h*fa,n=Jc,p=Kc,xa=g*l+m*Math.cos(k),k=m*Math.sin(k);Jc=n*xa-p*k;Kc=p*xa+n*k;f=c;g=l;h=fa}var c,e,f,g,h;qb.point=function(k,l){qb.point=a;f=(c=k)*ja;g=Math.cos(l=(e=l)*ja/2+ea/4);h=Math.sin(l)};qb.lineEnd=
function(){a(c,e)}}function Ta(a){function c(a,e){a<f&&(f=a);a>h&&(h=a);e<g&&(g=e);e>k&&(k=e)}function e(){l.point=l.lineEnd=E}var f,g,h,k,l={point:c,lineStart:E,lineEnd:E,polygonStart:function(){l.lineEnd=e},polygonEnd:function(){l.point=c}};return function(c){k=h=-(f=g=Infinity);C.geo.stream(c,a(l));return[[f,g],[h,k]]}}function $a(a,c){if(!Fa){++Wa;a*=ja;var e=Math.cos(c*=ja);Aa+=(e*Math.cos(a)-Aa)/Wa;Ba+=(e*Math.sin(a)-Ba)/Wa;za+=(Math.sin(c)-za)/Wa}}function Pa(){var a,c;Fa=1;Ja();Fa=2;var e=
Xa.point;Xa.point=function(f,g){e(a=f,c=g)};Xa.lineEnd=function(){Xa.point(a,c);Fb();Xa.lineEnd=Fb}}function Ja(){function a(g,h){g*=ja;var k=Math.cos(h*=ja),l=k*Math.cos(g),k=k*Math.sin(g),fa=Math.sin(h),m=Math.atan2(Math.sqrt((m=e*fa-f*k)*m+(m=f*l-c*fa)*m+(m=c*k-e*l)*m),c*l+e*k+f*fa);Wa+=m;Aa+=m*(c+(c=l));Ba+=m*(e+(e=k));za+=m*(f+(f=fa))}var c,e,f;1<Fa||(1>Fa&&(Fa=1,Wa=Aa=Ba=za=0),Xa.point=function(g,h){g*=ja;var k=Math.cos(h*=ja);c=k*Math.cos(g);e=k*Math.sin(g);f=Math.sin(h);Xa.point=a})}function Fb(){Xa.point=
$a}function Gb(a){var c=a[0];a=a[1];var e=Math.cos(a);return[e*Math.cos(c),e*Math.sin(c),Math.sin(a)]}function Hb(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}function Rb(a,c){return[a[1]*c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]}function Ka(a,c){a[0]+=c[0];a[1]+=c[1];a[2]+=c[2]}function mb(a,c){return[a[0]*c,a[1]*c,a[2]*c]}function Za(){return!0}function Sb(a){return[Math.atan2(a[1],a[0]),Math.asin(Math.max(-1,Math.min(1,a[2])))]}function Ib(a,c){return Math.abs(a[0]-c[0])<la&&Math.abs(a[1]-
c[1])<la}function oc(a,c,e,f,g){var h=[],k=[];a.forEach(function(a){if(!(0>=(c=a.length-1))){var c,e=a[0],f=a[c];if(Ib(e,f)){g.lineStart();for(f=0;f<c;++f)g.point((e=a[f])[0],e[1]);g.lineEnd()}else a={point:e,points:a,other:null,visited:!1,entry:!0,subject:!0},e={point:e,points:[e],other:a,visited:!1,entry:!1,subject:!1},a.other=e,h.push(a),k.push(e),a={point:f,points:[f],other:null,visited:!1,entry:!1,subject:!0},e={point:f,points:[f],other:a,visited:!1,entry:!0,subject:!1},a.other=e,h.push(a),k.push(e)}});
k.sort(c);Tb(h);Tb(k);if(h.length){if(e)for(a=1,e=!e(k[0].point),c=k.length;a<c;++a)k[a].entry=e=!e;e=h[0];for(var l,m;;){for(c=e;c.visited;)if((c=c.next)===e)return;l=c.points;g.lineStart();do{c.visited=c.other.visited=!0;if(c.entry){if(c.subject)for(a=0;a<l.length;a++)g.point((m=l[a])[0],m[1]);else f(c.point,c.next.point,1,g);c=c.next}else{if(c.subject)for(l=c.prev.points,a=l.length;0<=--a;)g.point((m=l[a])[0],m[1]);else f(c.point,c.prev.point,-1,g);c=c.prev}c=c.other;l=c.points}while(!c.visited);
g.lineEnd()}}}function Tb(a){if(c=a.length){for(var c,e=0,f=a[0],g;++e<c;)f.next=g=a[e],g.prev=f,f=g;f.next=g=a[0];g.prev=f}}function pc(a,c,e){return function(f){function g(c,e){a(c,e)&&f.point(c,e)}function h(a,c){q.point(a,c)}function k(){r.point=h;q.lineStart()}function l(){r.point=g;q.lineEnd()}function m(a,c){z.point(a,c);y.push([a,c])}function n(){z.lineStart();y=[]}function p(){m(y[0][0],y[0][1]);z.lineEnd();var a=z.clean(),c=v.buffer(),e=c.length;if(e)if(y=null,a&1){a=c[0];s+=tb(a,1);var e=
a.length-1,c=-1,g;for(f.lineStart();++c<e;)f.point((g=a[c])[0],g[1]);f.lineEnd()}else 1<e&&a&2&&c.push(c.pop().concat(c.shift())),t.push(c.filter(bd));else u=!0,w+=tb(y,-1),y=null}var q=c(f),r={point:g,lineStart:k,lineEnd:l,polygonStart:function(){r.point=m;r.lineStart=n;r.lineEnd=p;u=!1;w=s=0;t=[];f.polygonStart()},polygonEnd:function(){r.point=g;r.lineStart=k;r.lineEnd=l;t=C.merge(t);if(t.length)oc(t,qc,null,e,f);else if(s<-la||u&&w<-la)f.lineStart(),e(null,null,1,f),f.lineEnd();f.polygonEnd();
t=null},sphere:function(){f.polygonStart();f.lineStart();e(null,null,1,f);f.lineEnd();f.polygonEnd()}},t,s,w,u,v=Ma(),z=c(v),y;return r}}function bd(a){return 1<a.length}function Ma(){var a=[],c;return{lineStart:function(){a.push(c=[])},point:function(a,e){c.push([a,e])},lineEnd:E,buffer:function(){var e=a;a=[];c=null;return e},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function tb(a,c){if(!(e=a.length))return 0;for(var e,f=0,g=0,h=a[0],k=h[0],l=h[1],m=Math.cos(l),n=Math.atan2(c*
Math.sin(k)*m,Math.sin(l)),p=1-c*Math.cos(k)*m,q=n;++f<e;)h=a[f],m=Math.cos(l=h[1]),h=Math.atan2(c*Math.sin(k=h[0])*m,Math.sin(l)),k=1-c*Math.cos(k)*m,Math.abs(p-2)<la&&Math.abs(k-2)<la||(Math.abs(k)<la||Math.abs(p)<la||(Math.abs(Math.abs(h-n)-ea)<la?2<k+p&&(g+=4*(h-n)):g=Math.abs(p-2)<la?g+4*(h-q):g+((3*ea+h-n)%(2*ea)-ea)*(p+k)),q=n,n=h,p=k);return g}function qc(a,c){return(0>(a=a.point)[0]?a[1]-ea/2-la:ea/2-a[1])-(0>(c=c.point)[0]?c[1]-ea/2-la:ea/2-c[1])}function rc(a){function c(a,e){return Math.cos(a)*
Math.cos(e)>g}function e(a,c,f){var h=Gb(a),k=Gb(c),l=[1,0,0],k=Rb(h,k),fa=Hb(k,k),h=k[0],m=fa-h*h;if(!m)return!f&&a;fa=g*fa/m;m=-g*h/m;h=Rb(l,k);l=mb(l,fa);k=mb(k,m);Ka(l,k);k=Hb(l,h);fa=Hb(h,h);m=k*k-fa*(Hb(l,l)-1);if(!(0>m)){var n=Math.sqrt(m),m=mb(h,(-k-n)/fa);Ka(m,l);m=Sb(m);if(!f)return m;f=a[0];var p=c[0];a=a[1];c=c[1];var xa;p<f&&(xa=f,f=p,p=xa);var q=p-f,r=Math.abs(q-ea)<la,fg=r||q<la;!r&&c<a&&(xa=a,a=c,c=xa);if(fg?r?0<a+c^m[1]<(Math.abs(m[0]-f)<la?a:c):a<=m[1]&&m[1]<=c:q>ea^(f<=m[0]&&m[0]<=
p))return c=mb(h,(-k+n)/fa),Ka(c,l),[m,Sb(c)]}}function f(c,e){var g=h?a:ea-a,k=0;c<-g?k|=1:c>g&&(k|=2);e<-g?k|=4:e>g&&(k|=8);return k}var g=Math.cos(a),h=0<g,k=Math.abs(g)>la,l=$b(a,6*ja);return pc(c,function(a){var g,l,m,fa,n;return{lineStart:function(){fa=m=!1;n=1},point:function(p,q){var r=[p,q],t,Qa=c(p,q),s=h?Qa?0:f(p,q):Qa?f(p+(0>p?ea:-ea),q):0;!g&&(fa=m=Qa)&&a.lineStart();Qa!==m&&(t=e(g,r),Ib(g,t)||Ib(r,t))&&(r[0]+=la,r[1]+=la,Qa=c(r[0],r[1]));if(Qa!==m)n=0,Qa?(a.lineStart(),t=e(r,g),a.point(t[0],
t[1])):(t=e(g,r),a.point(t[0],t[1]),a.lineEnd()),g=t;else if(k&&g&&h^Qa){var w;s&l||!(w=e(r,g,!0))||(n=0,h?(a.lineStart(),a.point(w[0][0],w[0][1]),a.point(w[1][0],w[1][1]),a.lineEnd()):(a.point(w[1][0],w[1][1]),a.lineEnd(),a.lineStart(),a.point(w[0][0],w[0][1])))}!Qa||g&&Ib(g,r)||a.point(r[0],r[1]);g=r;m=Qa;l=s},lineEnd:function(){m&&a.lineEnd();g=null},clean:function(){return n|(fa&&m)<<1}}},l)}function Ub(a,c,e,f){function g(f,h){return Math.abs(f[0]-a)<la?0<h?0:3:Math.abs(f[0]-e)<la?0<h?2:1:Math.abs(f[1]-
c)<la?0<h?1:0:0<h?3:2}function h(a,c){return k(a.point,c.point)}function k(a,c){var e=g(a,1),f=g(c,1);return e!==f?e-f:0===e?c[1]-a[1]:1===e?a[0]-c[0]:2===e?a[1]-c[1]:c[0]-a[0]}return function(l){function m(h){h=g(h,-1);return n([0===h||3===h?a:e,1<h?f:c])}function n(a){for(var c=0,e=u.length,f=a[1],g=0;g<e;++g)for(var h=1,k=u[g],l=k.length,m=k[0];h<l;++h)b=k[h],m[1]<=f?b[1]>f&&0<(b[0]-m[0])*(a[1]-m[1])-(a[0]-m[0])*(b[1]-m[1])&&++c:b[1]<=f&&0>(b[0]-m[0])*(a[1]-m[1])-(a[0]-m[0])*(b[1]-m[1])&&--c,m=
b;return 0!==c}function p(h,l,m,n){var q=0,r=0;if(null==h||(q=g(h,m))!==(r=g(l,m))||0>k(h,l)^0<m){do n.point(0===q||3===q?a:e,1<q?f:c);while((q=(q+m+4)%4)!==r)}else n.point(l[0],l[1])}function q(g,h){a<=g&&g<=e&&c<=h&&h<=f&&l.point(g,h)}function r(g,h){g=Math.max(-Lc,Math.min(Lc,g));h=Math.max(-Lc,Math.min(Lc,h));var k=a<=g&&g<=e&&c<=h&&h<=f;u&&v.push([g,h]);if(G)y=g,A=h,x=k,G=!1,k&&(l.lineStart(),l.point(g,h));else if(k&&E)l.point(g,h);else{var m=[B,I],n=[g,h],p;p=n[0]-m[0];var q=n[1]-m[1],t=[0,
1];Math.abs(p)<la&&Math.abs(q)<la?p=a<=m[0]&&m[0]<=e&&c<=m[1]&&m[1]<=f:eb(a-m[0],p,t)&&eb(m[0]-e,-p,t)&&eb(c-m[1],q,t)&&eb(m[1]-f,-q,t)?(1>t[1]&&(n[0]=m[0]+t[1]*p,n[1]=m[1]+t[1]*q),0<t[0]&&(m[0]+=t[0]*p,m[1]+=t[0]*q),p=!0):p=!1;p?(E||(l.lineStart(),l.point(m[0],m[1])),l.point(n[0],n[1]),k||l.lineEnd()):(l.lineStart(),l.point(g,h))}B=g;I=h;E=k}var t=l,s=Ma(),w,u,v,z={point:q,lineStart:function(){z.point=r;u&&u.push(v=[]);G=!0;E=!1;B=I=NaN},lineEnd:function(){w&&(r(y,A),x&&E&&s.rejoin(),w.push(s.buffer()));
z.point=q;E&&l.lineEnd()},polygonStart:function(){l=s;w=[];u=[]},polygonEnd:function(){l=t;(w=C.merge(w)).length?(l.polygonStart(),oc(w,h,m,p,l),l.polygonEnd()):n([a,c])&&(l.polygonStart(),l.lineStart(),p(null,null,1,l),l.lineEnd(),l.polygonEnd());w=u=v=null}},y,A,x,B,I,E,G;return z}}function eb(a,c,e){if(Math.abs(c)<la)return 0>=a;a/=c;if(0<c){if(a>e[1])return!1;a>e[0]&&(e[0]=a)}else{if(a<e[0])return!1;a<e[1]&&(e[1]=a)}return!0}function Ac(a,c){function e(f,g){return f=a(f,g),c(f[0],f[1])}a.invert&&
c.invert&&(e.invert=function(e,f){return e=c.invert(e,f),e&&a.invert(e[0],e[1])});return e}function sc(a){function c(f){function h(c,e){c=a(c,e);f.point(c[0],c[1])}function k(){xa=NaN;w.point=l;f.lineStart()}function l(c,h){var k=Gb([c,h]),m=a(c,h);e(xa,q,p,r,t,s,xa=m[0],q=m[1],p=c,r=k[0],t=k[1],s=k[2],g,f);f.point(xa,q)}function m(){w.point=h;f.lineEnd()}function n(){var a,c,h,fa,pe,u;k();w.point=function(e,f){l(a=e,f);c=xa;h=q;fa=r;pe=t;u=s;w.point=l};w.lineEnd=function(){e(xa,q,p,r,t,s,c,h,a,fa,
pe,u,g,f);w.lineEnd=m;m()}}var p,xa,q,r,t,s,w={point:h,lineStart:k,lineEnd:m,polygonStart:function(){f.polygonStart();w.lineStart=n},polygonEnd:function(){f.polygonEnd();w.lineStart=k}};return w}function e(c,g,h,k,l,m,n,p,xa,q,r,t,s,Qa){var w=n-c,u=p-g,v=w*w+u*u;if(v>4*f&&s--){var z=k+q,y=l+r,A=m+t,x=Math.sqrt(z*z+y*y+A*A),B=Math.asin(A/=x),I=Math.abs(Math.abs(A)-1)<la?(h+xa)/2:Math.atan2(y,z),E=a(I,B),B=E[0],E=E[1],G=B-c,L=E-g,H=u*G-w*L;if(H*H/v>f||0.3<Math.abs((w*G+u*L)/v-0.5))e(c,g,h,k,l,m,B,E,
I,z/=x,y/=x,A,s,Qa),Qa.point(B,E),e(B,E,I,z,y,A,n,p,xa,q,r,t,s,Qa)}}var f=0.5,g=16;c.precision=function(a){if(!arguments.length)return Math.sqrt(f);g=0<(f=a*a)&&16;return c};return c}function cb(a){return Yb(function(){return a})()}function Yb(a){function c(a){a=k(a[0]*ja,a[1]*ja);return[a[0]*m+u,v-a[1]*m]}function e(a){return(a=k.invert((a[0]-u)/m,(v-a[1])/m))&&[a[0]*ya,a[1]*ya]}function f(){k=Ac(h=bb(t,s,w),g);var a=g(q,r);u=n-a[0]*m;v=p+a[1]*m;return c}var g,h,k,l=sc(function(a,c){a=g(a,c);return[a[0]*
m+u,v-a[1]*m]}),m=150,n=480,p=250,q=0,r=0,t=0,s=0,w=0,u,v,z=ye,y=sa,A=null,x=null;c.stream=function(a){return Bc(h,z(l(y(a))))};c.clipAngle=function(a){if(!arguments.length)return A;z=null==a?(A=a,ye):rc((A=+a)*ja);return c};c.clipExtent=function(a){if(!arguments.length)return x;x=a;y=null==a?sa:Ub(a[0][0],a[0][1],a[1][0],a[1][1]);return c};c.scale=function(a){if(!arguments.length)return m;m=+a;return f()};c.translate=function(a){if(!arguments.length)return[n,p];n=+a[0];p=+a[1];return f()};c.center=
function(a){if(!arguments.length)return[q*ya,r*ya];q=a[0]%360*ja;r=a[1]%360*ja;return f()};c.rotate=function(a){if(!arguments.length)return[t*ya,s*ya,w*ya];t=a[0]%360*ja;s=a[1]%360*ja;w=2<a.length?a[2]%360*ja:0;return f()};C.rebind(c,l,"precision");return function(){g=a.apply(this,arguments);c.invert=g.invert&&e;return f()}}function Bc(a,c){return{point:function(e,f){f=a(e*ja,f*ja);e=f[0];c.point(e>ea?e-2*ea:e<-ea?e+2*ea:e,f[1])},sphere:function(){c.sphere()},lineStart:function(){c.lineStart()},lineEnd:function(){c.lineEnd()},
polygonStart:function(){c.polygonStart()},polygonEnd:function(){c.polygonEnd()}}}function nb(a,c){return[a,c]}function bb(a,c,e){return a?c||e?Ac(Cc(a),Zb(c,e)):Cc(a):c||e?Zb(c,e):nb}function wb(a){return function(c,e){return c+=a,[c>ea?c-2*ea:c<-ea?c+2*ea:c,e]}}function Cc(a){var c=wb(a);c.invert=wb(-a);return c}function Zb(a,c){function e(a,c){var l=Math.cos(c),m=Math.cos(a)*l,l=Math.sin(a)*l,fa=Math.sin(c),n=fa*f+m*g;return[Math.atan2(l*h-n*k,m*f-fa*g),Math.asin(Math.max(-1,Math.min(1,n*h+l*k)))]}
var f=Math.cos(a),g=Math.sin(a),h=Math.cos(c),k=Math.sin(c);e.invert=function(a,c){var e=Math.cos(c),l=Math.cos(a)*e,e=Math.sin(a)*e,m=Math.sin(c),fa=m*h-e*k;return[Math.atan2(e*h+m*k,l*f+fa*g),Math.asin(Math.max(-1,Math.min(1,fa*f-l*g)))]};return e}function $b(a,c){var e=Math.cos(a),f=Math.sin(a);return function(g,h,k,l){if(null!=g){if(g=ub(e,g),h=ub(e,h),0<k?g<h:g>h)g+=2*k*ea}else g=a+2*k*ea,h=a;for(var m,n=k*c;0<k?g>h:g<h;g-=n)l.point((m=Sb([e,-f*Math.cos(g),-f*Math.sin(g)]))[0],m[1])}}function ub(a,
c){var e=Gb(c);e[0]-=a;var f=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=f;e[1]/=f;e[2]/=f;f=Math.acos(Math.max(-1,Math.min(1,-e[1])));return((0>-e[2]?-f:f)+2*Math.PI-la)%(2*Math.PI)}function ob(a,c,e){var f=C.range(a,c-la,e).concat(c);return function(a){return f.map(function(c){return[a,c]})}}function ac(a,c,e){var f=C.range(a,c-la,e).concat(c);return function(a){return f.map(function(c){return[c,a]})}}function ib(a){return a.source}function bc(a){return a.target}function cc(a,c,e,f){var g=Math.cos(c),
h=Math.sin(c),k=Math.cos(f),l=Math.sin(f),m=g*Math.cos(a),n=g*Math.sin(a),p=k*Math.cos(e),q=k*Math.sin(e),r=2*Math.asin(Math.sqrt(T(f-c)+g*k*T(e-a))),t=1/Math.sin(r);e=r?function(a){var c=Math.sin(a*=r)*t,e=Math.sin(r-a)*t;a=e*m+c*p;var f=e*n+c*q,c=e*h+c*l;return[Math.atan2(f,a)*ya,Math.atan2(c,Math.sqrt(a*a+f*f))*ya]}:function(){return[a*ya,c*ya]};e.distance=r;return e}function dc(a){var c=0,e=ea/3,f=Yb(a);a=f(c,e);a.parallels=function(a){return arguments.length?f(c=a[0]*ea/180,e=a[1]*ea/180):[c/
ea*180,e/ea*180]};return a}function Jb(a,c){function e(a,c){var f=Math.sqrt(h-2*g*Math.sin(c))/g;return[f*Math.sin(a*=g),k-f*Math.cos(a)]}var f=Math.sin(a),g=(f+Math.sin(c))/2,h=1+f*(2*g-f),k=Math.sqrt(h)/g;e.invert=function(a,c){var e=k-c;return[Math.atan2(a,e)/g,Math.asin((h-(a*a+e*e)*g*g)/(2*g))]};return e}function xb(a,c){var e=a(c[0]),f=a([0.5*(c[0][0]+c[1][0]),c[0][1]]),g=a([c[1][0],c[0][1]]),h=a(c[1]),k=(f[1]-e[1])/(f[0]-e[0]),l=(g[1]-f[1])/(g[0]-f[0]),m=0.5*(k*l*(e[1]-g[1])+l*(e[0]+f[0])-
k*(f[0]+g[0]))/(l-k),n=(0.5*(e[0]+f[0])-m)/k+0.5*(e[1]+f[1]),f=h[0]-m,h=h[1]-n,g=e[0]-m,e=e[1]-n,p=f*f+h*h,q=g*g+e*e,r=Math.atan2(h,f),t=Math.atan2(e,g);return function(c){var e=c[0]-m,f=c[1]-n,g=e*e+f*f,e=Math.atan2(f,e);if(p<g&&g<q&&r<e&&e<t)return a.invert(c)}}function jb(){function a(c,e){Mc+=g*c-f*e;f=c;g=e}var c,e,f,g;rb.point=function(h,k){rb.point=a;c=f=h;e=g=k};rb.lineEnd=function(){a(c,e)}}function db(){function a(c,e){k.push("M",c,",",e,h)}function c(a,f){k.push("M",a,",",f);l.point=e}
function e(a,c){k.push("L",a,",",c)}function f(){l.point=a}function g(){k.push("Z")}var h=gc(4.5),k=[],l={point:a,lineStart:function(){l.point=c},lineEnd:f,polygonStart:function(){l.lineEnd=g},polygonEnd:function(){l.lineEnd=f;l.point=a},pointRadius:function(a){h=gc(a);return l},result:function(){if(k.length){var a=k.join("");k=[];return a}}};return l}function ec(a,c){Fa||(Aa+=a,Ba+=c,++za)}function fc(){function a(f,g){var h=f-c,k=g-e,h=Math.sqrt(h*h+k*k);Aa+=h*(c+f)/2;Ba+=h*(e+g)/2;za+=h;c=f;e=
g}var c,e;if(1!==Fa)if(1>Fa)Fa=1,Aa=Ba=za=0;else return;Ya.point=function(f,g){Ya.point=a;c=f;e=g}}function Dc(){Ya.point=ec}function od(){function a(c,e){var h=g*c-f*e;Aa+=h*(f+c);Ba+=h*(g+e);za+=3*h;f=c;g=e}var c,e,f,g;2>Fa&&(Fa=2,Aa=Ba=za=0);Ya.point=function(h,k){Ya.point=a;c=f=h;e=g=k};Ya.lineEnd=function(){a(c,e)}}function pd(a){function c(e,f){a.moveTo(e,f);a.arc(e,f,k,0,2*ea)}function e(c,g){a.moveTo(c,g);l.point=f}function f(c,e){a.lineTo(c,e)}function g(){l.point=c}function h(){a.closePath()}
var k=4.5,l={point:c,lineStart:function(){l.point=e},lineEnd:g,polygonStart:function(){l.lineEnd=h},polygonEnd:function(){l.lineEnd=g;l.point=c},pointRadius:function(a){k=a;return l},result:E};return l}function gc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ec(a){var c=sc(function(c,e){return a([c*ya,e*ya])});return function(a){a=c(a);return{point:function(c,e){a.point(c*ja,e*ja)},sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},
polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}}function gb(a,c){function e(c,f){var g=Math.cos(c),h=Math.cos(f),g=a(g*h);return[g*h*Math.sin(c),g*Math.sin(f)]}e.invert=function(a,e){var f=Math.sqrt(a*a+e*e),g=c(f),h=Math.sin(g),g=Math.cos(g);return[Math.atan2(a*h,f*g),Math.asin(f&&e*h/f)]};return e}function hc(a,c){function e(a,c){var f=Math.abs(Math.abs(c)-ea/2)<la?0:h/Math.pow(Math.tan(ea/4+c/2),g);return[f*Math.sin(g*a),h-f*Math.cos(g*a)]}var f=Math.cos(a),g=
a===c?Math.sin(a):Math.log(f/Math.cos(c))/Math.log(Math.tan(ea/4+c/2)/Math.tan(ea/4+a/2)),h=f*Math.pow(Math.tan(ea/4+a/2),g)/g;if(!g)return Kb;e.invert=function(a,c){var e=h-c,f=(0<g?1:0>g?-1:0)*Math.sqrt(a*a+e*e);return[Math.atan2(a,e)/g,2*Math.atan(Math.pow(h/f,1/g))-ea/2]};return e}function qd(a,c){function e(a,c){var f=h-c;return[f*Math.sin(g*a),h-f*Math.cos(g*a)]}var f=Math.cos(a),g=a===c?Math.sin(a):(f-Math.cos(c))/(c-a),h=f/g+a;if(Math.abs(g)<la)return nb;e.invert=function(a,c){var e=h-c;return[Math.atan2(a,
e)/g,h-(0<g?1:0>g?-1:0)*Math.sqrt(a*a+e*e)]};return e}function Kb(a,c){return[a,Math.log(Math.tan(ea/4+c/2))]}function uc(a){var c=cb(a),e=c.scale,f=c.translate,g=c.clipExtent,h;c.scale=function(){var a=e.apply(c,arguments);return a===c?h?c.clipExtent(null):c:a};c.translate=function(){var a=f.apply(c,arguments);return a===c?h?c.clipExtent(null):c:a};c.clipExtent=function(a){var k=g.apply(c,arguments);if(k===c){if(h=null==a){var l=ea*e(),m=f();g([[m[0]-l,m[1]-l],[m[0]+l,m[1]+l]])}}else h&&(k=null);
return k};return c.clipExtent(null)}function Lb(a,c){var e=Math.cos(c)*Math.sin(a);return[Math.log((1+e)/(1-e))/2,Math.atan2(Math.tan(c),Math.cos(a))]}function Fc(a){function c(k){function m(){n.push("M",h(a(p),l))}for(var n=[],p=[],q=-1,xa=k.length,r,t=da(e),s=da(f);++q<xa;)g.call(this,r=k[q],q)?p.push([+t.call(this,r,q),+s.call(this,r,q)]):p.length&&(m(),p=[]);p.length&&m();return n.length?n.join(""):null}var e=Ua,f=Va,g=Za,h=Ea,k=h.key,l=0.7;c.x=function(a){if(!arguments.length)return e;e=a;return c};
c.y=function(a){if(!arguments.length)return f;f=a;return c};c.defined=function(a){if(!arguments.length)return g;g=a;return c};c.interpolate=function(a){if(!arguments.length)return k;k="function"===typeof a?h=a:(h=vd.get(a)||Ea).key;return c};c.tension=function(a){if(!arguments.length)return l;l=a;return c};return c}function Ua(a){return a[0]}function Va(a){return a[1]}function Ea(a){return a.join("L")}function ic(a){for(var c=0,e=a.length,f=a[0],g=[f[0],",",f[1]];++c<e;)g.push("V",(f=a[c])[1],"H",
f[0]);return g.join("")}function kb(a){for(var c=0,e=a.length,f=a[0],g=[f[0],",",f[1]];++c<e;)g.push("H",(f=a[c])[0],"V",f[1]);return g.join("")}function yb(a,c){if(1>c.length||a.length!=c.length&&a.length!=c.length+2)return Ea(a);var e=a.length!=c.length,f="",g=a[0],h=a[1],k=c[0],l=k,m=1;e&&(f+="Q"+(h[0]-2*k[0]/3)+","+(h[1]-2*k[1]/3)+","+h[0]+","+h[1],g=a[1],m=2);if(1<c.length)for(l=c[1],h=a[m],m++,f+="C"+(g[0]+k[0])+","+(g[1]+k[1])+","+(h[0]-l[0])+","+(h[1]-l[1])+","+h[0]+","+h[1],g=2;g<c.length;g++,
m++)h=a[m],l=c[g],f+="S"+(h[0]-l[0])+","+(h[1]-l[1])+","+h[0]+","+h[1];e&&(e=a[m],f+="Q"+(h[0]+2*l[0]/3)+","+(h[1]+2*l[1]/3)+","+e[0]+","+e[1]);return f}function zb(a,c){for(var e=[],f=(1-c)/2,g,h=a[0],k=a[1],l=1,m=a.length;++l<m;)g=h,h=k,k=a[l],e.push([f*(k[0]-g[0]),f*(k[1]-g[1])]);return e}function jc(a){if(3>a.length)return Ea(a);var c=1,e=a.length,f=a[0],g=f[0],h=f[1],k=[g,g,g,(f=a[1])[0]],l=[h,h,h,f[1]],g=[g,",",h];for(Ab(g,k,l);++c<e;)f=a[c],k.shift(),k.push(f[0]),l.shift(),l.push(f[1]),Ab(g,
k,l);for(c=-1;2>++c;)k.shift(),k.push(f[0]),l.shift(),l.push(f[1]),Ab(g,k,l);return g.join("")}function Ra(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]}function Ab(a,c,e){a.push("C",Ra(ze,c),",",Ra(ze,e),",",Ra(Ae,c),",",Ra(Ae,e),",",Ra(Nb,c),",",Ra(Nb,e))}function kc(a,c){return(c[1]-a[1])/(c[0]-a[0])}function rf(a,c,e,f){var g,h,k;a=f[a];g=a[0];h=a[1];a=f[c];c=a[0];k=a[1];a=f[e];return 0<(a[1]-h)*(c-g)-(k-h)*(a[0]-g)}function cd(a,c,e){return(e[0]-c[0])*(a[1]-c[1])<(e[1]-c[1])*(a[0]-c[0])}
function Md(a,c,e,f){var g=a[0],h=e[0],k=c[0]-g,l=f[0]-h;a=a[1];e=e[1];c=c[1]-a;f=f[1]-e;h=(l*(a-e)-f*(g-h))/(f*k-l*c);return[g+h*k,a+h*c]}function dd(a,c){var e=a.map(function(a,c){return{index:c,x:a[0],y:a[1]}}).sort(function(a,c){return a.y<c.y?-1:a.y>c.y?1:a.x<c.x?-1:a.x>c.x?1:0}),f=null,g={list:[],leftEnd:null,rightEnd:null,init:function(){g.leftEnd=g.createHalfEdge(null,"l");g.rightEnd=g.createHalfEdge(null,"l");g.leftEnd.r=g.rightEnd;g.rightEnd.l=g.leftEnd;g.list.unshift(g.leftEnd,g.rightEnd)},
createHalfEdge:function(a,c){return{edge:a,side:c,vertex:null,l:null,r:null}},insert:function(a,c){c.l=a;c.r=a.r;a.r.l=c;a.r=c},leftBound:function(a){var c=g.leftEnd;do c=c.r;while(c!=g.rightEnd&&h.rightOf(c,a));return c=c.l},del:function(a){a.l.r=a.r;a.r.l=a.l;a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return null==a.edge?f:a.edge.region[a.side]},rightRegion:function(a){return null==a.edge?f:a.edge.region[wd[a.side]]}},h={bisect:function(a,c){var e=
{region:{l:a,r:c},ep:{l:null,r:null}},f=c.x-a.x,g=c.y-a.y;e.c=a.x*f+a.y*g+0.5*(f*f+g*g);(0<f?f:-f)>(0<g?g:-g)?(e.a=1,e.b=g/f,e.c/=f):(e.b=1,e.a=f/g,e.c/=g);return e},intersect:function(a,c){var e=a.edge,f=c.edge;if(!e||!f||e.region.r==f.region.r)return null;var g=e.a*f.b-e.b*f.a;if(1E-10>Math.abs(g))return null;var h=(e.c*f.b-f.c*e.b)/g,g=(f.c*e.a-e.c*f.a)/g,k=e.region.r,l=f.region.r;k.y<l.y||k.y==l.y&&k.x<l.x?k=a:(k=c,e=f);return(e=h>=e.region.r.x)&&"l"===k.side||!e&&"r"===k.side?null:{x:h,y:g}},
rightOf:function(a,c){var e=a.edge,f=e.region.r,g=c.x>f.x;if(g&&"l"===a.side)return 1;if(!g&&"r"===a.side)return 0;if(1===e.a){var h=c.y-f.y,k=c.x-f.x,l=0,m=0;!g&&0>e.b||g&&0<=e.b?m=l=h>=e.b*k:(m=c.x+c.y*e.b>e.c,0>e.b&&(m=!m),m||(l=1));l||(f=f.x-e.region.l.x,m=e.b*(k*k-h*h)<f*h*(1+2*k/f+e.b*e.b),0>e.b&&(m=!m))}else k=e.c-e.a*c.x,e=c.y-k,h=c.x-f.x,f=k-f.y,m=e*e>h*h+f*f;return"l"===a.side?m:!m},endPoint:function(a,e,f){a.ep[e]=f;a.ep[wd[e]]&&c(a)},distance:function(a,c){var e=a.x-c.x,f=a.y-c.y;return Math.sqrt(e*
e+f*f)}},k={list:[],insert:function(a,c,e){a.vertex=c;a.ystar=c.y+e;e=0;for(var f=k.list,g=f.length;e<g;e++){var h=f[e];if(!(a.ystar>h.ystar||a.ystar==h.ystar&&c.x>h.vertex.x))break}f.splice(e,0,a)},del:function(a){for(var c=0,e=k.list,f=e.length;c<f&&e[c]!=a;++c);e.splice(c,1)},empty:function(){return 0===k.list.length},nextEvent:function(a){for(var c=0,e=k.list,f=e.length;c<f;++c)if(e[c]==a)return e[c+1];return null},min:function(){var a=k.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return k.list.shift()}};
g.init();for(var f=e.shift(),l=e.shift(),m,n,p,q,r,t,s,w,u;;)if(k.empty()||(m=k.min()),l&&(k.empty()||l.y<m.y||l.y==m.y&&l.x<m.x)){n=g.leftBound(l);p=g.right(n);s=g.rightRegion(n);u=h.bisect(s,l);t=g.createHalfEdge(u,"l");g.insert(n,t);if(w=h.intersect(n,t))k.del(n),k.insert(n,w,h.distance(w,l));n=t;t=g.createHalfEdge(u,"r");g.insert(n,t);(w=h.intersect(t,p))&&k.insert(t,w,h.distance(w,l));l=e.shift()}else if(k.empty())break;else{n=k.extractMin();q=g.left(n);p=g.right(n);r=g.right(p);s=g.leftRegion(n);
t=g.rightRegion(p);w=n.vertex;h.endPoint(n.edge,n.side,w);h.endPoint(p.edge,p.side,w);g.del(n);k.del(p);g.del(p);n="l";s.y>t.y&&(n=s,s=t,t=n,n="r");u=h.bisect(s,t);t=g.createHalfEdge(u,n);g.insert(q,t);h.endPoint(u,wd[n],w);if(w=h.intersect(q,t))k.del(q),k.insert(q,w,h.distance(w,s));(w=h.intersect(t,r))&&k.insert(t,w,h.distance(w,s))}for(n=g.right(g.leftEnd);n!=g.rightEnd;n=g.right(n))c(n.edge)}function sf(a){return a.x}function tf(a){return a.y}function Nd(){return{leaf:!0,nodes:[],point:null,x:null,
y:null}}function Vb(a,c,e,f,g,h){if(!a(c,e,f,g,h)){var k=0.5*(e+g),l=0.5*(f+h);c=c.nodes;c[0]&&Vb(a,c[0],e,f,k,l);c[1]&&Vb(a,c[1],k,f,g,l);c[2]&&Vb(a,c[2],e,l,k,h);c[3]&&Vb(a,c[3],k,l,g,h)}}function ed(a,c){a=C.rgb(a);c=C.rgb(c);var e=a.r,f=a.g,g=a.b,h=c.r-e,k=c.g-f,l=c.b-g;return function(a){return"#"+ka(Math.round(e+h*a))+ka(Math.round(f+k*a))+ka(Math.round(g+l*a))}}function Od(a){var c=[a.a,a.b],e=[a.c,a.d],f=Pd(c),g=c[0]*e[0]+c[1]*e[1],h=-g;e[0]+=h*c[0];e[1]+=h*c[1];h=Pd(e)||0;c[0]*e[1]<e[0]*
c[1]&&(c[0]*=-1,c[1]*=-1,f*=-1,g*=-1);this.rotate=(f?Math.atan2(c[1],c[0]):Math.atan2(-e[0],e[1]))*ya;this.translate=[a.e,a.f];this.scale=[f,h];this.skew=h?Math.atan2(g,h)*ya:0}function Pd(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]);c&&(a[0]/=c,a[1]/=c);return c}function fb(a,c){c-=a=+a;return function(e){return a+c*e}}function tc(a,c){var e=[],f=[],g,h=C.transform(a),k=C.transform(c),l=h.translate,m=k.translate,n=h.rotate,p=k.rotate,q=h.skew,r=k.skew,h=h.scale,k=k.scale;l[0]!=m[0]||l[1]!=m[1]?(e.push("translate(",
null,",",null,")"),f.push({i:1,x:fb(l[0],m[0])},{i:3,x:fb(l[1],m[1])})):m[0]||m[1]?e.push("translate("+m+")"):e.push("");n!=p?(180<n-p?p+=360:180<p-n&&(n+=360),f.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:fb(n,p)})):p&&e.push(e.pop()+"rotate("+p+")");q!=r?f.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:fb(q,r)}):r&&e.push(e.pop()+"skewX("+r+")");h[0]!=k[0]||h[1]!=k[1]?(g=e.push(e.pop()+"scale(",null,",",null,")"),f.push({i:g-4,x:fb(h[0],k[0])},{i:g-2,x:fb(h[1],k[1])})):1==k[0]&&1==k[1]||e.push(e.pop()+
"scale("+k+")");g=f.length;return function(a){for(var c=-1,h;++c<g;)e[(h=f[c]).i]=h.x(a);return e.join("")}}function xc(a,c){var e={},f={},g;for(g in a)g in c?e[g]=("transform"==g?tc:vb)(a[g],c[g]):f[g]=a[g];for(g in c)g in a||(f[g]=c[g]);return function(a){for(g in e)f[g]=e[g](a);return f}}function Zd(a,c){var e,f,g=0,h=[],k=[],l,m;a+="";c+="";for(f=Nc.lastIndex=0;e=Nc.exec(c);++f)e.index&&h.push(c.substring(g,e.index)),k.push({i:h.length,x:e[0]}),h.push(null),g=Nc.lastIndex;g<c.length&&h.push(c.substring(g));
f=0;for(l=k.length;(e=Nc.exec(a))&&f<l;++f)if(m=k[f],m.x==e[0]){if(m.i)if(null==h[m.i+1])for(h[m.i-1]+=m.x,h.splice(m.i,1),e=f+1;e<l;++e)k[e].i--;else for(h[m.i-1]+=m.x+h[m.i+1],h.splice(m.i,2),e=f+1;e<l;++e)k[e].i-=2;else if(null==h[m.i+1])h[m.i]=m.x;else for(h[m.i]=m.x+h[m.i+1],h.splice(m.i+1,1),e=f+1;e<l;++e)k[e].i--;k.splice(f,1);l--;f--}else m.x=fb(parseFloat(e[0]),parseFloat(m.x));for(;f<l;)m=k.pop(),null==h[m.i+1]?h[m.i]=m.x:(h[m.i]=m.x+h[m.i+1],h.splice(m.i+1,1)),l--;return 1===h.length?null==
h[0]?k[0].x:function(){return c}:function(a){for(f=0;f<l;++f)h[(m=k[f]).i]=m.x(a);return h.join("")}}function vb(a,c){for(var e=C.interpolators.length,f;0<=--e&&!(f=C.interpolators[e](a,c)););return f}function $d(a,c){var e=[],f=[],g=a.length,h=c.length,k=Math.min(a.length,c.length),l;for(l=0;l<k;++l)e.push(vb(a[l],c[l]));for(;l<g;++l)f[l]=a[l];for(;l<h;++l)f[l]=c[l];return function(a){for(l=0;l<k;++l)f[l]=e[l](a);return f}}function Of(a){return function(c){return 0>=c?0:1<=c?1:a(c)}}function ee(a){return function(c){return 1-
a(1-c)}}function he(a){return function(c){return 0.5*(0.5>c?a(2*c):2-a(2-2*c))}}function Af(a){return a*a}function Hf(a){return a*a*a}function Qf(a){return 1-Math.cos(a*ea/2)}function Rf(a){return Math.pow(2,10*(a-1))}function Df(a){return 1-Math.sqrt(1-a*a)}function Sf(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function Yd(a,c){c-=a;return function(e){return Math.round(a+c*e)}}function Pf(a,c){c=c-
(a=+a)?1/(c-a):0;return function(e){return(e-a)*c}}function Tf(a,c){c=c-(a=+a)?1/(c-a):0;return function(e){return Math.max(0,Math.min(1,(e-a)*c))}}function Uf(a){var c=a.source;a=a.target;var e;var f=a;if(c===f)e=c;else{e=Ud(c);for(var f=Ud(f),g=e.pop(),h=f.pop(),k=null;g===h;)k=g,g=e.pop(),h=f.pop();e=k}for(f=[c];c!==e;)c=c.parent,f.push(c);for(c=f.length;a!==e;)f.splice(c,0,a),a=a.parent;return f}function Ud(a){for(var c=[],e=a.parent;null!=e;)c.push(a),a=e,e=e.parent;c.push(a);return c}function xf(a){a.fixed|=
2}function Vf(a){a.fixed&=-7}function yf(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Bf(a){a.fixed&=-5}function ie(a,c,e){var f=0,g=0;a.charge=0;if(!a.leaf)for(var h=a.nodes,k=h.length,l=-1,m;++l<k;)m=h[l],null!=m&&(ie(m,c,e),a.charge+=m.charge,f+=m.charge*m.cx,g+=m.charge*m.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),c*=e[a.point.index],a.charge+=a.pointCharge=c,f+=c*a.point.x,g+=c*a.point.y);a.cx=f/a.charge;a.cy=g/a.charge}function Xb(a,c){C.rebind(a,c,"sort",
"children","value");a.nodes=a;a.links=Lf;return a}function zf(a){return a.children}function Cf(a){return a.value}function wf(a,c){return c.value-a.value}function Lf(a){return C.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function Kf(a){return a.x}function Wf(a){return a.y}function Xf(a,c,e){a.y0=c;a.y=e}function jd(a){return C.range(a.length)}function kd(a){var c=-1;a=a[0].length;for(var e=[];++c<a;)e[c]=0;return e}function Jf(a){for(var c=1,e=0,f=
a[0][1],g,h=a.length;c<h;++c)(g=a[c][1])>f&&(e=c,f=g);return e}function If(a){return a.reduce(Yf,0)}function Yf(a,c){return a+c[1]}function Zf(a,c){return ge(a,Math.ceil(Math.log(c.length)/Math.LN2+1))}function ge(a,c){for(var e=-1,f=+a[0],g=(a[1]-f)/c,h=[];++e<=c;)h[e]=g*e+f;return h}function $f(a){return[C.min(a),C.max(a)]}function Wd(a,c){return a.parent==c.parent?1:2}function ld(a){var c=a.children;return c&&c.length?c[0]:a._tree.thread}function id(a){var c=a.children,e;return c&&(e=c.length)?
c[e-1]:a._tree.thread}function zc(a,c){var e=a.children;if(e&&(g=e.length))for(var f,g,h=-1;++h<g;)0<c(f=zc(e[h],c),a)&&(a=f);return a}function ag(a,c){return a.x-c.x}function bg(a,c){return c.x-a.x}function Gf(a,c){return a.depth-c.depth}function hb(a,c){function e(a,f){var g=a.children;if(g&&(m=g.length))for(var h,k=null,l=-1,m;++l<m;)h=g[l],e(h,k),k=h;c(a,f)}e(a,null)}function cg(a,c){return a.value-c.value}function md(a,c){var e=a._pack_next;a._pack_next=c;c._pack_prev=a;c._pack_next=e;e._pack_prev=
c}function je(a,c){a._pack_next=c;c._pack_prev=a}function ke(a,c){var e=c.x-a.x,f=c.y-a.y,g=a.r+c.r;return 0.001<g*g-e*e-f*f}function le(a){function c(a){f=Math.min(a.x-a.r,f);g=Math.max(a.x+a.r,g);h=Math.min(a.y-a.r,h);k=Math.max(a.y+a.r,k)}if((e=a.children)&&(t=e.length)){var e,f=Infinity,g=-Infinity,h=Infinity,k=-Infinity,l,m,n,p,q,r,t;e.forEach(dg);l=e[0];l.x=-l.r;l.y=0;c(l);if(1<t&&(m=e[1],m.x=m.r,m.y=0,c(m),2<t))for(n=e[2],Vd(l,m,n),c(n),md(l,n),l._pack_prev=n,md(n,m),m=l._pack_next,p=3;p<t;p++){Vd(l,
m,n=e[p]);var s=0,w=1,u=1;for(q=m._pack_next;q!==m;q=q._pack_next,w++)if(ke(q,n)){s=1;break}if(1==s)for(r=l._pack_prev;r!==q._pack_prev&&!ke(r,n);r=r._pack_prev,u++);s?(w<u||w==u&&m.r<l.r?je(l,m=q):je(l=r,m),p--):(md(l,n),m=n,c(n))}l=(f+g)/2;m=(h+k)/2;for(p=q=0;p<t;p++)n=e[p],n.x-=l,n.y-=m,q=Math.max(q,n.r+Math.sqrt(n.x*n.x+n.y*n.y));a.r=q;e.forEach(eg)}}function dg(a){a._pack_next=a._pack_prev=a}function eg(a){delete a._pack_next;delete a._pack_prev}function me(a,c,e,f){var g=a.children;a.x=c+=f*
a.x;a.y=e+=f*a.y;a.r*=f;if(g){a=-1;for(var h=g.length;++a<h;)me(g[a],c,e,f)}}function Vd(a,c,e){var f=a.r+e.r,g=c.x-a.x,h=c.y-a.y;if(f&&(g||h)){var k=c.r+e.r,l=g*g+h*h,k=k*k,f=f*f;c=0.5+(f-k)/(2*l);k=Math.sqrt(Math.max(0,2*k*(f+l)-(f-=l)*f-k*k))/(2*l);e.x=a.x+c*g+k*h;e.y=a.y+c*h-k*g}else e.x=a.x+f,e.y=a.y}function Ff(a){return 1+C.max(a,function(a){return a.y})}function Ef(a){return a.reduce(function(a,c){return a+c.x},0)/a.length}function ne(a){var c=a.children;return c&&c.length?ne(c[0]):a}function oe(a){var c=
a.children,e;return c&&(e=c.length)?oe(c[e-1]):a}function nd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Qd(a,c){var e=a.x+c[3],f=a.y+c[0],g=a.dx-c[1]-c[3],h=a.dy-c[0]-c[2];0>g&&(e+=g/2,g=0);0>h&&(f+=h/2,h=0);return{x:e,y:f,dx:g,dy:h}}function Wb(a){var c=a[0];a=a[a.length-1];return c<a?[c,a]:[a,c]}function vc(a){return a.rangeExtent?a.rangeExtent():Wb(a.range())}function uf(a,c,e,f){var g=e(a[0],a[1]),h=f(c[0],c[1]);return function(a){return h(g(a))}}function wc(a,c){var e=0,f=a.length-1,g=a[e],
h=a[f],k;h<g&&(k=e,e=f,f=k,k=g,g=h,h=k);if(c=c(h-g))a[e]=c.floor(g),a[f]=c.ceil(h);return a}function vf(a,c,e,f){var g=[],h=[],k=0,l=Math.min(a.length,c.length)-1;a[l]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());for(;++k<=l;)g.push(e(a[k-1],a[k])),h.push(f(c[k-1],c[k]));return function(c){var e=C.bisect(a,c,1,l)-1;return h[e](g[e](c))}}function Rd(a,c,e,f){function g(){var m=2<Math.min(a.length,c.length)?vf:uf,n=f?Tf:Pf;k=m(a,c,n,e);l=m(c,a,n,vb);return h}function h(a){return k(a)}var k,l;
h.invert=function(a){return l(a)};h.domain=function(c){if(!arguments.length)return a;a=c.map(Number);return g()};h.range=function(a){if(!arguments.length)return c;c=a;return g()};h.rangeRound=function(a){return h.range(a).interpolate(Yd)};h.clamp=function(a){if(!arguments.length)return f;f=a;return g()};h.interpolate=function(a){if(!arguments.length)return e;e=a;return g()};h.ticks=function(c){return fd(a,c)};h.tickFormat=function(c,e){return gd(a,c,e)};h.nice=function(){wc(a,Td);return g()};h.copy=
function(){return Rd(a,c,e,f)};return g()}function Sd(a,c){return C.rebind(a,c,"range","rangeRound","interpolate","clamp")}function Td(a){return(a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1))&&{floor:function(c){return Math.floor(c/a)*a},ceil:function(c){return Math.ceil(c/a)*a}}}function Xd(a,c){var e=Wb(a),f=e[1]-e[0],g=Math.pow(10,Math.floor(Math.log(f/c)/Math.LN10)),f=c/f*g;0.15>=f?g*=10:0.35>=f?g*=5:0.75>=f&&(g*=2);e[0]=Math.ceil(e[0]/g)*g;e[1]=Math.floor(e[1]/g)*g+0.5*g;e[2]=g;return e}
function fd(a,c){return C.range.apply(C,Xd(a,c))}function gd(a,c,e){var f=-Math.floor(Math.log(Xd(a,c)[2])/Math.LN10+0.01);return C.format(e?e.replace(Be,function(a,c,e,g,h,k,l,m,n,p){return[c,e,g,h,k,l,m,n||"."+(f-2*("%"===p)),p].join("")}):",."+f+"f")}function ae(a,c,e,f){function g(c){return a(e(c))}g.invert=function(c){return f(a.invert(c))};g.domain=function(c){if(!arguments.length)return a.domain().map(f);0>c[0]?(e=hd,f=Mf):(e=be,f=ce);a.domain(c.map(e));return g};g.base=function(a){if(!arguments.length)return c;
c=+a;return g};g.nice=function(){a.domain(wc(a.domain(),Nf(c)));return g};g.ticks=function(){var g=Wb(a.domain()),h=[];if(g.every(isFinite)){var k=Math.log(c),l=Math.floor(g[0]/k),k=Math.ceil(g[1]/k),m=f(g[0]),g=f(g[1]),n=c%1?2:c;if(e===hd)for(h.push(-Math.pow(c,-l));l++<k;)for(var p=n-1;0<p;p--)h.push(-Math.pow(c,-l)*p);else{for(;l<k;l++)for(p=1;p<n;p++)h.push(Math.pow(c,l)*p);h.push(Math.pow(c,l))}for(l=0;h[l]<m;l++);for(k=h.length;h[k-1]>g;k--);h=h.slice(l,k)}return h};g.tickFormat=function(a,
h){2>arguments.length&&(h=gg);if(!arguments.length)return h;var k=Math.log(c),l=Math.max(0.1,a/g.ticks().length),m=e===hd?(n=-1E-12,Math.floor):(n=1E-12,Math.ceil),n;return function(a){return a/f(k*m(e(a)/k+n))<=l?h(a):""}};g.copy=function(){return ae(a.copy(),c,e,f)};return Sd(g,a)}function be(a){return Math.log(0>a?0:a)}function ce(a){return Math.exp(a)}function hd(a){return-Math.log(0<a?0:-a)}function Mf(a){return-Math.exp(-a)}function Nf(a){a=Math.log(a);var c={floor:function(c){return Math.floor(c/
a)*a},ceil:function(c){return Math.ceil(c/a)*a}};return function(){return c}}function de(a,c){function e(c){return a(f(c))}var f=yc(c),g=yc(1/c);e.invert=function(c){return g(a.invert(c))};e.domain=function(c){if(!arguments.length)return a.domain().map(g);a.domain(c.map(f));return e};e.ticks=function(a){return fd(e.domain(),a)};e.tickFormat=function(a,c){return gd(e.domain(),a,c)};e.nice=function(){return e.domain(wc(e.domain(),Td))};e.exponent=function(a){if(!arguments.length)return c;var h=e.domain();
f=yc(c=a);g=yc(1/c);return e.domain(h)};e.copy=function(){return de(a.copy(),c)};return Sd(e,a)}function yc(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}}function fe(a,c){function f(c){return k[((h.get(c)||h.set(c,a.push(c)))-1)%k.length]}function g(c,e){return C.range(a.length).map(function(a){return c+e*a})}var h,k,l;f.domain=function(g){if(!arguments.length)return a;a=[];h=new e;for(var k=-1,l=g.length,m;++k<l;)h.has(m=g[k])||h.set(m,a.push(m));return f[c.t].apply(f,c.a)};f.range=
function(a){if(!arguments.length)return k;k=a;l=0;c={t:"range",a:arguments};return f};f.rangePoints=function(e,h){2>arguments.length&&(h=0);var m=e[0],n=e[1],p=(n-m)/(Math.max(1,a.length-1)+h);k=g(2>a.length?(m+n)/2:m+p*h/2,p);l=0;c={t:"rangePoints",a:arguments};return f};f.rangeBands=function(e,h,m){2>arguments.length&&(h=0);3>arguments.length&&(m=h);var n=e[1]<e[0],p=e[n-0],q=(e[1-n]-p)/(a.length-h+2*m);k=g(p+q*m,q);n&&k.reverse();l=q*(1-h);c={t:"rangeBands",a:arguments};return f};f.rangeRoundBands=
function(e,h,m){2>arguments.length&&(h=0);3>arguments.length&&(m=h);var n=e[1]<e[0],p=e[n-0],q=e[1-n],r=Math.floor((q-p)/(a.length-h+2*m));k=g(p+Math.round((q-p-(a.length-h)*r)/2),r);n&&k.reverse();l=Math.round(r*(1-h));c={t:"rangeRoundBands",a:arguments};return f};f.rangeBand=function(){return l};f.rangeExtent=function(){return Wb(c.a[0])};f.copy=function(){return fe(a,c)};return f.domain(a)}function Ce(a,c){function e(){var h=0,k=c.length;for(g=[];++h<k;)g[h-1]=C.quantile(a,h/k);return f}function f(a){return isNaN(a=
+a)?NaN:c[C.bisect(g,a)]}var g;f.domain=function(c){if(!arguments.length)return a;a=c.filter(function(a){return!isNaN(a)}).sort(C.ascending);return e()};f.range=function(a){if(!arguments.length)return c;c=a;return e()};f.quantiles=function(){return g};f.copy=function(){return Ce(a,c)};return e()}function De(a,c,e){function f(c){return e[Math.max(0,Math.min(k,Math.floor(h*(c-a))))]}function g(){h=e.length/(c-a);k=e.length-1;return f}var h,k;f.domain=function(e){if(!arguments.length)return[a,c];a=+e[0];
c=+e[e.length-1];return g()};f.range=function(a){if(!arguments.length)return e;e=a;return g()};f.copy=function(){return De(a,c,e)};return g()}function Ee(a,c){function e(f){return c[C.bisect(a,f)]}e.domain=function(c){if(!arguments.length)return a;a=c;return e};e.range=function(a){if(!arguments.length)return c;c=a;return e};e.copy=function(){return Ee(a,c)};return e}function Fe(a){function c(a){return+a}c.invert=c;c.domain=c.range=function(e){if(!arguments.length)return a;a=e.map(c);return c};c.ticks=
function(c){return fd(a,c)};c.tickFormat=function(c,e){return gd(a,c,e)};c.copy=function(){return Fe(a)};return c}function hg(a){return a.innerRadius}function ig(a){return a.outerRadius}function Ge(a){return a.startAngle}function He(a){return a.endAngle}function Ie(a){for(var c,e=-1,f=a.length,g,h;++e<f;)c=a[e],g=c[0],h=c[1]+Cb,c[0]=g*Math.cos(h),c[1]=g*Math.sin(h);return a}function Je(a){function c(m){function r(){t.push("M",l(a(w),q),p,n(a(s.reverse()),q),"Z")}for(var t=[],s=[],w=[],u=-1,xa=m.length,
v,z=da(e),y=da(g),A=e===f?function(){return B}:da(f),x=g===h?function(){return I}:da(h),B,I;++u<xa;)k.call(this,v=m[u],u)?(s.push([B=+z.call(this,v,u),I=+y.call(this,v,u)]),w.push([+A.call(this,v,u),+x.call(this,v,u)])):s.length&&(r(),s=[],w=[]);s.length&&r();return t.length?t.join(""):null}var e=Ua,f=Ua,g=0,h=Va,k=Za,l=Ea,m=l.key,n=l,p="L",q=0.7;c.x=function(a){if(!arguments.length)return f;e=f=a;return c};c.x0=function(a){if(!arguments.length)return e;e=a;return c};c.x1=function(a){if(!arguments.length)return f;
f=a;return c};c.y=function(a){if(!arguments.length)return h;g=h=a;return c};c.y0=function(a){if(!arguments.length)return g;g=a;return c};c.y1=function(a){if(!arguments.length)return h;h=a;return c};c.defined=function(a){if(!arguments.length)return k;k=a;return c};c.interpolate=function(a){if(!arguments.length)return m;m="function"===typeof a?l=a:(l=vd.get(a)||Ea).key;n=l.reverse||l;p=l.closed?"M":"L";return c};c.tension=function(a){if(!arguments.length)return q;q=a;return c};return c}function jg(a){return a.radius}
function Ke(a){return[a.x,a.y]}function kg(a){return function(){var c=a.apply(this,arguments),e=c[0],c=c[1]+Cb;return[e*Math.cos(c),e*Math.sin(c)]}}function lg(){return 64}function mg(){return"circle"}function Le(a){a=Math.sqrt(a/ea);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function lc(a,c){sd(a,Ca);a.id=c;return a}function xd(a,c,e,f){var g=a.id;return N(a,"function"===typeof e?function(a,h,k){a.__transition__[g].tween.set(c,f(e.call(a,a.__data__,h,k)))}:(e=f(e),function(a){a.__transition__[g].tween.set(c,
e)}))}function ng(a){null==a&&(a="");return function(){this.textContent=a}}function Oc(a,c,f,g){var h=a.__transition__||(a.__transition__={active:0,count:0}),k=h[f];if(!k){var l=g.time,k=h[f]={tween:new e,event:C.dispatch("start","end"),time:l,ease:g.ease,delay:g.delay,duration:g.duration};++h.count;C.timer(function(e){function g(e){if(h.active>f)return n();h.active=f;r.start.call(a,p,c);k.tween.forEach(function(e,f){(f=f.call(a,p,c))&&w.push(f)});m(e)||C.timer(m,0,l);return 1}function m(e){if(h.active!==
f)return n();e=(e-t)/s;for(var g=q(e),k=w.length;0<k;)w[--k].call(a,g);if(1<=e)return n(),r.end.call(a,p,c),1}function n(){--h.count?delete h[f]:delete a.__transition__;return 1}var p=a.__data__,q=k.ease,r=k.event,t=k.delay,s=k.duration,w=[];return t<=e?g(e):C.timer(g,t,l),1},0,l);return k}}function Me(a,c){a.attr("transform",function(a){return"translate("+c(a)+",0)"})}function Ne(a,c){a.attr("transform",function(a){return"translate(0,"+c(a)+")"})}function og(a,c,e){f=[];if(e&&1<c.length){a=Wb(a.domain());
for(var f,g=-1,h=c.length,k=(c[1]-c[0])/++e,l,m;++g<h;)for(l=e;0<--l;)(m=+c[g]-l*k)>=a[0]&&f.push(m);--g;for(l=0;++l<e&&(m=+c[g]+l*k)<a[1];)f.push(m)}return f}function Db(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Eb(a,c,e){function f(c){var e=a(c),g=h(e,1);return c-e<g-c?e:g}function g(e){c(e=a(new Ha(e-1)),1);return e}function h(a,e){c(a=new Ha(+a),e);return a}function k(a,f,h){a=g(a);var l=[];if(1<h)for(;a<f;)e(a)%h||l.push(new Date(+a)),c(a,1);else for(;a<
f;)l.push(new Date(+a)),c(a,1);return l}a.floor=a;a.round=f;a.ceil=g;a.offset=h;a.range=k;var l=a.utc=Pc(a);l.floor=l;l.round=Pc(f);l.ceil=Pc(g);l.offset=Pc(h);l.range=function(a,c,e){try{Ha=Db;var f=new Db;f._=a;return k(f,c,e)}finally{Ha=Date}};return a}function Pc(a){return function(c,e){try{Ha=Db;var f=new Db;f._=c;return a(f,e)._}finally{Ha=Date}}}function Qc(a,c,e,f){for(var g,h=0,k=c.length,l=e.length;h<k;){if(f>=l)return-1;g=c.charCodeAt(h++);if(37===g){if(g=pg[c.charAt(h++)],!g||0>(f=g(a,
e,f)))return-1}else if(g!=e.charCodeAt(f++))return-1}return f}function Rc(a){return RegExp("^(?:"+a.map(C.requote).join("|")+")","i")}function Oe(a){for(var c=new e,f=-1,g=a.length;++f<g;)c.set(a[f].toLowerCase(),f);return c}function Oa(a,c,e){a+="";var f=a.length;return f<e?Array(e-f+1).join(c)+a:a}function Pe(a,c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+2)))?(a.d=+c[0],e+c[0].length):-1}function Qe(a,c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+2)))?(a.H=+c[0],e+c[0].length):-1}
function yd(a){return a.toISOString()}function zd(a,c,e){function f(c){return a(c)}f.invert=function(c){return Ad(a.invert(c))};f.domain=function(c){if(!arguments.length)return a.domain().map(Ad);a.domain(c);return f};f.nice=function(a){return f.domain(wc(f.domain(),function(){return a}))};f.ticks=function(e,g){var h,k=f.domain();h=k[0];k=k[k.length-1];h=h<k?[h,k]:[k,h];if("function"!==typeof e){var k=(h[1]-h[0])/e,l=C.bisect(Sc,k);if(l==Sc.length)return c.year(h,e);if(!l)return a.ticks(e).map(Ad);
Math.log(k/Sc[l-1])<Math.log(Sc[l]/k)&&--l;e=c[l];g=e[1];e=e[0].range}return e(h[0],new Date(+h[1]+1),g)};f.tickFormat=function(){return e};f.copy=function(){return zd(a.copy(),c,e)};return C.rebind(f,a,"range","rangeRound","interpolate","clamp")}function Ad(a){return new Date(a)}function Re(a){return function(c){for(var e=a.length-1,f=a[e];!f[1](c);)f=a[--e];return f[0](c)}}function Bd(a){var c=new Date(a,0,1);c.setFullYear(a);return c}function qg(a){var c=a.getFullYear(),e=Bd(c),f=Bd(c+1);return c+
(a-e)/(f-e)}function Cd(a){var c=new Date(Date.UTC(a,0,1));c.setUTCFullYear(a);return c}function rg(a){var c=a.getUTCFullYear(),e=Cd(c),f=Cd(c+1);return c+(a-e)/(f-e)}function sg(a){return a.responseText}function tg(a){return JSON.parse(a.responseText)}function ug(a){var c=Na.createRange();c.selectNode(Na.body);return c.createContextualFragment(a.responseText)}function vg(a){return a.responseXML}var C={version:"3.1.5"};Date.now||(Date.now=function(){return+new Date});var Na=document,Ga=window;try{Na.createElement("div").style.setProperty("opacity",
0,"")}catch($g){var Se=Ga.CSSStyleDeclaration.prototype,wg=Se.setProperty;Se.setProperty=function(a,c,e){wg.call(this,a,c+"",e)}}C.ascending=function(a,c){return a<c?-1:a>c?1:a>=c?0:NaN};C.descending=function(a,c){return c<a?-1:c>a?1:c>=a?0:NaN};C.min=function(a,c){var e=-1,f=a.length,g,h;if(1===arguments.length){for(;++e<f&&(null==(g=a[e])||g!=g);)g=void 0;for(;++e<f;)null!=(h=a[e])&&g>h&&(g=h)}else{for(;++e<f&&(null==(g=c.call(a,a[e],e))||g!=g);)g=void 0;for(;++e<f;)null!=(h=c.call(a,a[e],e))&&
g>h&&(g=h)}return g};C.max=function(a,c){var e=-1,f=a.length,g,h;if(1===arguments.length){for(;++e<f&&(null==(g=a[e])||g!=g);)g=void 0;for(;++e<f;)null!=(h=a[e])&&h>g&&(g=h)}else{for(;++e<f&&(null==(g=c.call(a,a[e],e))||g!=g);)g=void 0;for(;++e<f;)null!=(h=c.call(a,a[e],e))&&h>g&&(g=h)}return g};C.extent=function(a,c){var e=-1,f=a.length,g,h,k;if(1===arguments.length){for(;++e<f&&(null==(g=k=a[e])||g!=g);)g=k=void 0;for(;++e<f;)null!=(h=a[e])&&(g>h&&(g=h),k<h&&(k=h))}else{for(;++e<f&&(null==(g=k=
c.call(a,a[e],e))||g!=g);)g=void 0;for(;++e<f;)null!=(h=c.call(a,a[e],e))&&(g>h&&(g=h),k<h&&(k=h))}return[g,k]};C.sum=function(a,c){var e=0,f=a.length,g,h=-1;if(1===arguments.length)for(;++h<f;)isNaN(g=+a[h])||(e+=g);else for(;++h<f;)isNaN(g=+c.call(a,a[h],h))||(e+=g);return e};C.mean=function(c,e){var f=c.length,g,h=0,k=-1,l=0;if(1===arguments.length)for(;++k<f;)a(g=c[k])&&(h+=(g-h)/++l);else for(;++k<f;)a(g=e.call(c,c[k],k))&&(h+=(g-h)/++l);return l?h:void 0};C.quantile=function(a,c){var e=(a.length-
1)*c+1,f=Math.floor(e),g=+a[f-1];return(e-=f)?g+e*(a[f]-g):g};C.median=function(c,e){1<arguments.length&&(c=c.map(e));c=c.filter(a);return c.length?C.quantile(c.sort(C.ascending),0.5):void 0};C.bisector=function(a){return{left:function(c,e,f,g){3>arguments.length&&(f=0);4>arguments.length&&(g=c.length);for(;f<g;){var h=f+g>>>1;a.call(c,c[h],h)<e?f=h+1:g=h}return f},right:function(c,e,f,g){3>arguments.length&&(f=0);4>arguments.length&&(g=c.length);for(;f<g;){var h=f+g>>>1;e<a.call(c,c[h],h)?g=h:f=
h+1}return f}}};var Te=C.bisector(function(a){return a});C.bisectLeft=Te.left;C.bisect=C.bisectRight=Te.right;C.shuffle=function(a){for(var c=a.length,e,f;c;)f=Math.random()*c--|0,e=a[c],a[c]=a[f],a[f]=e;return a};C.permute=function(a,c){for(var e=[],f=-1,g=c.length;++f<g;)e[f]=a[c[f]];return e};C.zip=function(){if(!(h=arguments.length))return[];for(var a=-1,c=C.min(arguments,f),e=Array(c);++a<c;)for(var g=-1,h,k=e[a]=Array(h);++g<h;)k[g]=arguments[g][a];return e};C.transpose=function(a){return C.zip.apply(C,
a)};C.keys=function(a){var c=[],e;for(e in a)c.push(e);return c};C.values=function(a){var c=[],e;for(e in a)c.push(a[e]);return c};C.entries=function(a){var c=[],e;for(e in a)c.push({key:e,value:a[e]});return c};C.merge=function(a){return Array.prototype.concat.apply([],a)};C.range=function(a,c,e){3>arguments.length&&(e=1,2>arguments.length&&(c=a,a=0));if(Infinity===(c-a)/e)throw Error("infinite range");var f=[],g;g=Math.abs(e);for(var h=1;g*h%1;)h*=10;g=h;var h=-1,k;a*=g;c*=g;e*=g;if(0>e)for(;(k=
a+e*++h)>c;)f.push(k/g);else for(;(k=a+e*++h)<c;)f.push(k/g);return f};C.map=function(a){var c=new e,f;for(f in a)c.set(f,a[f]);return c};c(e,{has:function(a){return sb+a in this},get:function(a){return this[sb+a]},set:function(a,c){return this[sb+a]=c},remove:function(a){a=sb+a;return a in this&&delete this[a]},keys:function(){var a=[];this.forEach(function(c){a.push(c)});return a},values:function(){var a=[];this.forEach(function(c,e){a.push(e)});return a},entries:function(){var a=[];this.forEach(function(c,
e){a.push({key:c,value:e})});return a},forEach:function(a){for(var c in this)c.charCodeAt(0)===Ue&&a.call(this,c.substring(1),this[c])}});var sb="\x00",Ue=sb.charCodeAt(0);C.nest=function(){function a(c,h,m){if(m>=g.length)return l?l.call(f,h):k?h.sort(k):h;for(var n=-1,p=h.length,q=g[m++],r,t,s=new e,w;++n<p;)(w=s.get(r=q(t=h[n])))?w.push(t):s.set(r,[t]);c?(t=c(),h=function(e,f){t.set(e,a(c,f,m))}):(t={},h=function(e,f){t[e]=a(c,f,m)});s.forEach(h);return t}function c(a,e){if(e>=g.length)return a;
var f=[],k=h[e++];a.forEach(function(a,g){f.push({key:a,values:c(g,e)})});return k?f.sort(function(a,c){return k(a.key,c.key)}):f}var f={},g=[],h=[],k,l;f.map=function(c,e){return a(e,c,0)};f.entries=function(e){return c(a(C.map,e,0),0)};f.key=function(a){g.push(a);return f};f.sortKeys=function(a){h[g.length-1]=a;return f};f.sortValues=function(a){k=a;return f};f.rollup=function(a){l=a;return f};return f};C.set=function(a){var c=new h;if(a)for(var e=0;e<a.length;e++)c.add(a[e]);return c};c(h,{has:function(a){return sb+
a in this},add:function(a){this[sb+a]=!0;return a},remove:function(a){a=sb+a;return a in this&&delete this[a]},values:function(){var a=[];this.forEach(function(c){a.push(c)});return a},forEach:function(a){for(var c in this)c.charCodeAt(0)===Ue&&a.call(this,c.substring(1))}});C.behavior={};C.rebind=function(a,c){for(var e=1,f=arguments.length,h;++e<f;)a[h=arguments[e]]=g(a,c,c[h]);return a};C.dispatch=function(){for(var a=new l,c=-1,e=arguments.length;++c<e;)a[arguments[c]]=m(a);return a};l.prototype.on=
function(a,c){var e=a.indexOf("."),f="";0<=e&&(f=a.substring(e+1),a=a.substring(0,e));if(a)return 2>arguments.length?this[a].on(f):this[a].on(f,c);if(2===arguments.length){if(null==c)for(a in this)if(this.hasOwnProperty(a))this[a].on(f,null);return this}};C.event=null;C.mouse=function(a){return u(a,q())};var rd=/WebKit/.test(Ga.navigator.userAgent)?-1:0,pb=function(a){return Array.prototype.slice.call(a)};try{pb(Na.documentElement.childNodes)[0].nodeType}catch(ah){pb=x}var sd=[].__proto__?function(a,
c){a.__proto__=c}:function(a,c){for(var e in c)a[e]=c[e]};C.touches=function(a,c){2>arguments.length&&(c=q().touches);return c?pb(c).map(function(c){var e=u(a,c);e.identifier=c.identifier;return e}):[]};C.behavior.drag=function(){function a(){this.on("mousedown.drag",c).on("touchstart.drag",c)}function c(){function a(){var c=h.parentNode;return null!=m?C.touches(c).filter(function(a){return a.identifier===m})[0]:C.mouse(c)}function g(){k({type:"dragend"});fa&&(n(),C.event.target===l&&r(t,"click"));
t.on(null!=m?"touchmove.drag-"+m:"mousemove.drag",null).on(null!=m?"touchend.drag-"+m:"mouseup.drag",null)}var h=this,k=e.of(h,arguments),l=C.event.target,m=C.event.touches?C.event.changedTouches[0].identifier:null,p,q=a(),fa=0,t=C.select(Ga).on(null!=m?"touchmove.drag-"+m:"mousemove.drag",function(){if(!h.parentNode)return g();var c=a(),e=c[0]-q[0],f=c[1]-q[1];fa=fa|e|f;q=c;n();k({type:"drag",x:c[0]+p[0],y:c[1]+p[1],dx:e,dy:f})}).on(null!=m?"touchend.drag-"+m:"mouseup.drag",g,!0);f?(p=f.apply(h,
arguments),p=[p.x-q[0],p.y-q[1]]):p=[0,0];null==m&&n();k({type:"dragstart"})}var e=s(a,"drag","dragstart","dragend"),f=null;a.origin=function(c){if(!arguments.length)return f;f=c;return a};return C.rebind(a,e,"on")};var qe=function(a,c){return c.querySelector(a)},re=function(a,c){return c.querySelectorAll(a)},Ob=Na.documentElement,xg=Ob.matchesSelector||Ob.webkitMatchesSelector||Ob.mozMatchesSelector||Ob.msMatchesSelector||Ob.oMatchesSelector,se=function(a,c){return xg.call(a,c)};"function"===typeof Sizzle&&
(qe=function(a,c){return Sizzle(a,c)[0]||null},re=function(a,c){return Sizzle.uniqueSort(Sizzle(a,c))},se=Sizzle.matchesSelector);var ta=[];C.selection=function(){return mc};C.selection.prototype=ta;ta.select=function(a){var c=[],e,f,g,h;"function"!==typeof a&&(a=y(a));for(var k=-1,l=this.length;++k<l;){c.push(e=[]);e.parentNode=(g=this[k]).parentNode;for(var m=-1,n=g.length;++m<n;)(h=g[m])?(e.push(f=a.call(h,h.__data__,m)),f&&"__data__"in h&&(f.__data__=h.__data__)):e.push(null)}return v(c)};ta.selectAll=
function(a){var c=[],e,f;"function"!==typeof a&&(a=z(a));for(var g=-1,h=this.length;++g<h;)for(var k=this[g],l=-1,m=k.length;++l<m;)if(f=k[l])c.push(e=pb(a.call(f,f.__data__,l))),e.parentNode=f;return v(c)};var Dd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};C.ns={prefix:Dd,qualify:function(a){var c=a.indexOf(":"),e=a;0<=c&&(e=a.substring(0,c),a=a.substring(c+
1));return Dd.hasOwnProperty(e)?{space:Dd[e],local:a}:a}};ta.attr=function(a,c){if(2>arguments.length){if("string"===typeof a){var e=this.node();a=C.ns.qualify(a);return a.local?e.getAttributeNS(a.space,a.local):e.getAttribute(a)}for(c in a)this.each(k(c,a[c]));return this}return this.each(k(a,c))};C.requote=function(a){return a.replace(yg,"\\$&")};var yg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ta.classed=function(a,c){if(2>arguments.length){if("string"===typeof a){var e=this.node(),f=(a=a.trim().split(/^|\s+/g)).length,
g=-1;if(c=e.classList)for(;++g<f;){if(!c.contains(a[g]))return!1}else for(c=e.getAttribute("class");++g<f;)if(!w(a[g]).test(c))return!1;return!0}for(c in a)this.each(B(c,a[c]));return this}return this.each(B(a,c))};ta.style=function(a,c,e){var f=arguments.length;if(3>f){if("string"!==typeof a){2>f&&(c="");for(e in a)this.each(F(e,a[e],c));return this}if(2>f)return Ga.getComputedStyle(this.node(),null).getPropertyValue(a);e=""}return this.each(F(a,c,e))};ta.property=function(a,c){if(2>arguments.length){if("string"===
typeof a)return this.node()[a];for(c in a)this.each(K(c,a[c]));return this}return this.each(K(a,c))};ta.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var c=a.apply(this,arguments);this.textContent=null==c?"":c}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};ta.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var c=a.apply(this,arguments);this.innerHTML=null==c?"":c}:null==a?function(){this.innerHTML=
""}:function(){this.innerHTML=a}):this.node().innerHTML};ta.append=function(a){function c(){return this.appendChild(Na.createElementNS(this.namespaceURI,a))}function e(){return this.appendChild(Na.createElementNS(a.space,a.local))}a=C.ns.qualify(a);return this.select(a.local?e:c)};ta.insert=function(a,c){function e(f,g){return this.insertBefore(Na.createElementNS(this.namespaceURI,a),c.call(this,f,g))}function f(e,g){return this.insertBefore(Na.createElementNS(a.space,a.local),c.call(this,e,g))}a=
C.ns.qualify(a);"function"!==typeof c&&(c=y(c));return this.select(a.local?f:e)};ta.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})};ta.data=function(a,c){function f(a,g){var h,k=a.length,l=g.length,q=Math.min(k,l),r=Array(l),t=Array(l),fa=Array(k),s,w;if(c){var q=new e,u=new e,v=[],z;for(h=-1;++h<k;)z=c.call(s=a[h],s.__data__,h),q.has(z)?fa[h]=s:q.set(z,s),v.push(z);for(h=-1;++h<l;)z=c.call(g,w=g[h],h),(s=q.get(z))?(r[h]=s,s.__data__=w):u.has(z)||(t[h]=
{__data__:w}),u.set(z,w),q.remove(z);for(h=-1;++h<k;)q.has(v[h])&&(fa[h]=a[h])}else{for(h=-1;++h<q;)s=a[h],w=g[h],s?(s.__data__=w,r[h]=s):t[h]={__data__:w};for(;h<l;++h)t[h]={__data__:g[h]};for(;h<k;++h)fa[h]=a[h]}t.update=r;t.parentNode=r.parentNode=fa.parentNode=a.parentNode;m.push(t);n.push(r);p.push(fa)}var g=-1,h=this.length,k,l;if(!arguments.length){for(a=Array(h=(k=this[0]).length);++g<h;)if(l=k[g])a[g]=l.__data__;return a}var m=R([]),n=v([]),p=v([]);if("function"===typeof a)for(;++g<h;)f(k=
this[g],a.call(k,k.parentNode.__data__,g));else for(;++g<h;)f(k=this[g],a);n.enter=function(){return m};n.exit=function(){return p};return n};ta.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ta.filter=function(a){var c=[],e,f,g;"function"!==typeof a&&(a=A(a));for(var h=0,k=this.length;h<k;h++){c.push(e=[]);e.parentNode=(f=this[h]).parentNode;for(var l=0,m=f.length;l<m;l++)(g=f[l])&&a.call(g,g.__data__,l)&&e.push(g)}return v(c)};ta.order=function(){for(var a=
-1,c=this.length;++a<c;)for(var e=this[a],f=e.length-1,g=e[f],h;0<=--f;)if(h=e[f])g&&g!==h.nextSibling&&g.parentNode.insertBefore(h,g),g=h;return this};ta.sort=function(a){a=H.apply(this,arguments);for(var c=-1,e=this.length;++c<e;)this[c].sort(a);return this.order()};ta.on=function(a,c,e){var f=arguments.length;if(3>f){if("string"!==typeof a){2>f&&(c=!1);for(e in a)this.each(G(e,a[e],c));return this}if(2>f)return(f=this.node()["__on"+a])&&f._;e=!1}return this.each(G(a,c,e))};var td=C.map({mouseenter:"mouseover",
mouseleave:"mouseout"});td.forEach(function(a){"on"+a in Na&&td.remove(a)});ta.each=function(a){return N(this,function(c,e,f){a.call(c,c.__data__,e,f)})};ta.call=function(a){var c=pb(arguments);a.apply(c[0]=this,c);return this};ta.empty=function(){return!this.node()};ta.node=function(){for(var a=0,c=this.length;a<c;a++)for(var e=this[a],f=0,g=e.length;f<g;f++){var h=e[f];if(h)return h}return null};var Bb=[];C.selection.enter=R;C.selection.enter.prototype=Bb;Bb.append=ta.append;Bb.insert=ta.insert;
Bb.empty=ta.empty;Bb.node=ta.node;Bb.select=function(a){for(var c=[],e,f,g,h,k,l=-1,m=this.length;++l<m;){g=(h=this[l]).update;c.push(e=[]);e.parentNode=h.parentNode;for(var n=-1,p=h.length;++n<p;)(k=h[n])?(e.push(g[n]=f=a.call(h.parentNode,k.__data__,n)),f.__data__=k.__data__):e.push(null)}return v(c)};ta.transition=function(){var a=nc||++Ve,c=[],e,f,g=Object.create(Tc);g.time=Date.now();for(var h=-1,k=this.length;++h<k;){c.push(e=[]);for(var l=this[h],m=-1,n=l.length;++m<n;)(f=l[m])&&Oc(f,m,a,g),
e.push(f)}return lc(c,a)};var mc=v([[Na]]);mc[0].parentNode=Ob;C.select=function(a){return"string"===typeof a?mc.select(a):v([[a]])};C.selectAll=function(a){return"string"===typeof a?mc.selectAll(a):v([pb(a)])};C.behavior.zoom=function(){function a(){this.on("mousedown.zoom",k).on("mousemove.zoom",m).on(zg+".zoom",l).on("dblclick.zoom",p).on("touchstart.zoom",q).on("touchmove.zoom",t).on("touchend.zoom",q)}function c(a){return[(a[0]-w[0])/v,(a[1]-w[1])/v]}function e(a){v=Math.max(y[0],Math.min(y[1],
a))}function f(a,c){c=[c[0]*v+w[0],c[1]*v+w[1]];w[0]+=a[0]-c[0];w[1]+=a[1]-c[1]}function g(){B&&B.domain(x.range().map(function(a){return(a-w[0])/v}).map(x.invert));E&&E.domain(I.range().map(function(a){return(a-w[1])/v}).map(I.invert))}function h(a){g();C.event.preventDefault();a({type:"zoom",scale:v,translate:w})}function k(){var a=this,e=A.of(a,arguments),g=C.event.target,l=0,m=C.select(Ga).on("mousemove.zoom",function(){l=1;f(C.mouse(a),p);h(e)}).on("mouseup.zoom",function(){l&&n();m.on("mousemove.zoom",
null).on("mouseup.zoom",null);l&&C.event.target===g&&r(m,"click.zoom")}),p=c(C.mouse(a));Ga.focus();n()}function l(){u||(u=c(C.mouse(this)));e(Math.pow(2,0.002*Uc())*v);f(C.mouse(this),u);h(A.of(this,arguments))}function m(){u=null}function p(){var a=C.mouse(this),g=c(a),k=Math.log(v)/Math.LN2;e(Math.pow(2,C.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));f(a,g);h(A.of(this,arguments))}function q(){var a=C.touches(this),g=Date.now();z=v;u={};a.forEach(function(a){u[a.identifier]=c(a)});n();if(1===
a.length){if(500>g-G){var k=a[0],a=c(a[0]);e(2*v);f(k,a);h(A.of(this,arguments))}G=g}}function t(){var a=C.touches(this),c=a[0],g=u[c.identifier];if(a=a[1]){var k=u[a.identifier],c=[(c[0]+a[0])/2,(c[1]+a[1])/2],g=[(g[0]+k[0])/2,(g[1]+k[1])/2];e(C.event.scale*z)}f(c,g);G=null;h(A.of(this,arguments))}var w=[0,0],u,v=1,z,y=We,A=s(a,"zoom"),x,B,I,E,G;a.translate=function(c){if(!arguments.length)return w;w=c.map(Number);g();return a};a.scale=function(c){if(!arguments.length)return v;v=+c;g();return a};
a.scaleExtent=function(c){if(!arguments.length)return y;y=null==c?We:c.map(Number);return a};a.x=function(c){if(!arguments.length)return B;B=c;x=c.copy();w=[0,0];v=1;return a};a.y=function(c){if(!arguments.length)return E;E=c;I=c.copy();w=[0,0];v=1;return a};return C.rebind(a,A,"on")};var We=[0,Infinity],Uc,zg="onwheel"in Na?(Uc=function(){return-C.event.deltaY*(C.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Na?(Uc=function(){return C.event.wheelDelta},"mousewheel"):(Uc=function(){return-C.event.detail},
"MozMousePixelScroll");L.prototype.toString=function(){return this.rgb()+""};C.hsl=function(a,c,e){return 1===arguments.length?a instanceof P?O(a.h,a.s,a.l):qa(""+a,ra,O):O(+a,+c,+e)};var Ed=P.prototype=new L;Ed.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return O(this.h,this.s,this.l/a)};Ed.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return O(this.h,this.s,a*this.l)};Ed.rgb=function(){return I(this.h,this.s,this.l)};var ea=Math.PI,la=1E-6,ja=ea/180,ya=180/ea;C.hcl=function(a,
c,e){return 1===arguments.length?a instanceof X?M(a.h,a.c,a.l):a instanceof ba?V(a.l,a.a,a.b):V((a=ia((a=C.rgb(a)).r,a.g,a.b)).l,a.a,a.b):M(+a,+c,+e)};var Fd=X.prototype=new L;Fd.brighter=function(a){return M(this.h,this.c,Math.min(100,this.l+Vc*(arguments.length?a:1)))};Fd.darker=function(a){return M(this.h,this.c,Math.max(0,this.l-Vc*(arguments.length?a:1)))};Fd.rgb=function(){return S(this.h,this.c,this.l).rgb()};C.lab=function(a,c,e){return 1===arguments.length?a instanceof ba?Z(a.l,a.a,a.b):
a instanceof X?S(a.l,a.c,a.h):ia((a=C.rgb(a)).r,a.g,a.b):Z(+a,+c,+e)};var Vc=18,te=0.95047,ue=1,ve=1.08883,Gd=ba.prototype=new L;Gd.brighter=function(a){return Z(Math.min(100,this.l+Vc*(arguments.length?a:1)),this.a,this.b)};Gd.darker=function(a){return Z(Math.max(0,this.l-Vc*(arguments.length?a:1)),this.a,this.b)};Gd.rgb=function(){return Y(this.l,this.a,this.b)};C.rgb=function(a,c,e){return 1===arguments.length?a instanceof ha?t(a.r,a.g,a.b):qa(""+a,t,I):t(~~a,~~c,~~e)};var Wc=ha.prototype=new L;
Wc.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var c=this.r,e=this.g,f=this.b;if(!c&&!e&&!f)return t(30,30,30);c&&30>c&&(c=30);e&&30>e&&(e=30);f&&30>f&&(f=30);return t(Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(e/a)),Math.min(255,Math.floor(f/a)))};Wc.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return t(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))};Wc.hsl=function(){return ra(this.r,this.g,this.b)};Wc.toString=function(){return"#"+ka(this.r)+
ka(this.g)+ka(this.b)};var Gc=C.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",
darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",
gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",
lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Gc.forEach(function(a,c){Gc.set(a,qa(c,t,I))});C.functor=da;C.xhr=function(a,c,e){function f(){var a=
m.status;!a&&m.responseText||200<=a&&300>a||304===a?h.load.call(g,l.call(g,m)):h.error.call(g,m)}var g={},h=C.dispatch("progress","load","error"),k={},l=sa,m=new (Ga.XDomainRequest&&/^(http(s)?:)?\/\//.test(a)?XDomainRequest:XMLHttpRequest);"onload"in m?m.onload=m.onerror=f:m.onreadystatechange=function(){3<m.readyState&&f()};m.onprogress=function(a){var c=C.event;C.event=a;try{h.progress.call(g,m)}finally{C.event=c}};g.header=function(a,c){a=(a+"").toLowerCase();if(2>arguments.length)return k[a];
null==c?delete k[a]:k[a]=c+"";return g};g.mimeType=function(a){if(!arguments.length)return c;c=null==a?null:a+"";return g};g.response=function(a){l=a;return g};["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(pb(arguments)))}});g.send=function(e,f,h){2===arguments.length&&"function"===typeof f&&(h=f,f=null);m.open(e,a,!0);null==c||"accept"in k||(k.accept=c+",*/*");if(m.setRequestHeader)for(var l in k)m.setRequestHeader(l,k[l]);null!=c&&m.overrideMimeType&&m.overrideMimeType(c);
if(null!=h)g.on("error",h).on("load",function(a){h(null,a)});m.send(null==f?null:f);return g};g.abort=function(){m.abort();return g};C.rebind(g,h,"on");2===arguments.length&&"function"===typeof c&&(e=c,c=null);return null==e?g:g.get(ma(e))};C.csv=ua(",","text/csv");C.tsv=ua("\t","text/tab-separated-values");var Ag=0,ud={},Mb=null,Ic,Hc;C.timer=function(a,c,e){if(3>arguments.length){if(2>arguments.length)c=0;else if(!isFinite(c))return;e=Date.now()}var f=ud[a.id];f&&f.callback===a?(f.then=e,f.delay=
c):ud[a.id=++Ag]=Mb={callback:a,then:e,delay:c,next:Mb};Ic||(Hc=clearTimeout(Hc),Ic=1,we(Sa))};C.timer.flush=function(){for(var a,c=Date.now(),e=Mb;e;)a=c-e.then,e.delay||(e.flush=e.callback(a)),e=e.next;na()};var we=Ga.requestAnimationFrame||Ga.webkitRequestAnimationFrame||Ga.mozRequestAnimationFrame||Ga.oRequestAnimationFrame||Ga.msRequestAnimationFrame||function(a){setTimeout(a,17)},Xc=[3,3],Bg="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,c){var e=Math.pow(10,3*Math.abs(8-
c));return{scale:8<c?function(a){return a/e}:function(a){return a*e},symbol:a}});C.formatPrefix=function(a,c){var e=0;a&&(0>a&&(a*=-1),c&&(a=C.round(a,va(a,c))),e=1+Math.floor(1E-12+Math.log(a)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3))));return Bg[8+e/3]};C.round=function(a,c){return c?Math.round(a*(c=Math.pow(10,c)))/c:Math.round(a)};C.format=function(a){a=Be.exec(a);var c=a[1]||" ",e=a[2]||">",f=a[3]||"",g=a[4]||"",h=a[5],k=+a[6],l=a[7],m=a[8],n=a[9],p=1,q="",r=!1;m&&
(m=+m.substring(1));if(h||"0"===c&&"="===e)h=c="0",e="=",l&&(k-=Math.floor((k-1)/4));switch(n){case "n":l=!0;n="g";break;case "%":p=100;q="%";n="f";break;case "p":p=100;q="%";n="r";break;case "b":case "o":case "x":case "X":g&&(g="0"+n.toLowerCase());case "c":case "d":r=!0;m=0;break;case "s":p=-1,n="r"}"#"===g&&(g="");"r"!=n||m||(n="g");if(null!=m)if("g"==n)m=Math.max(1,Math.min(21,m));else if("e"==n||"f"==n)m=Math.max(0,Math.min(20,m));var n=Cg.get(n)||La,t=h&&l;return function(a){if(r&&a%1)return"";
var w=0>a||0===a&&0>1/a?(a=-a,"-"):f;if(0>p){var s=C.formatPrefix(a,m);a=s.scale(a);q=s.symbol}else a*=p;a=n(a,m);!h&&l&&(a=Hd(a));var s=g.length+a.length+(t?0:w.length),fa=s<k?Array(s=k-s+1).join(c):"";t&&(a=Hd(fa+a));a.replace(".",".");w+=g;return("<"===e?w+a+fa:">"===e?fa+w+a:"^"===e?fa.substring(0,s>>=1)+w+a+fa.substring(s):w+(t?a:fa+a))+q}};var Be=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Cg=C.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},
o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,c){return a.toPrecision(c)},e:function(a,c){return a.toExponential(c)},f:function(a,c){return a.toFixed(c)},r:function(a,c){return(a=C.round(a,va(a,c))).toFixed(Math.max(0,Math.min(20,va(a*(1+1E-15),c))))}}),Hd=sa;if(Xc)var Dg=Xc.length,Hd=function(a){for(var c=a.lastIndexOf("."),e=0<=c?"."+a.substring(c+1):(c=a.length,""),f=[],g=0,h=Xc[0];0<c&&0<h;)f.push(a.substring(c-=
h,c+h)),h=Xc[g=(g+1)%Dg];return f.reverse().join(",")+e};C.geo={};C.geo.stream=function(a,c){if(a&&Xe.hasOwnProperty(a.type))Xe[a.type](a,c);else Da(a,c)};var Xe={Feature:function(a,c){Da(a.geometry,c)},FeatureCollection:function(a,c){for(var e=a.features,f=-1,g=e.length;++f<g;)Da(e[f].geometry,c)}},xe={Sphere:function(a,c){c.sphere()},Point:function(a,c){var e=a.coordinates;c.point(e[0],e[1])},MultiPoint:function(a,c){for(var e=a.coordinates,f=-1,g=e.length,h;++f<g;)h=e[f],c.point(h[0],h[1])},LineString:function(a,
c){ga(a.coordinates,c,0)},MultiLineString:function(a,c){for(var e=a.coordinates,f=-1,g=e.length;++f<g;)ga(e[f],c,0)},Polygon:function(a,c){oa(a.coordinates,c)},MultiPolygon:function(a,c){for(var e=a.coordinates,f=-1,g=e.length;++f<g;)oa(e[f],c)},GeometryCollection:function(a,c){for(var e=a.geometries,f=-1,g=e.length;++f<g;)Da(e[f],c)}};C.geo.area=function(a){Pb=0;C.geo.stream(a,qb);return Pb};var Pb,Jc,Kc,qb={sphere:function(){Pb+=4*ea},point:E,lineStart:E,lineEnd:E,polygonStart:function(){Jc=1;Kc=
0;qb.lineStart=ab},polygonEnd:function(){var a=2*Math.atan2(Kc,Jc);Pb+=0>a?4*ea+a:a;qb.lineStart=qb.lineEnd=qb.point=E}};C.geo.bounds=Ta(sa);C.geo.centroid=function(a){Fa=Wa=Aa=Ba=za=0;C.geo.stream(a,Xa);var c;if(Wa&&Math.abs(c=Math.sqrt(Aa*Aa+Ba*Ba+za*za))>la)return[Math.atan2(Ba,Aa)*ya,Math.asin(Math.max(-1,Math.min(1,za/c)))*ya]};var Fa,Wa,Aa,Ba,za,Xa={sphere:function(){2>Fa&&(Fa=2,Wa=Aa=Ba=za=0)},point:$a,lineStart:Ja,lineEnd:Fb,polygonStart:function(){2>Fa&&(Fa=2,Wa=Aa=Ba=za=0);Xa.lineStart=
Pa},polygonEnd:function(){Xa.lineStart=Ja}},ye=pc(Za,function(a){var c=NaN,e=NaN,f=NaN,g;return{lineStart:function(){a.lineStart();g=1},point:function(h,k){var l=0<h?ea:-ea,m=Math.abs(h-c);if(Math.abs(m-ea)<la)a.point(c,e=0<(e+k)/2?ea/2:-ea/2),a.point(f,e),a.lineEnd(),a.lineStart(),a.point(l,e),a.point(h,e),g=0;else if(f!==l&&m>=ea){Math.abs(c-f)<la&&(c-=f*la);Math.abs(h-l)<la&&(h-=l*la);var m=c,n=e,p=h,q,r,t=Math.sin(m-p);e=Math.abs(t)>la?Math.atan((Math.sin(n)*(r=Math.cos(k))*Math.sin(p)-Math.sin(k)*
(q=Math.cos(n))*Math.sin(m))/(q*r*t)):(n+k)/2;a.point(f,e);a.lineEnd();a.lineStart();a.point(l,e);g=0}a.point(c=h,e=k);f=l},lineEnd:function(){a.lineEnd();c=e=NaN},clean:function(){return 2-g}}},function(a,c,e,f){null==a?(e=e*ea/2,f.point(-ea,e),f.point(0,e),f.point(ea,e),f.point(ea,0),f.point(ea,-e),f.point(0,-e),f.point(-ea,-e),f.point(-ea,0),f.point(-ea,e)):Math.abs(a[0]-c[0])>la?(a=(a[0]<c[0]?1:-1)*ea,e=e*a/2,f.point(-a,e),f.point(0,e),f.point(a,e)):f.point(c[0],c[1])}),Lc=1E9;C.geo.projection=
cb;C.geo.projectionMutator=Yb;(C.geo.equirectangular=function(){return cb(nb)}).raw=nb.invert=nb;C.geo.rotation=function(a){function c(e){e=a(e[0]*ja,e[1]*ja);return e[0]*=ya,e[1]*=ya,e}a=bb(a[0]%360*ja,a[1]*ja,2<a.length?a[2]*ja:0);c.invert=function(c){c=a.invert(c[0]*ja,c[1]*ja);return c[0]*=ya,c[1]*=ya,c};return c};C.geo.circle=function(){function a(){var e="function"===typeof c?c.apply(this,arguments):c,f=bb(-e[0]*ja,-e[1]*ja,0).invert,h=[];g(null,null,1,{point:function(a,c){h.push(a=f(a,c));
a[0]*=ya;a[1]*=ya}});return{type:"Polygon",coordinates:[h]}}var c=[0,0],e,f=6,g;a.origin=function(e){if(!arguments.length)return c;c=e;return a};a.angle=function(c){if(!arguments.length)return e;g=$b((e=+c)*ja,f*ja);return a};a.precision=function(c){if(!arguments.length)return f;g=$b(e*ja,(f=+c)*ja);return a};return a.angle(90)};C.geo.distance=function(a,c){var e=(c[0]-a[0])*ja,f=a[1]*ja,g=c[1]*ja,h=Math.sin(e),e=Math.cos(e),k=Math.sin(f),f=Math.cos(f),l=Math.sin(g),g=Math.cos(g),m;return Math.atan2(Math.sqrt((m=
g*h)*m+(m=f*l-k*g*e)*m),k*l+f*g*e)};C.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return C.range(Math.ceil(h/r)*r,g,r).map(u).concat(C.range(Math.ceil(n/t)*t,m,t).map(v)).concat(C.range(Math.ceil(f/p)*p,e,p).filter(function(a){return Math.abs(a%r)>la}).map(w)).concat(C.range(Math.ceil(l/q)*q,k,q).filter(function(a){return Math.abs(a%t)>la}).map(s))}var e,f,g,h,k,l,m,n,p=10,q=p,r=90,t=360,w,s,u,v,z=2.5;a.lines=function(){return c().map(function(a){return{type:"LineString",
coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[u(h).concat(v(m).slice(1),u(g).reverse().slice(1),v(n).reverse().slice(1))]}};a.extent=function(c){return arguments.length?a.majorExtent(c).minorExtent(c):a.minorExtent()};a.majorExtent=function(c){if(!arguments.length)return[[h,n],[g,m]];h=+c[0][0];g=+c[1][0];n=+c[0][1];m=+c[1][1];h>g&&(c=h,h=g,g=c);n>m&&(c=n,n=m,m=c);return a.precision(z)};a.minorExtent=function(c){if(!arguments.length)return[[f,l],[e,k]];f=+c[0][0];e=+c[1][0];
l=+c[0][1];k=+c[1][1];f>e&&(c=f,f=e,e=c);l>k&&(c=l,l=k,k=c);return a.precision(z)};a.step=function(c){return arguments.length?a.majorStep(c).minorStep(c):a.minorStep()};a.majorStep=function(c){if(!arguments.length)return[r,t];r=+c[0];t=+c[1];return a};a.minorStep=function(c){if(!arguments.length)return[p,q];p=+c[0];q=+c[1];return a};a.precision=function(c){if(!arguments.length)return z;z=+c;w=ob(l,k,90);s=ac(f,e,z);u=ob(n,m,90);v=ac(h,g,z);return a};return a.majorExtent([[-180,-90+la],[180,90-la]]).minorExtent([[-180,
-80-la],[180,80+la]])};C.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[e||c.apply(this,arguments),g||f.apply(this,arguments)]}}var c=ib,e,f=bc,g;a.distance=function(){return C.geo.distance(e||c.apply(this,arguments),g||f.apply(this,arguments))};a.source=function(f){if(!arguments.length)return c;c=f;e="function"===typeof f?null:f;return a};a.target=function(c){if(!arguments.length)return f;f=c;g="function"===typeof c?null:c;return a};a.precision=function(){return arguments.length?
a:0};return a};C.geo.interpolate=function(a,c){return cc(a[0]*ja,a[1]*ja,c[0]*ja,c[1]*ja)};C.geo.length=function(a){Yc=0;C.geo.stream(a,Qb);return Yc};var Yc,Qb={sphere:E,point:E,lineStart:function(){function a(g,h){var k=Math.sin(h*=ja),l=Math.cos(h),m=Math.abs((g*=ja)-c),n=Math.cos(m);Yc+=Math.atan2(Math.sqrt((m=l*Math.sin(m))*m+(m=f*k-e*l*n)*m),e*k+f*l*n);c=g;e=k;f=l}var c,e,f;Qb.point=function(g,h){c=g*ja;e=Math.sin(h*=ja);f=Math.cos(h);Qb.point=a};Qb.lineEnd=function(){Qb.point=Qb.lineEnd=E}},
lineEnd:E,polygonStart:E,polygonEnd:E};(C.geo.conicEqualArea=function(){return dc(Jb)}).raw=Jb;C.geo.albersUsa=function(){function a(h){var k=h[0],l=h[1];return(50<l?e:-140>k?f:21>l?g:c)(h)}var c=C.geo.conicEqualArea().rotate([98,0]).center([0,38]).parallels([29.5,45.5]),e=C.geo.conicEqualArea().rotate([160,0]).center([0,60]).parallels([55,65]),f=C.geo.conicEqualArea().rotate([160,0]).center([0,20]).parallels([8,18]),g=C.geo.conicEqualArea().rotate([60,0]).center([0,10]).parallels([8,18]),h,k,l;a.invert=
function(a){return h(a)||k(a)||l(a)||c.invert(a)};a.scale=function(h){if(!arguments.length)return c.scale();c.scale(h);e.scale(0.6*h);f.scale(h);g.scale(1.5*h);return a.translate(c.translate())};a.translate=function(m){if(!arguments.length)return c.translate();var n=c.scale(),p=m[0],q=m[1];c.translate(m);e.translate([p-0.4*n,q+0.17*n]);f.translate([p-0.19*n,q+0.2*n]);g.translate([p+0.58*n,q+0.43*n]);h=xb(e,[[-180,50],[-130,72]]);k=xb(f,[[-164,18],[-154,24]]);l=xb(g,[[-67.5,17.5],[-65,19]]);return a};
return a.scale(1E3)};var Zc,Mc,rb={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Mc=0;rb.lineStart=jb},polygonEnd:function(){rb.lineStart=rb.lineEnd=rb.point=E;Zc+=Math.abs(Mc/2)}},Ya={point:ec,lineStart:fc,lineEnd:Dc,polygonStart:function(){Ya.lineStart=od},polygonEnd:function(){Ya.point=ec;Ya.lineStart=fc;Ya.lineEnd=Dc}};C.geo.path=function(){function a(e){e&&C.geo.stream(e,g(h.pointRadius("function"===typeof c?+c.apply(this,arguments):c)));return h.result()}var c=4.5,e,f,g,h;a.area=function(a){Zc=
0;C.geo.stream(a,g(rb));return Zc};a.centroid=function(a){Fa=Aa=Ba=za=0;C.geo.stream(a,g(Ya));return za?[Aa/za,Ba/za]:void 0};a.bounds=function(a){return Ta(g)(a)};a.projection=function(c){if(!arguments.length)return e;g=(e=c)?c.stream||Ec(c):sa;return a};a.context=function(c){if(!arguments.length)return f;h=null==(f=c)?new db:new pd(c);return a};a.pointRadius=function(e){if(!arguments.length)return c;c="function"===typeof e?e:+e;return a};return a.projection(C.geo.albersUsa()).context(null)};C.geo.albers=
function(){return C.geo.conicEqualArea().parallels([29.5,45.5]).rotate([98,0]).center([0,38]).scale(1E3)};var Ye=gb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(C.geo.azimuthalEqualArea=function(){return cb(Ye)}).raw=Ye;var Ze=gb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},sa);(C.geo.azimuthalEquidistant=function(){return cb(Ze)}).raw=Ze;(C.geo.conicConformal=function(){return dc(hc)}).raw=hc;(C.geo.conicEquidistant=function(){return dc(qd)}).raw=qd;var $e=
gb(function(a){return 1/a},Math.atan);(C.geo.gnomonic=function(){return cb($e)}).raw=$e;Kb.invert=function(a,c){return[a,2*Math.atan(Math.exp(c))-ea/2]};(C.geo.mercator=function(){return uc(Kb)}).raw=Kb;var af=gb(function(){return 1},Math.asin);(C.geo.orthographic=function(){return cb(af)}).raw=af;var bf=gb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(C.geo.stereographic=function(){return cb(bf)}).raw=bf;Lb.invert=function(a,c){var e=Math.atan2(W(a),Math.cos(c)),f=Math.sin(c),
g;g=(Math.exp(a)+Math.exp(-a))/2;f/=g;f=1<f?ea/2:-1>f?-ea/2:Math.asin(f);return[e,f]};(C.geo.transverseMercator=function(){return uc(Lb)}).raw=Lb;C.geom={};C.svg={};C.svg.line=function(){return Fc(sa)};var vd=C.map({linear:Ea,"linear-closed":function(a){return Ea(a)+"Z"},"step-before":ic,"step-after":kb,basis:jc,"basis-open":function(a){if(4>a.length)return Ea(a);for(var c=[],e=-1,f=a.length,g,h=[0],k=[0];3>++e;)g=a[e],h.push(g[0]),k.push(g[1]);c.push(Ra(Nb,h)+","+Ra(Nb,k));for(--e;++e<f;)g=a[e],
h.shift(),h.push(g[0]),k.shift(),k.push(g[1]),Ab(c,h,k);return c.join("")},"basis-closed":function(a){for(var c,e=-1,f=a.length,g=f+4,h,k=[],l=[];4>++e;)h=a[e%f],k.push(h[0]),l.push(h[1]);c=[Ra(Nb,k),",",Ra(Nb,l)];for(--e;++e<g;)h=a[e%f],k.shift(),k.push(h[0]),l.shift(),l.push(h[1]),Ab(c,k,l);return c.join("")},bundle:function(a,c){var e=a.length-1;if(e)for(var f=a[0][0],g=a[0][1],h=a[e][0]-f,k=a[e][1]-g,l=-1,m,n;++l<=e;)m=a[l],n=l/e,m[0]=c*m[0]+(1-c)*(f+n*h),m[1]=c*m[1]+(1-c)*(g+n*k);return jc(a)},
cardinal:function(a,c){return 3>a.length?Ea(a):a[0]+yb(a,zb(a,c))},"cardinal-open":function(a,c){return 4>a.length?Ea(a):a[1]+yb(a.slice(1,a.length-1),zb(a,c))},"cardinal-closed":function(a,c){return 3>a.length?Ea(a):a[0]+yb((a.push(a[0]),a),zb([a[a.length-2]].concat(a,[a[1]]),c))},monotone:function(a){if(3>a.length)a=Ea(a);else{var c=a[0],e=[],f,g,h,k;f=0;g=a.length-1;var l=[];h=a[1];for(k=l[0]=kc(a[0],h);++f<g;)l[f]=(k+(k=kc(h,h=a[f+1])))/2;l[f]=k;for(var m=-1,n=a.length-1;++m<n;)f=kc(a[m],a[m+
1]),1E-6>Math.abs(f)?l[m]=l[m+1]=0:(g=l[m]/f,h=l[m+1]/f,k=g*g+h*h,9<k&&(k=3*f/Math.sqrt(k),l[m]=k*g,l[m+1]=k*h));for(m=-1;++m<=n;)k=(a[Math.min(n,m+1)][0]-a[Math.max(0,m-1)][0])/(6*(1+l[m]*l[m])),e.push([k||0,l[m]*k||0]);a=c+yb(a,e)}return a}});vd.forEach(function(a,c){c.key=a;c.closed=/-closed$/.test(a)});var ze=[0,2/3,1/3,0],Ae=[0,1/3,2/3,0],Nb=[0,1/6,2/3,1/6];C.geom.hull=function(a){function c(a){if(3>a.length)return[];var g=da(e),h=da(f),k=a.length,l,m=k-1,n=[],p=[],q,r,t=0,w,s,u,v;if(g===Ua&&
f===Va)l=a;else for(r=0,l=[];r<k;++r)l.push([+g.call(this,q=a[r],r),+h.call(this,q,r)]);for(r=1;r<k;++r)l[r][1]<l[t][1]?t=r:l[r][1]==l[t][1]&&(t=l[r][0]<l[t][0]?r:t);for(r=0;r<k;++r)r!==t&&(h=l[r][1]-l[t][1],g=l[r][0]-l[t][0],n.push({angle:Math.atan2(h,g),index:r}));n.sort(function(a,c){return a.angle-c.angle});v=n[0].angle;u=n[0].index;s=0;for(r=1;r<m;++r)k=n[r].index,v==n[r].angle?(g=l[u][0]-l[t][0],h=l[u][1]-l[t][1],q=l[k][0]-l[t][0],w=l[k][1]-l[t][1],g*g+h*h>=q*q+w*w?n[r].index=-1:(n[s].index=
-1,v=n[r].angle,s=r,u=k)):(v=n[r].angle,s=r,u=k);p.push(t);for(k=r=0;2>r;++k)-1!==n[k].index&&(p.push(n[k].index),r++);for(t=p.length;k<m;++k)if(-1!==n[k].index){for(;!rf(p[t-2],p[t-1],n[k].index,l);)--t;p[t++]=n[k].index}l=[];for(r=0;r<t;++r)l.push(a[p[r]]);return l}var e=Ua,f=Va;if(arguments.length)return c(a);c.x=function(a){return arguments.length?(e=a,c):e};c.y=function(a){return arguments.length?(f=a,c):f};return c};C.geom.polygon=function(a){a.area=function(){for(var c=0,e=a.length,f=a[e-1][1]*
a[0][0]-a[e-1][0]*a[0][1];++c<e;)f+=a[c-1][1]*a[c][0]-a[c-1][0]*a[c][1];return 0.5*f};a.centroid=function(c){var e=-1,f=a.length,g=0,h=0,k,l=a[f-1],m;for(arguments.length||(c=-1/(6*a.area()));++e<f;)k=l,l=a[e],m=k[0]*l[1]-l[0]*k[1],g+=(k[0]+l[0])*m,h+=(k[1]+l[1])*m;return[g*c,h*c]};a.clip=function(c){for(var e,f=-1,g=a.length,h,k,l=a[g-1],m,n,p;++f<g;){e=c.slice();c.length=0;m=a[f];n=e[(k=e.length)-1];for(h=-1;++h<k;)p=e[h],cd(p,l,m)?(cd(n,l,m)||c.push(Md(n,p,l,m)),c.push(p)):cd(n,l,m)&&c.push(Md(n,
p,l,m)),n=p;l=m}return c};return a};C.geom.delaunay=function(a){var c=a.map(function(){return[]}),e=[];dd(a,function(e){c[e.region.l.index].push(a[e.region.r.index])});c.forEach(function(c,f){var g=a[f],h=g[0],k=g[1];c.forEach(function(a){a.angle=Math.atan2(a[0]-h,a[1]-k)});c.sort(function(a,c){return a.angle-c.angle});for(var l=0,m=c.length-1;l<m;l++)e.push([g,c[l],c[l+1]])});return e};C.geom.voronoi=function(a){function c(a){var e,k=a.map(function(){return[]}),l=da(f),m=da(g),n,p,q=a.length;if(l===
Ua&&m===Va)e=a;else for(e=[],p=0;p<q;++p)e.push([+l.call(this,n=a[p],p),+m.call(this,n,p)]);dd(e,function(a){var c,e,f,g;1===a.a&&0<=a.b?(c=a.ep.r,e=a.ep.l):(c=a.ep.l,e=a.ep.r);1===a.a?(f=c?c.y:-1E6,c=a.c-a.b*f,g=e?e.y:1E6,e=a.c-a.b*g):(c=c?c.x:-1E6,f=a.c-a.a*c,e=e?e.x:1E6,g=a.c-a.a*e);c=[c,f];e=[e,g];k[a.region.l.index].push(c,e);k[a.region.r.index].push(c,e)});k=k.map(function(a,c){var f=e[c][0],g=e[c][1],h=a.map(function(a){return Math.atan2(a[0]-f,a[1]-g)}),k=C.range(a.length).sort(function(a,
c){return h[a]-h[c]});return k.filter(function(a,c){return!c||h[a]-h[k[c-1]]>la}).map(function(c){return a[c]})});k.forEach(function(a,c){var f=a.length;if(!f)return a.push([-1E6,-1E6],[-1E6,1E6],[1E6,1E6],[1E6,-1E6]);if(!(2<f)){var g=e[c],h=a[0],k=a[1],f=g[0],g=g[1],l=h[0],h=h[1],m=k[0],n=k[1],p=Math.abs(m-l),k=n-h;Math.abs(k)<la?(f=g<h?-1E6:1E6,a.push([-1E6,f],[1E6,f])):p<la?(f=f<l?-1E6:1E6,a.push([f,-1E6],[f,1E6])):(f=(m-l)*(h-g)<(l-f)*(n-h)?1E6:-1E6,g=Math.abs(k)-p,Math.abs(g)<la?a.push([0>k?
f:-f,f]):(0<g&&(f*=-1),a.push([-1E6,f],[1E6,f])))}});if(h)for(p=0;p<q;++p)h(k[p]);for(p=0;p<q;++p)k[p].point=a[p];return k}var e=null,f=Ua,g=Va,h;if(arguments.length)return c(a);c.x=function(a){return arguments.length?(f=a,c):f};c.y=function(a){return arguments.length?(g=a,c):g};c.size=function(a){if(!arguments.length)return e;null==a?h=null:(e=[+a[0],+a[1]],h=C.geom.polygon([[0,0],[0,e[1]],e,[e[0],0]]).clip);return c};c.links=function(a){var c,e=a.map(function(){return[]}),h=[],k=da(f),l=da(g),m,
n,p=a.length;if(k===Ua&&l===Va)c=a;else for(n=0;n<p;++n)c.push([+k.call(this,m=a[n],n),+l.call(this,m,n)]);dd(c,function(c){var f=c.region.l.index;c=c.region.r.index;e[f][c]||(e[f][c]=e[c][f]=!0,h.push({source:a[f],target:a[c]}))});return h};c.triangles=function(a){if(f===Ua&&g===Va)return C.geom.delaunay(a);var c,e,h=da(f),k=da(g),l,m,n;m=0;c=[];for(n=a.length;m<n;++m)e=[+h.call(this,l=a[m],m),+k.call(this,l,m)],e.data=l,c.push(e);return C.geom.delaunay(c).map(function(a){return a.map(function(a){return a.data})})};
return c};var wd={l:"r",r:"l"};C.geom.quadtree=function(a,c,e,f,g){function h(a){function n(a,c,e,f,g,h,k,l){if(!isNaN(e)&&!isNaN(f))if(a.leaf){var m=a.x,q=a.y;if(null!=m){if(!(0.01>Math.abs(m-e)+Math.abs(q-f))){var r=a.point;a.x=a.y=a.point=null;p(a,r,m,q,g,h,k,l)}p(a,c,e,f,g,h,k,l)}else a.x=e,a.y=f,a.point=c}else p(a,c,e,f,g,h,k,l)}function p(a,c,e,f,g,h,k,l){var m=0.5*(g+k),q=0.5*(h+l),r=e>=m,t=f>=q,w=(t<<1)+r;a.leaf=!1;a=a.nodes[w]||(a.nodes[w]=Nd());r?g=m:k=m;t?h=q:l=q;n(a,c,e,f,g,h,k,l)}var q,
r=da(k),t=da(l),w,s,u,v,z,y,A,x;if(null!=c)z=c,y=e,A=f,x=g;else if(A=x=-(z=y=Infinity),w=[],s=[],v=a.length,m)for(u=0;u<v;++u)q=a[u],q.x<z&&(z=q.x),q.y<y&&(y=q.y),q.x>A&&(A=q.x),q.y>x&&(x=q.y),w.push(q.x),s.push(q.y);else for(u=0;u<v;++u){var B=+r(q=a[u],u);q=+t(q,u);B<z&&(z=B);q<y&&(y=q);B>A&&(A=B);q>x&&(x=q);w.push(B);s.push(q)}B=A-z;q=x-y;B>q?x=y+B:A=z+q;var fa=Nd();fa.add=function(a){n(fa,a,+r(a,++u),+t(a,u),z,y,A,x)};fa.visit=function(a){Vb(a,fa,z,y,A,x)};u=-1;if(null==c){for(;++u<v;)n(fa,a[u],
w[u],s[u],z,y,A,x);--u}else a.forEach(fa.add);w=s=a=q=null;return fa}var k=Ua,l=Va,m;if(m=arguments.length)return k=sf,l=tf,3===m&&(g=e,f=c,e=c=0),h(a);h.x=function(a){return arguments.length?(k=a,h):k};h.y=function(a){return arguments.length?(l=a,h):l};h.size=function(a){if(!arguments.length)return null==c?null:[f,g];null==a?c=e=f=g=null:(c=e=0,f=+a[0],g=+a[1]);return h};return h};C.interpolateRgb=ed;C.transform=function(a){var c=Na.createElementNS(C.ns.prefix.svg,"g");return(C.transform=function(a){c.setAttribute("transform",
a);a=c.transform.baseVal.consolidate();return new Od(a?a.matrix:Eg)})(a)};Od.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Eg={a:1,b:0,c:0,d:1,e:0,f:0};C.interpolateNumber=fb;C.interpolateTransform=tc;C.interpolateObject=xc;C.interpolateString=Zd;var Nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;C.interpolate=vb;C.interpolators=[function(a,c){var e=typeof c;return("string"===e||e!==typeof a?Gc.has(c)||/^(#|rgb\(|hsl\()/.test(c)?
ed:Zd:c instanceof L?ed:"object"===e?Array.isArray(c)?$d:xc:fb)(a,c)}];C.interpolateArray=$d;var cf=function(){return sa},Fg=C.map({linear:cf,poly:function(a){return function(c){return Math.pow(c,a)}},quad:function(){return Af},cubic:function(){return Hf},sin:function(){return Qf},exp:function(){return Rf},circle:function(){return Df},elastic:function(a,c){var e;2>arguments.length&&(c=0.45);arguments.length?e=c/(2*ea)*Math.asin(1/a):(a=1,e=c/4);return function(f){return 1+a*Math.pow(2,10*-f)*Math.sin(2*
(f-e)*ea/c)}},back:function(a){a||(a=1.70158);return function(c){return c*c*((a+1)*c-a)}},bounce:function(){return Sf}}),Gg=C.map({"in":sa,out:ee,"in-out":he,"out-in":function(a){return he(ee(a))}});C.ease=function(a){var c=a.indexOf("-"),e=0<=c?a.substring(0,c):a,c=0<=c?a.substring(c+1):"in",e=Fg.get(e)||cf,c=Gg.get(c)||sa;return Of(c(e.apply(null,Array.prototype.slice.call(arguments,1))))};C.interpolateHcl=function(a,c){a=C.hcl(a);c=C.hcl(c);var e=a.h,f=a.c,g=a.l,h=c.h-e,k=c.c-f,l=c.l-g;180<h?h-=
360:-180>h&&(h+=360);return function(a){return S(e+h*a,f+k*a,g+l*a)+""}};C.interpolateHsl=function(a,c){a=C.hsl(a);c=C.hsl(c);var e=a.h,f=a.s,g=a.l,h=c.h-e,k=c.s-f,l=c.l-g;180<h?h-=360:-180>h&&(h+=360);return function(a){return I(e+h*a,f+k*a,g+l*a)+""}};C.interpolateLab=function(a,c){a=C.lab(a);c=C.lab(c);var e=a.l,f=a.a,g=a.b,h=c.l-e,k=c.a-f,l=c.b-g;return function(a){return Y(e+h*a,f+k*a,g+l*a)+""}};C.interpolateRound=Yd;C.layout={};C.layout.bundle=function(){return function(a){for(var c=[],e=-1,
f=a.length;++e<f;)c.push(Uf(a[e]));return c}};C.layout.chord=function(){function a(){var e={},q=[],r=C.range(k),t=[],w,s,u,v,z;f=[];g=[];w=0;for(v=-1;++v<k;){s=0;for(z=-1;++z<k;)s+=h[v][z];q.push(s);t.push(C.range(k));w+=s}m&&r.sort(function(a,c){return m(q[a],q[c])});n&&t.forEach(function(a,c){a.sort(function(a,e){return n(h[c][a],h[c][e])})});w=(2*ea-l*k)/w;s=0;for(v=-1;++v<k;){u=s;for(z=-1;++z<k;){var y=r[v],A=t[y][z],x=h[y][A],B=s,I=s+=x*w;e[y+"-"+A]={index:y,subindex:A,startAngle:B,endAngle:I,
value:x}}g[y]={index:y,startAngle:u,endAngle:s,value:(s-u)/w};s+=l}for(v=-1;++v<k;)for(z=v-1;++z<k;)r=e[v+"-"+z],t=e[z+"-"+v],(r.value||t.value)&&f.push(r.value<t.value?{source:t,target:r}:{source:r,target:t});p&&c()}function c(){f.sort(function(a,c){return p((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var e={},f,g,h,k,l=0,m,n,p;e.matrix=function(a){if(!arguments.length)return h;k=(h=a)&&h.length;f=g=null;return e};e.padding=function(a){if(!arguments.length)return l;l=a;
f=g=null;return e};e.sortGroups=function(a){if(!arguments.length)return m;m=a;f=g=null;return e};e.sortSubgroups=function(a){if(!arguments.length)return n;n=a;f=null;return e};e.sortChords=function(a){if(!arguments.length)return p;p=a;f&&c();return e};e.chords=function(){f||a();return f};e.groups=function(){g||a();return g};return e};C.layout.force=function(){function a(c){return function(a,e,f,g){if(a.point!==c){f=a.cx-c.x;var h=a.cy-c.y,k=1/Math.sqrt(f*f+h*h);if((g-e)*k<r)return e=a.charge*k*k,
c.px-=f*e,c.py-=h*e,!0;a.point&&isFinite(k)&&(e=a.pointCharge*k*k,c.px-=f*e,c.py-=h*e)}return!a.charge}}function c(a){a.px=C.event.x;a.py=C.event.y;e.resume()}var e={},f=C.dispatch("start","tick","end"),g=[1,1],h,k,l=0.9,m=Hg,n=Ig,p=-30,q=0.1,r=0.8,t=[],s=[],w,u,v;e.tick=function(){if(0.005>(k*=0.99))return f.end({type:"end",alpha:k=0}),!0;var c=t.length,e=s.length,h,m,n,r,z,y,A;for(h=0;h<e;++h)if(m=s[h],n=m.source,r=m.target,y=r.x-n.x,A=r.y-n.y,z=y*y+A*A)z=k*u[h]*((z=Math.sqrt(z))-w[h])/z,y*=z,A*=
z,r.x-=y*(z=n.weight/(r.weight+n.weight)),r.y-=A*z,n.x+=y*(z=1-z),n.y+=A*z;if(z=k*q)if(y=g[0]/2,A=g[1]/2,h=-1,z)for(;++h<c;)m=t[h],m.x+=(y-m.x)*z,m.y+=(A-m.y)*z;if(p)for(ie(e=C.geom.quadtree(t),k,v),h=-1;++h<c;)(m=t[h]).fixed||e.visit(a(m));for(h=-1;++h<c;)m=t[h],m.fixed?(m.x=m.px,m.y=m.py):(m.x-=(m.px-(m.px=m.x))*l,m.y-=(m.py-(m.py=m.y))*l);f.tick({type:"tick",alpha:k})};e.nodes=function(a){if(!arguments.length)return t;t=a;return e};e.links=function(a){if(!arguments.length)return s;s=a;return e};
e.size=function(a){if(!arguments.length)return g;g=a;return e};e.linkDistance=function(a){if(!arguments.length)return m;m="function"===typeof a?a:+a;return e};e.distance=e.linkDistance;e.linkStrength=function(a){if(!arguments.length)return n;n="function"===typeof a?a:+a;return e};e.friction=function(a){if(!arguments.length)return l;l=+a;return e};e.charge=function(a){if(!arguments.length)return p;p="function"===typeof a?a:+a;return e};e.gravity=function(a){if(!arguments.length)return q;q=+a;return e};
e.theta=function(a){if(!arguments.length)return r;r=+a;return e};e.alpha=function(a){if(!arguments.length)return k;a=+a;k?k=0<a?a:0:0<a&&(f.start({type:"start",alpha:k=a}),C.timer(e.tick));return e};e.start=function(){function a(e,g){var l;if(!r){r=[];for(f=0;f<h;++f)r[f]=[];for(f=0;f<k;++f)l=s[f],r[l.source.index].push(l.target),r[l.target.index].push(l.source)}l=r[c];for(var m=-1,n=l.length,p;++m<n;)if(!isNaN(p=l[m][e]))return p;return Math.random()*g}var c,f,h=t.length,k=s.length,l=g[0],q=g[1],
r,z;for(c=0;c<h;++c)(z=t[c]).index=c,z.weight=0;for(c=0;c<k;++c)z=s[c],"number"==typeof z.source&&(z.source=t[z.source]),"number"==typeof z.target&&(z.target=t[z.target]),++z.source.weight,++z.target.weight;for(c=0;c<h;++c)z=t[c],isNaN(z.x)&&(z.x=a("x",l)),isNaN(z.y)&&(z.y=a("y",q)),isNaN(z.px)&&(z.px=z.x),isNaN(z.py)&&(z.py=z.y);w=[];if("function"===typeof m)for(c=0;c<k;++c)w[c]=+m.call(this,s[c],c);else for(c=0;c<k;++c)w[c]=m;u=[];if("function"===typeof n)for(c=0;c<k;++c)u[c]=+n.call(this,s[c],
c);else for(c=0;c<k;++c)u[c]=n;v=[];if("function"===typeof p)for(c=0;c<h;++c)v[c]=+p.call(this,t[c],c);else for(c=0;c<h;++c)v[c]=p;return e.resume()};e.resume=function(){return e.alpha(0.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){h||(h=C.behavior.drag().origin(sa).on("dragstart.force",xf).on("drag.force",c).on("dragend.force",Vf));if(!arguments.length)return h;this.on("mouseover.force",yf).on("mouseout.force",Bf).call(h)};return C.rebind(e,f,"on")};var Hg=20,Ig=1;C.layout.hierarchy=
function(){function a(c,k,l){var m=g.call(e,c,k);c.depth=k;l.push(c);if(m&&(p=m.length)){var n=-1,p,q=c.children=[],r=0;k+=1;for(var t;++n<p;)t=a(m[n],k,l),t.parent=c,q.push(t),r+=t.value;f&&q.sort(f);h&&(c.value=r)}else h&&(c.value=+h.call(e,c,k)||0);return c}function c(a,f){var g=a.children,k=0;if(g&&(m=g.length))for(var l=-1,m,n=f+1;++l<m;)k+=c(g[l],n);else h&&(k=+h.call(e,a,f)||0);h&&(a.value=k);return k}function e(c){var f=[];a(c,0,f);return f}var f=wf,g=zf,h=Cf;e.sort=function(a){if(!arguments.length)return f;
f=a;return e};e.children=function(a){if(!arguments.length)return g;g=a;return e};e.value=function(a){if(!arguments.length)return h;h=a;return e};e.revalue=function(a){c(a,0);return a};return e};C.layout.partition=function(){function a(c,e,f,g){var h=c.children;c.x=e;c.y=c.depth*g;c.dx=f;c.dy=g;if(h&&(l=h.length)){var k=-1,l,m;for(f=c.value?f/c.value:0;++k<l;)a(m=h[k],e,c=m.value*f,g),e+=c}}function c(a){a=a.children;var e=0;if(a&&(g=a.length))for(var f=-1,g;++f<g;)e=Math.max(e,c(a[f]));return 1+e}
function e(h,k){var l=f.call(this,h,k);a(l[0],0,g[0],g[1]/c(l[0]));return l}var f=C.layout.hierarchy(),g=[1,1];e.size=function(a){if(!arguments.length)return g;g=a;return e};return Xb(e,f)};C.layout.pie=function(){function a(h){var k=h.map(function(e,f){return+c.call(a,e,f)}),l=+("function"===typeof f?f.apply(this,arguments):f),m=(("function"===typeof g?g.apply(this,arguments):g)-l)/C.sum(k),n=C.range(h.length);null!=e&&n.sort(e===df?function(a,c){return k[c]-k[a]}:function(a,c){return e(h[a],h[c])});
var p=[];n.forEach(function(a){var c;p[a]={data:h[a],value:c=k[a],startAngle:l,endAngle:l+=c*m}});return p}var c=Number,e=df,f=0,g=2*ea;a.value=function(e){if(!arguments.length)return c;c=e;return a};a.sort=function(c){if(!arguments.length)return e;e=c;return a};a.startAngle=function(c){if(!arguments.length)return f;f=c;return a};a.endAngle=function(c){if(!arguments.length)return g;g=c;return a};return a};var df={};C.layout.stack=function(){function a(l,m){var n=l.map(function(e,f){return c.call(a,
e,f)}),p=n.map(function(c){return c.map(function(c,e){return[h.call(a,c,e),k.call(a,c,e)]})}),q=e.call(a,p,m),n=C.permute(n,q),p=C.permute(p,q),q=f.call(a,p,m),r=n.length,t=n[0].length,s,w,u;for(w=0;w<t;++w)for(g.call(a,n[0][w],u=q[w],p[0][w][1]),s=1;s<r;++s)g.call(a,n[s][w],u+=p[s-1][w][1],p[s][w][1]);return l}var c=sa,e=jd,f=kd,g=Xf,h=Kf,k=Wf;a.values=function(e){if(!arguments.length)return c;c=e;return a};a.order=function(c){if(!arguments.length)return e;e="function"===typeof c?c:Jg.get(c)||jd;
return a};a.offset=function(c){if(!arguments.length)return f;f="function"===typeof c?c:Kg.get(c)||kd;return a};a.x=function(c){if(!arguments.length)return h;h=c;return a};a.y=function(c){if(!arguments.length)return k;k=c;return a};a.out=function(c){if(!arguments.length)return g;g=c;return a};return a};var Jg=C.map({"inside-out":function(a){var c=a.length,e,f=a.map(Jf),g=a.map(If),h=C.range(c).sort(function(a,c){return f[a]-f[c]}),k=0,l=0,m=[],n=[];for(a=0;a<c;++a)e=h[a],k<l?(k+=g[e],m.push(e)):(l+=
g[e],n.push(e));return n.reverse().concat(m)},reverse:function(a){return C.range(a.length).reverse()},"default":jd}),Kg=C.map({silhouette:function(a){var c=a.length,e=a[0].length,f=[],g=0,h,k,l,m=[];for(k=0;k<e;++k){for(l=h=0;h<c;h++)l+=a[h][k][1];l>g&&(g=l);f.push(l)}for(k=0;k<e;++k)m[k]=(g-f[k])/2;return m},wiggle:function(a){var c=a.length,e=a[0],f=e.length,g,h,k,l,m,n,p,q,r,t=[];t[0]=q=r=0;for(h=1;h<f;++h){for(l=g=0;g<c;++g)l+=a[g][h][1];m=g=0;for(p=e[h][0]-e[h-1][0];g<c;++g){k=0;for(n=(a[g][h][1]-
a[g][h-1][1])/(2*p);k<g;++k)n+=(a[k][h][1]-a[k][h-1][1])/p;m+=n*a[g][h][1]}t[h]=q-=l?m/l*p:0;q<r&&(r=q)}for(h=0;h<f;++h)t[h]-=r;return t},expand:function(a){var c=a.length,e=a[0].length,f=1/c,g,h,k,l=[];for(h=0;h<e;++h){for(k=g=0;g<c;g++)k+=a[g][h][1];if(k)for(g=0;g<c;g++)a[g][h][1]/=k;else for(g=0;g<c;g++)a[g][h][1]=f}for(h=0;h<e;++h)l[h]=0;return l},zero:kd});C.layout.histogram=function(){function a(h,k){var l=[],m=h.map(e,this),n=f.call(this,m,k),p=g.call(this,n,m,k),q;k=-1;for(var r=m.length,
t=p.length-1,s=c?1:1/r;++k<t;)q=l[k]=[],q.dx=p[k+1]-(q.x=p[k]),q.y=0;if(0<t)for(k=-1;++k<r;)q=m[k],q>=n[0]&&q<=n[1]&&(q=l[C.bisect(p,q,1,t)-1],q.y+=s,q.push(h[k]));return l}var c=!0,e=Number,f=$f,g=Zf;a.value=function(c){if(!arguments.length)return e;e=c;return a};a.range=function(c){if(!arguments.length)return f;f=da(c);return a};a.bins=function(c){if(!arguments.length)return g;g="number"===typeof c?function(a){return ge(a,c)}:da(c);return a};a.frequency=function(e){if(!arguments.length)return c;
c=!!e;return a};return a};C.layout.tree=function(){function a(g,h){function k(a,c){var f=a.children,g=a._tree;if(f&&(h=f.length)){for(var h,l=f[0],m,n=l,p,q=-1;++q<h;){p=f[q];k(p,m);var r=p;if(m){for(var t=r,s=r,w=r.parent.children[0],u=t._tree.mod,v=s._tree.mod,z=m._tree.mod,y=w._tree.mod,A=void 0;m=id(m),t=ld(t),m&&t;){w=ld(w);s=id(s);s._tree.ancestor=r;A=m._tree.prelim+z-t._tree.prelim-u+e(m,t);if(0<A){var x=m._tree.ancestor.parent==r.parent?m._tree.ancestor:n,B=r,I=A,x=x._tree,B=B._tree,E=I/(B.number-
x.number);x.change+=E;B.change-=E;B.shift+=I;B.prelim+=I;B.mod+=I;u+=A;v+=A}z+=m._tree.mod;u+=t._tree.mod;y+=w._tree.mod;v+=s._tree.mod}m&&!id(s)&&(s._tree.thread=m,s._tree.mod+=z-v);t&&!ld(w)&&(w._tree.thread=t,w._tree.mod+=u-y,n=r)}m=p}h=f=0;q=a.children;for(r=q.length;0<=--r;)n=q[r]._tree,n.prelim+=f,n.mod+=f,f+=n.shift+(h+=n.change);l=0.5*(l._tree.prelim+p._tree.prelim);c?(g.prelim=c._tree.prelim+e(a,c),g.mod=g.prelim-l):g.prelim=l}else c&&(g.prelim=c._tree.prelim+e(a,c))}function l(a,c){a.x=
a._tree.prelim+c;var e=a.children;if(e&&(g=e.length)){var f=-1,g;for(c+=a._tree.mod;++f<g;)l(e[f],c)}}var m=c.call(this,g,h),n=m[0];hb(n,function(a,c){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:c?c._tree.number+1:0}});k(n);l(n,-n._tree.prelim);var p=zc(n,bg),q=zc(n,ag),r=zc(n,Gf),t=p.x-e(p,q)/2,s=q.x+e(q,p)/2,w=r.depth||1;hb(n,function(a){a.x=(a.x-t)/(s-t)*f[0];a.y=a.depth/w*f[1];delete a._tree});return m}var c=C.layout.hierarchy().sort(null).value(null),e=Wd,f=[1,1];a.separation=
function(c){if(!arguments.length)return e;e=c;return a};a.size=function(c){if(!arguments.length)return f;f=c;return a};return Xb(a,c)};C.layout.pack=function(){function a(g,h){var k=c.call(this,g,h),l=k[0];l.x=0;l.y=0;hb(l,function(a){a.r=Math.sqrt(a.value)});hb(l,le);var m=f[0],n=f[1],p=Math.max(2*l.r/m,2*l.r/n);if(0<e){var q=e*p/2;hb(l,function(a){a.r+=q});hb(l,le);hb(l,function(a){a.r-=q});p=Math.max(2*l.r/m,2*l.r/n)}me(l,m/2,n/2,1/p);return k}var c=C.layout.hierarchy().sort(cg),e=0,f=[1,1];a.size=
function(c){if(!arguments.length)return f;f=c;return a};a.padding=function(c){if(!arguments.length)return e;e=+c;return a};return Xb(a,c)};C.layout.cluster=function(){function a(g,h){var k=c.call(this,g,h),l=k[0],m,n=0;hb(l,function(a){var c=a.children;c&&c.length?(a.x=Ef(c),a.y=Ff(c)):(a.x=m?n+=e(a,m):0,a.y=0,m=a)});var p=ne(l),q=oe(l),r=p.x-e(p,q)/2,t=q.x+e(q,p)/2;hb(l,function(a){a.x=(a.x-r)/(t-r)*f[0];a.y=(1-(l.y?a.y/l.y:1))*f[1]});return k}var c=C.layout.hierarchy().sort(null).value(null),e=
Wd,f=[1,1];a.separation=function(c){if(!arguments.length)return e;e=c;return a};a.size=function(c){if(!arguments.length)return f;f=c;return a};return Xb(a,c)};C.layout.treemap=function(){function a(c,e){for(var f=-1,g=c.length,h,k;++f<g;)k=(h=c[f]).value*(0>e?0:e),h.area=isNaN(k)||0>=k?0:k}function c(e){var g=e.children;if(g&&g.length){var h=n(e),k=[],l=g.slice(),m=Infinity,p,q="slice"===r?h.dx:"dice"===r?h.dy:"slice-dice"===r?e.depth&1?h.dy:h.dx:Math.min(h.dx,h.dy);a(l,h.dx*h.dy/e.value);for(k.area=
0;0<(e=l.length);){k.push(e=l[e-1]);k.area+=e.area;if(!(e="squarify"!==r)){p=q;e=k.area;for(var s=void 0,w=0,u=Infinity,v=-1,z=k.length;++v<z;)if(s=k[v].area)s<u&&(u=s),s>w&&(w=s);e*=e;p*=p;e=(p=e?Math.max(p*w*t/e,e/(p*u*t)):Infinity)<=m}e?(l.pop(),m=p):(k.area-=k.pop().area,f(k,q,h,!1),q=Math.min(h.dx,h.dy),k.length=k.area=0,m=Infinity)}k.length&&(f(k,q,h,!0),k.length=k.area=0);g.forEach(c)}}function e(c){var g=c.children;if(g&&g.length){var h=n(c),k=g.slice(),l=[];a(k,h.dx*h.dy/c.value);for(l.area=
0;c=k.pop();)l.push(c),l.area+=c.area,null!=c.z&&(f(l,c.z?h.dx:h.dy,h,!k.length),l.length=l.area=0);g.forEach(e)}}function f(a,c,e,g){var h=-1,l=a.length,m=e.x,n=e.y,p=c?k(a.area/c):0,q;if(c==e.dx){if(g||p>e.dy)p=e.dy;for(;++h<l;)q=a[h],q.x=m,q.y=n,q.dy=p,m+=q.dx=Math.min(e.x+e.dx-m,p?k(q.area/p):0);q.z=!0;q.dx+=e.x+e.dx-m;e.y+=p;e.dy-=p}else{if(g||p>e.dx)p=e.dx;for(;++h<l;)q=a[h],q.x=m,q.y=n,q.dx=p,n+=q.dy=Math.min(e.y+e.dy-n,p?k(q.area/p):0);q.z=!1;q.dy+=e.y+e.dy-n;e.x+=p;e.dx-=p}}function g(f){f=
q||h(f);var k=f[0];k.x=0;k.y=0;k.dx=l[0];k.dy=l[1];q&&h.revalue(k);a([k],k.dx*k.dy/k.value);(q?e:c)(k);p&&(q=f);return f}var h=C.layout.hierarchy(),k=Math.round,l=[1,1],m=null,n=nd,p=!1,q,r="squarify",t=0.5*(1+Math.sqrt(5));g.size=function(a){if(!arguments.length)return l;l=a;return g};g.padding=function(a){function c(e){var f=a.call(g,e,e.depth);return null==f?nd(e):Qd(e,"number"===typeof f?[f,f,f,f]:f)}function e(c){return Qd(c,a)}if(!arguments.length)return m;var f;n=null==(m=a)?nd:"function"===
(f=typeof a)?c:"number"===f?(a=[a,a,a,a],e):e;return g};g.round=function(a){if(!arguments.length)return k!=Number;k=a?Math.round:Number;return g};g.sticky=function(a){if(!arguments.length)return p;p=a;q=null;return g};g.ratio=function(a){if(!arguments.length)return t;t=a;return g};g.mode=function(a){if(!arguments.length)return r;r=a+"";return g};return Xb(g,h)};C.random={normal:function(a,c){var e=arguments.length;2>e&&(c=1);1>e&&(a=0);return function(){var e,f;do e=2*Math.random()-1,f=2*Math.random()-
1,f=e*e+f*f;while(!f||1<f);return a+c*e*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(){var a=C.random.normal.apply(C,arguments);return function(){return Math.exp(a())}},irwinHall:function(a){return function(){for(var c=0,e=0;e<a;e++)c+=Math.random();return c/a}}};C.scale={};C.scale.linear=function(){return Rd([0,1],[0,1],vb,!1)};C.scale.log=function(){return ae(C.scale.linear().domain([0,Math.LN10]),10,be,ce)};var gg=C.format(".0e");C.scale.pow=function(){return de(C.scale.linear(),1)};C.scale.sqrt=
function(){return C.scale.pow().exponent(0.5)};C.scale.ordinal=function(){return fe([],{t:"range",a:[[]]})};C.scale.category10=function(){return C.scale.ordinal().range(Lg)};C.scale.category20=function(){return C.scale.ordinal().range(Mg)};C.scale.category20b=function(){return C.scale.ordinal().range(Ng)};C.scale.category20c=function(){return C.scale.ordinal().range(Og)};var Lg="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),Mg="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),
Ng="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),Og="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");C.scale.quantile=function(){return Ce([],[])};C.scale.quantize=function(){return De(0,1,[0,1])};C.scale.threshold=function(){return Ee([0.5],[0,1])};
C.scale.identity=function(){return Fe([0,1])};C.svg.arc=function(){function a(){var h=c.apply(this,arguments),k=e.apply(this,arguments),l=f.apply(this,arguments)+Cb,m=g.apply(this,arguments)+Cb,n=(m<l&&(n=l,l=m,m=n),m-l),p=n<ea?"0":"1",q=Math.cos(l),l=Math.sin(l),r=Math.cos(m),m=Math.sin(m);return n>=Pg?h?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+h+"A"+h+","+h+" 0 1,0 0,"+-h+"A"+h+","+h+" 0 1,0 0,"+h+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":h?"M"+
k*q+","+k*l+"A"+k+","+k+" 0 "+p+",1 "+k*r+","+k*m+"L"+h*r+","+h*m+"A"+h+","+h+" 0 "+p+",0 "+h*q+","+h*l+"Z":"M"+k*q+","+k*l+"A"+k+","+k+" 0 "+p+",1 "+k*r+","+k*m+"L0,0Z"}var c=hg,e=ig,f=Ge,g=He;a.innerRadius=function(e){if(!arguments.length)return c;c=da(e);return a};a.outerRadius=function(c){if(!arguments.length)return e;e=da(c);return a};a.startAngle=function(c){if(!arguments.length)return f;f=da(c);return a};a.endAngle=function(c){if(!arguments.length)return g;g=da(c);return a};a.centroid=function(){var a=
(c.apply(this,arguments)+e.apply(this,arguments))/2,h=(f.apply(this,arguments)+g.apply(this,arguments))/2+Cb;return[Math.cos(h)*a,Math.sin(h)*a]};return a};var Cb=-ea/2,Pg=2*ea-1E-6;C.svg.line.radial=function(){var a=Fc(Ie);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};ic.reverse=kb;kb.reverse=ic;C.svg.area=function(){return Je(sa)};C.svg.area.radial=function(){var a=Je(Ie);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=
a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};C.svg.chord=function(){function a(h,k){var l=c(this,f,h,k),m=c(this,g,h,k);return"M"+l.p0+e(l.r,l.p1,l.a1-l.a0)+(l.a0==m.a0&&l.a1==m.a1?"Q 0,0 "+l.p0:"Q 0,0 "+m.p0+e(m.r,m.p1,m.a1-m.a0)+("Q 0,0 "+l.p0))+"Z"}function c(a,e,f,g){var m=e.call(a,f,g);e=h.call(a,m,g);f=k.call(a,m,g)+Cb;a=l.call(a,m,g)+Cb;return{r:e,a0:f,a1:a,p0:[e*Math.cos(f),e*Math.sin(f)],p1:[e*Math.cos(a),e*Math.sin(a)]}}function e(a,c,f){return"A"+a+","+a+" 0 "+ +(f>ea)+",1 "+
c}var f=ib,g=bc,h=jg,k=Ge,l=He;a.radius=function(c){if(!arguments.length)return h;h=da(c);return a};a.source=function(c){if(!arguments.length)return f;f=da(c);return a};a.target=function(c){if(!arguments.length)return g;g=da(c);return a};a.startAngle=function(c){if(!arguments.length)return k;k=da(c);return a};a.endAngle=function(c){if(!arguments.length)return l;l=da(c);return a};return a};C.svg.diagonal=function(){function a(g,h){var k=c.call(this,g,h),l=e.call(this,g,h),m=(k.y+l.y)/2,k=[k,{x:k.x,
y:m},{x:l.x,y:m},l],k=k.map(f);return"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var c=ib,e=bc,f=Ke;a.source=function(e){if(!arguments.length)return c;c=da(e);return a};a.target=function(c){if(!arguments.length)return e;e=da(c);return a};a.projection=function(c){if(!arguments.length)return f;f=c;return a};return a};C.svg.diagonal.radial=function(){var a=C.svg.diagonal(),c=Ke,e=a.projection;a.projection=function(a){return arguments.length?e(kg(c=a)):c};return a};C.svg.symbol=function(){function a(f,g){return(ef.get(c.call(this,
f,g))||Le)(e.call(this,f,g))}var c=mg,e=lg;a.type=function(e){if(!arguments.length)return c;c=da(e);return a};a.size=function(c){if(!arguments.length)return e;e=da(c);return a};return a};var ef=C.map({circle:Le,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*ff));var c=a*ff;return"M0,"+-a+"L"+c+",0 0,"+a+" "+-c+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+
","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/$c);var c=a*$c/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(a){a=Math.sqrt(a/$c);var c=a*$c/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});C.svg.symbolTypes=ef.keys();var $c=Math.sqrt(3),ff=Math.tan(30*ja),Ca=[],Ve=0,nc,Tc={ease:function(a){if(0>=a)return 0;if(1<=a)return 1;var c=a*a,e=c*a;return 4*(0.5>a?e:3*(a-c)+e-0.75)},delay:0,duration:250};Ca.call=ta.call;Ca.empty=ta.empty;
Ca.node=ta.node;C.transition=function(a){return arguments.length?nc?a.transition():a:mc.transition()};C.transition.prototype=Ca;Ca.select=function(a){var c=this.id,e=[],f,g,h;"function"!==typeof a&&(a=y(a));for(var k=-1,l=this.length;++k<l;){e.push(f=[]);for(var m=this[k],n=-1,p=m.length;++n<p;)(h=m[n])&&(g=a.call(h,h.__data__,n))?("__data__"in h&&(g.__data__=h.__data__),Oc(g,n,c,h.__transition__[c]),f.push(g)):f.push(null)}return lc(e,c)};Ca.selectAll=function(a){var c=this.id,e=[],f,g,h,k;"function"!==
typeof a&&(a=z(a));for(var l=-1,m=this.length;++l<m;)for(var n=this[l],p=-1,q=n.length;++p<q;)if(f=n[p]){k=f.__transition__[c];g=a.call(f,f.__data__,p);e.push(f=[]);for(var r=-1,t=g.length;++r<t;)Oc(h=g[r],r,c,k),f.push(h)}return lc(e,c)};Ca.filter=function(a){var c=[],e,f,g;"function"!==typeof a&&(a=A(a));for(var h=0,k=this.length;h<k;h++){c.push(e=[]);f=this[h];for(var l=0,m=f.length;l<m;l++)(g=f[l])&&a.call(g,g.__data__,l)&&e.push(g)}return lc(c,this.id,this.time).ease(this.ease())};Ca.tween=function(a,
c){var e=this.id;return 2>arguments.length?this.node().__transition__[e].tween.get(a):N(this,null==c?function(c){c.__transition__[e].tween.remove(a)}:function(f){f.__transition__[e].tween.set(a,c)})};Ca.attr=function(a,c){function e(){this.removeAttribute(h)}function f(){this.removeAttributeNS(h.space,h.local)}if(2>arguments.length){for(c in a)this.attr(c,a[c]);return this}var g="transform"==a?tc:vb,h=C.ns.qualify(a);return xd(this,"attr."+a,c,function(a){function c(){var e=this.getAttribute(h),f;
return e!==a&&(f=g(e,a),function(a){this.setAttribute(h,f(a))})}function k(){var c=this.getAttributeNS(h.space,h.local),e;return c!==a&&(e=g(c,a),function(a){this.setAttributeNS(h.space,h.local,e(a))})}return null==a?h.local?f:e:(a+="",h.local?k:c)})};Ca.attrTween=function(a,c){function e(a,f){var h=c.call(this,a,f,this.getAttribute(g));return h&&function(a){this.setAttribute(g,h(a))}}function f(a,e){var h=c.call(this,a,e,this.getAttributeNS(g.space,g.local));return h&&function(a){this.setAttributeNS(g.space,
g.local,h(a))}}var g=C.ns.qualify(a);return this.tween("attr."+a,g.local?f:e)};Ca.style=function(a,c,e){function f(){this.style.removeProperty(a)}var g=arguments.length;if(3>g){if("string"!==typeof a){2>g&&(c="");for(e in a)this.style(e,a[e],c);return this}e=""}var h="transform"==a?tc:vb;return xd(this,"style."+a,c,function(c){function g(){var f=Ga.getComputedStyle(this,null).getPropertyValue(a),k;return f!==c&&(k=h(f,c),function(c){this.style.setProperty(a,k(c),e)})}return null==c?f:(c+="",g)})};
Ca.styleTween=function(a,c,e){3>arguments.length&&(e="");return this.tween("style."+a,function(f,g){var h=c.call(this,f,g,Ga.getComputedStyle(this,null).getPropertyValue(a));return h&&function(c){this.style.setProperty(a,h(c),e)}})};Ca.text=function(a){return xd(this,"text",a,ng)};Ca.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})};Ca.ease=function(a){var c=this.id;if(1>arguments.length)return this.node().__transition__[c].ease;
"function"!==typeof a&&(a=C.ease.apply(C,arguments));return N(this,function(e){e.__transition__[c].ease=a})};Ca.delay=function(a){var c=this.id;return N(this,"function"===typeof a?function(e,f,g){e.__transition__[c].delay=a.call(e,e.__data__,f,g)|0}:(a|=0,function(e){e.__transition__[c].delay=a}))};Ca.duration=function(a){var c=this.id;return N(this,"function"===typeof a?function(e,f,g){e.__transition__[c].duration=Math.max(1,a.call(e,e.__data__,f,g)|0)}:(a=Math.max(1,a|0),function(e){e.__transition__[c].duration=
a}))};Ca.each=function(a,c){var e=this.id;if(2>arguments.length){var f=Tc,g=nc;nc=e;N(this,function(c,f,g){Tc=c.__transition__[e];a.call(c,c.__data__,f,g)});Tc=f;nc=g}else N(this,function(f){f.__transition__[e].event.on(a,c)});return this};Ca.transition=function(){for(var a=this.id,c=++Ve,e=[],f,g,h,k,l=0,m=this.length;l<m;l++){e.push(f=[]);g=this[l];for(var n=0,p=g.length;n<p;n++){if(h=g[n])k=Object.create(h.__transition__[a]),k.delay+=k.duration,Oc(h,n,c,k);f.push(h)}}return lc(e,c)};C.svg.axis=
function(){function a(q){q.each(function(){var a=C.select(this),q=null==m?c.ticks?c.ticks.apply(c,l):c.domain():m,r=null==n?c.tickFormat?c.tickFormat.apply(c,l):String:n,t=og(c,q,p),s=a.selectAll(".tick.minor").data(t,String),t=s.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1E-6),w=C.transition(s.exit()).style("opacity",1E-6).remove(),s=C.transition(s).style("opacity",1),u=a.selectAll(".tick.major").data(q,String),q=u.enter().insert("g","path").attr("class","tick major").style("opacity",
1E-6),v=C.transition(u.exit()).style("opacity",1E-6).remove(),z=C.transition(u).style("opacity",1),y,A=vc(c),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),C.transition(a)),x=c.copy(),B=this.__chart__||x;this.__chart__=x;q.append("line");q.append("text");var I=q.select("line"),E=z.select("line"),r=u.select("text").text(r),u=q.select("text"),G=z.select("text");switch(e){case "bottom":y=Me;t.attr("y2",g);s.attr("x2",0).attr("y2",g);I.attr("y2",f);u.attr("y",Math.max(f,
0)+k);E.attr("x2",0).attr("y2",f);G.attr("x",0).attr("y",Math.max(f,0)+k);r.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+A[0]+","+h+"V0H"+A[1]+"V"+h);break;case "top":y=Me;t.attr("y2",-g);s.attr("x2",0).attr("y2",-g);I.attr("y2",-f);u.attr("y",-(Math.max(f,0)+k));E.attr("x2",0).attr("y2",-f);G.attr("x",0).attr("y",-(Math.max(f,0)+k));r.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+A[0]+","+-h+"V0H"+A[1]+"V"+-h);break;case "left":y=Ne;t.attr("x2",-g);s.attr("x2",
-g).attr("y2",0);I.attr("x2",-f);u.attr("x",-(Math.max(f,0)+k));E.attr("x2",-f).attr("y2",0);G.attr("x",-(Math.max(f,0)+k)).attr("y",0);r.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-h+","+A[0]+"H0V"+A[1]+"H"+-h);break;case "right":y=Ne,t.attr("x2",g),s.attr("x2",g).attr("y2",0),I.attr("x2",f),u.attr("x",Math.max(f,0)+k),E.attr("x2",f).attr("y2",0),G.attr("x",Math.max(f,0)+k).attr("y",0),r.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+h+","+A[0]+"H0V"+A[1]+"H"+h)}if(c.ticks)q.call(y,
B),z.call(y,x),v.call(y,x),t.call(y,B),s.call(y,x),w.call(y,x);else{var L=x.rangeBand()/2,t=function(a){return x(a)+L};q.call(y,t);z.call(y,t)}})}var c=C.scale.linear(),e=gf,f=6,g=6,h=6,k=3,l=[10],m=null,n,p=0;a.scale=function(e){if(!arguments.length)return c;c=e;return a};a.orient=function(c){if(!arguments.length)return e;e=c in Qg?c+"":gf;return a};a.ticks=function(){if(!arguments.length)return l;l=arguments;return a};a.tickValues=function(c){if(!arguments.length)return m;m=c;return a};a.tickFormat=
function(c){if(!arguments.length)return n;n=c;return a};a.tickSize=function(c,e){if(!arguments.length)return f;var k=arguments.length-1;f=+c;g=1<k?+e:f;h=0<k?+arguments[k]:f;return a};a.tickPadding=function(c){if(!arguments.length)return k;k=+c;return a};a.tickSubdivide=function(c){if(!arguments.length)return p;p=+c;return a};return a};var gf="bottom",Qg={top:1,right:1,bottom:1,left:1};C.svg.brush=function(){function a(h){h.each(function(){var h=C.select(this),n=h.selectAll(".background").data([0]),
p=h.selectAll(".extent").data([0]),q=h.selectAll(".resize").data(m,String);h.style("pointer-events","all").on("mousedown.brush",g).on("touchstart.brush",g);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");p.enter().append("rect").attr("class","extent").style("cursor","move");q.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Rg[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?
-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");q.style("display",a.empty()?"none":null);q.exit().remove();k&&(p=vc(k),n.attr("x",p[0]).attr("width",p[1]-p[0]),e(h));l&&(p=vc(l),n.attr("y",p[0]).attr("height",p[1]-p[0]),f(h));c(h)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+p[+/e$/.test(a)][0]+","+p[+/^s/.test(a)][1]+")"})}function e(a){a.select(".extent").attr("x",p[0][0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",
p[1][0]-p[0][0])}function f(a){a.select(".extent").attr("y",p[0][1]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1][1]-p[0][1])}function g(){function m(){var a=C.event.changedTouches;return a?C.touches(w,a)[0]:C.mouse(w)}function r(){var a=m(),g=!1;G&&(a[0]+=G[0],a[1]+=G[1]);B||(C.event.altKey?(I||(I=[(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]),E[0]=p[+(a[0]<I[0])][0],E[1]=p[+(a[1]<I[1])][1]):I=null);A&&t(a,k,0)&&(e(z),g=!0);x&&t(a,l,1)&&(f(z),g=!0);g&&(c(z),v({type:"brush",mode:B?"move":
"resize"}))}function t(a,c,e){var f=vc(c);c=f[0];var g=f[1],f=E[e],h=p[1][e]-p[0][e];B&&(c-=f,g-=h+f);a=Math.max(c,Math.min(g,a[e]));B?c=(a+=f)+h:(I&&(f=Math.max(c,Math.min(g,2*I[e]-a))),f<a?(c=a,a=f):c=f);if(p[0][e]!==a||p[1][e]!==c)return q=null,p[0][e]=a,p[1][e]=c,!0}function s(){r();z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);C.select("body").style("cursor",null);L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",
null).on("keydown.brush",null).on("keyup.brush",null);v({type:"brushend"});n()}var w=this,u=C.select(C.event.target),v=h.of(w,arguments),z=C.select(w),y=u.datum(),A=!/^(n|s)$/.test(y)&&k,x=!/^(e|w)$/.test(y)&&l,B=u.classed("extent"),I,E=m(),G,L=C.select(Ga).on("mousemove.brush",r).on("mouseup.brush",s).on("touchmove.brush",r).on("touchend.brush",s).on("keydown.brush",function(){32==C.event.keyCode&&(B||(I=null,E[0]-=p[1][0],E[1]-=p[1][1],B=2),n())}).on("keyup.brush",function(){32==C.event.keyCode&&
2==B&&(E[0]+=p[1][0],E[1]+=p[1][1],B=0,n())});if(B)E[0]=p[0][0]-E[0],E[1]=p[0][1]-E[1];else if(y){var H=+/w$/.test(y),y=+/^n/.test(y);G=[p[1-H][0]-E[0],p[1-y][1]-E[1]];E[0]=p[H][0];E[1]=p[y][1]}else C.event.altKey&&(I=E.slice());z.style("pointer-events","none").selectAll(".resize").style("display",null);C.select("body").style("cursor",u.style("cursor"));v({type:"brushstart"});r();n()}var h=s(a,"brushstart","brush","brushend"),k=null,l=null,m=Id[0],p=[[0,0],[0,0]],q;a.x=function(c){if(!arguments.length)return k;
k=c;m=Id[!k<<1|!l];return a};a.y=function(c){if(!arguments.length)return l;l=c;m=Id[!k<<1|!l];return a};a.extent=function(c){var e,f,g,h,m;if(!arguments.length)return c=q||p,k&&(e=c[0][0],f=c[1][0],q||(e=p[0][0],f=p[1][0],k.invert&&(e=k.invert(e),f=k.invert(f)),f<e&&(m=e,e=f,f=m))),l&&(g=c[0][1],h=c[1][1],q||(g=p[0][1],h=p[1][1],l.invert&&(g=l.invert(g),h=l.invert(h)),h<g&&(m=g,g=h,h=m))),k&&l?[[e,g],[f,h]]:k?[e,f]:l&&[g,h];q=[[0,0],[0,0]];k&&(e=c[0],f=c[1],l&&(e=e[0],f=f[0]),q[0][0]=e,q[1][0]=f,
k.invert&&(e=k(e),f=k(f)),f<e&&(m=e,e=f,f=m),p[0][0]=e|0,p[1][0]=f|0);l&&(g=c[0],h=c[1],k&&(g=g[1],h=h[1]),q[0][1]=g,q[1][1]=h,l.invert&&(g=l(g),h=l(h)),h<g&&(m=g,g=h,h=m),p[0][1]=g|0,p[1][1]=h|0);return a};a.clear=function(){q=null;p[0][0]=p[0][1]=p[1][0]=p[1][1]=0;return a};a.empty=function(){return k&&p[0][0]===p[1][0]||l&&p[0][1]===p[1][1]};return C.rebind(a,h,"on")};var Rg={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},
Id=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];C.time={};var Ha=Date;Db.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lb.setUTCDate.apply(this._,arguments)},setDay:function(){lb.setUTCDay.apply(this._,arguments)},setFullYear:function(){lb.setUTCFullYear.apply(this._,arguments)},setHours:function(){lb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lb.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){lb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lb.setUTCSeconds.apply(this._,arguments)},setTime:function(){lb.setTime.apply(this._,arguments)}};var lb=Date.prototype,hf="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),jf="Sun Mon Tue Wed Thu Fri Sat".split(" "),Jd="January February March April May June July August September October November December".split(" "),Kd="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");C.time.year=Eb(function(a){a=
C.time.day(a);a.setMonth(0,1);return a},function(a,c){a.setFullYear(a.getFullYear()+c)},function(a){return a.getFullYear()});C.time.years=C.time.year.range;C.time.years.utc=C.time.year.utc.range;C.time.day=Eb(function(a){var c=new Ha(1970,0);c.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return c},function(a,c){a.setDate(a.getDate()+c)},function(a){return a.getDate()-1});C.time.days=C.time.day.range;C.time.days.utc=C.time.day.utc.range;C.time.dayOfYear=function(a){var c=C.time.year(a);return Math.floor((a-
c-6E4*(a.getTimezoneOffset()-c.getTimezoneOffset()))/864E5)};"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ").forEach(function(a,c){a=a.toLowerCase();c=7-c;var e=C.time[a]=Eb(function(a){(a=C.time.day(a)).setDate(a.getDate()-(a.getDay()+c)%7);return a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var e=C.time.year(a).getDay();return Math.floor((C.time.dayOfYear(a)+(e+c)%7)/7)-(e!==c)});C.time[a+"s"]=e.range;C.time[a+"s"].utc=e.utc.range;C.time[a+"OfYear"]=
function(a){var e=C.time.year(a).getDay();return Math.floor((C.time.dayOfYear(a)+(e+c)%7)/7)}});C.time.week=C.time.sunday;C.time.weeks=C.time.sunday.range;C.time.weeks.utc=C.time.sunday.utc.range;C.time.weekOfYear=C.time.sundayOfYear;C.time.format=function(a){function c(f){for(var g=[],h=-1,k=0,l,m;++h<e;)if(37===a.charCodeAt(h)){g.push(a.substring(k,h));null!=(l=Sg[k=a.charAt(++h)])&&(k=a.charAt(++h));if(m=ad[k])k=m(f,null==l?"e"===k?" ":"0":l);g.push(k);k=h+1}g.push(a.substring(k,h));return g.join("")}
var e=a.length;c.parse=function(c){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(Qc(e,a,c,0)!=c.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);c=new Ha;c.setFullYear(e.y,e.m,e.d);c.setHours(e.H,e.M,e.S,e.L);return c};c.toString=function(){return a};return c};var kf=Rc(hf),lf=Rc(jf),mf=Rc(Jd),Tg=Oe(Jd),nf=Rc(Kd),Ug=Oe(Kd),Sg={"-":"",_:" ",0:"0"},ad={a:function(a){return jf[a.getDay()]},A:function(a){return hf[a.getDay()]},b:function(a){return Kd[a.getMonth()]},B:function(a){return Jd[a.getMonth()]},c:C.time.format("%a %b %e %X %Y"),
d:function(a,c){return Oa(a.getDate(),c,2)},e:function(a,c){return Oa(a.getDate(),c,2)},H:function(a,c){return Oa(a.getHours(),c,2)},I:function(a,c){return Oa(a.getHours()%12||12,c,2)},j:function(a,c){return Oa(1+C.time.dayOfYear(a),c,3)},L:function(a,c){return Oa(a.getMilliseconds(),c,3)},m:function(a,c){return Oa(a.getMonth()+1,c,2)},M:function(a,c){return Oa(a.getMinutes(),c,2)},p:function(a){return 12<=a.getHours()?"PM":"AM"},S:function(a,c){return Oa(a.getSeconds(),c,2)},U:function(a,c){return Oa(C.time.sundayOfYear(a),
c,2)},w:function(a){return a.getDay()},W:function(a,c){return Oa(C.time.mondayOfYear(a),c,2)},x:C.time.format("%m/%d/%Y"),X:C.time.format("%H:%M:%S"),y:function(a,c){return Oa(a.getFullYear()%100,c,2)},Y:function(a,c){return Oa(a.getFullYear()%1E4,c,4)},Z:function(a){var c=a.getTimezoneOffset();a=0<c?"-":"+";var e=~~(Math.abs(c)/60),c=Math.abs(c)%60;return a+Oa(e,"0",2)+Oa(c,"0",2)},"%":function(){return"%"}},pg={a:function(a,c,e){lf.lastIndex=0;return(a=lf.exec(c.substring(e)))?e+a[0].length:-1},
A:function(a,c,e){kf.lastIndex=0;return(a=kf.exec(c.substring(e)))?e+a[0].length:-1},b:function(a,c,e){nf.lastIndex=0;return(c=nf.exec(c.substring(e)))?(a.m=Ug.get(c[0].toLowerCase()),e+c[0].length):-1},B:function(a,c,e){mf.lastIndex=0;return(c=mf.exec(c.substring(e)))?(a.m=Tg.get(c[0].toLowerCase()),e+c[0].length):-1},c:function(a,c,e){return Qc(a,ad.c.toString(),c,e)},d:Pe,e:Pe,H:Qe,I:Qe,L:function(a,c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+3)))?(a.L=+c[0],e+c[0].length):-1},m:function(a,
c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+2)))?(a.m=c[0]-1,e+c[0].length):-1},M:function(a,c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+2)))?(a.M=+c[0],e+c[0].length):-1},p:function(a,c,e){c=Vg.get(c.substring(e,e+=2).toLowerCase());return null==c?-1:(a.p=c,e)},S:function(a,c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+2)))?(a.S=+c[0],e+c[0].length):-1},x:function(a,c,e){return Qc(a,ad.x.toString(),c,e)},X:function(a,c,e){return Qc(a,ad.X.toString(),c,e)},y:function(a,c,
e){Ia.lastIndex=0;if(c=Ia.exec(c.substring(e,e+2))){var f=+c[0];a=(a.y=f+(68<f?1900:2E3),e+c[0].length)}else a=-1;return a},Y:function(a,c,e){Ia.lastIndex=0;return(c=Ia.exec(c.substring(e,e+4)))?(a.y=+c[0],e+c[0].length):-1}},Ia=/^\s*\d+/,Vg=C.map({am:0,pm:1});C.time.format.utc=function(a){function c(a){try{Ha=Db;var f=new Ha;f._=a;return e(f)}finally{Ha=Date}}var e=C.time.format(a);c.parse=function(a){try{Ha=Db;var c=e.parse(a);return c&&c._}finally{Ha=Date}};c.toString=e.toString;return c};var of=
C.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");C.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?yd:of;yd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};yd.toString=of.toString;C.time.second=Eb(function(a){return new Ha(1E3*Math.floor(a/1E3))},function(a,c){a.setTime(a.getTime()+1E3*Math.floor(c))},function(a){return a.getSeconds()});C.time.seconds=C.time.second.range;C.time.seconds.utc=C.time.second.utc.range;C.time.minute=Eb(function(a){return new Ha(6E4*Math.floor(a/
6E4))},function(a,c){a.setTime(a.getTime()+6E4*Math.floor(c))},function(a){return a.getMinutes()});C.time.minutes=C.time.minute.range;C.time.minutes.utc=C.time.minute.utc.range;C.time.hour=Eb(function(a){var c=a.getTimezoneOffset()/60;return new Ha(36E5*(Math.floor(a/36E5-c)+c))},function(a,c){a.setTime(a.getTime()+36E5*Math.floor(c))},function(a){return a.getHours()});C.time.hours=C.time.hour.range;C.time.hours.utc=C.time.hour.utc.range;C.time.month=Eb(function(a){a=C.time.day(a);a.setDate(1);return a},
function(a,c){a.setMonth(a.getMonth()+c)},function(a){return a.getMonth()});C.time.months=C.time.month.range;C.time.months.utc=C.time.month.utc.range;var Sc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Ld=[[C.time.second,1],[C.time.second,5],[C.time.second,15],[C.time.second,30],[C.time.minute,1],[C.time.minute,5],[C.time.minute,15],[C.time.minute,30],[C.time.hour,1],[C.time.hour,3],[C.time.hour,6],[C.time.hour,12],[C.time.day,1],[C.time.day,
2],[C.time.week,1],[C.time.month,1],[C.time.month,3],[C.time.year,1]],Wg=[[C.time.format("%Y"),Za],[C.time.format("%B"),function(a){return a.getMonth()}],[C.time.format("%b %d"),function(a){return 1!=a.getDate()}],[C.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[C.time.format("%I %p"),function(a){return a.getHours()}],[C.time.format("%I:%M"),function(a){return a.getMinutes()}],[C.time.format(":%S"),function(a){return a.getSeconds()}],[C.time.format(".%L"),function(a){return a.getMilliseconds()}]],
pf=C.scale.linear(),Xg=Re(Wg);Ld.year=function(a,c){return pf.domain(a.map(qg)).ticks(c).map(Bd)};C.time.scale=function(){return zd(C.scale.linear(),Ld,Xg)};var qf=Ld.map(function(a){return[a[0].utc,a[1]]}),Yg=[[C.time.format.utc("%Y"),Za],[C.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[C.time.format.utc("%b %d"),function(a){return 1!=a.getUTCDate()}],[C.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[C.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],
[C.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[C.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[C.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],Zg=Re(Yg);qf.year=function(a,c){return pf.domain(a.map(rg)).ticks(c).map(Cd)};C.time.scale.utc=function(){return zd(C.scale.linear(),qf,Zg)};C.text=function(){return C.xhr.apply(C,arguments).response(sg)};C.json=function(a,c){return C.xhr(a,"application/json",c).response(tg)};C.html=function(a,c){return C.xhr(a,
"text/html",c).response(ug)};C.xml=function(){return C.xhr.apply(C,arguments).response(vg)};return C}();define("qui/ui/graphics/d3.v3",function(){});
(function(){function a(a,e){return(new Date(e,a+1,0)).getDate()}var f=window.nv||{};f.version="1.1.15b";f.dev=!0;window.nv=f;f.tooltip=f.tooltip||{};f.utils=f.utils||{};f.models=f.models||{};f.charts={};f.graphs=[];f.logs={};f.dispatch=d3.dispatch("render_start","render_end");f.dev&&(f.dispatch.on("render_start",function(a){f.logs.startTime=+new Date}),f.dispatch.on("render_end",function(a){f.logs.endTime=+new Date;f.logs.totalTime=f.logs.endTime-f.logs.startTime;f.log("total",f.logs.totalTime)}));
f.log=function(){f.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):f.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};f.render=function(a){a=a||1;f.render.active=!0;f.dispatch.render_start();setTimeout(function(){for(var e,h,g=0;g<a&&(h=f.render.queue[g]);g++)e=h.generate(),typeof h.callback==typeof Function&&h.callback(e),f.graphs.push(e);f.render.queue.splice(0,
g);f.render.queue.length?setTimeout(arguments.callee,0):(f.dispatch.render_end(),f.render.active=!1)},0)};f.render.active=!1;f.render.queue=[];f.addGraph=function(a,e){typeof a===typeof Function&&(a={generate:a,callback:e});f.render.queue.push(a);f.render.active||f.render()};f.identity=function(a){return a};f.strip=function(a){return a.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)};d3.time.monthEnds=function(a,e,f){return function(g,l,m){var n=
a(g),q=[];n<g&&e(n);if(1<m)for(;n<l;)g=new Date(+n),0===f(g)%m&&q.push(g),e(n);else for(;n<l;)q.push(new Date(+n)),e(n);return q}}(d3.time.monthEnd,function(c){c.setUTCDate(c.getUTCDate()+1);c.setDate(a(c.getMonth()+1,c.getFullYear()))},function(a){return a.getMonth()});f.interactiveGuideline=function(){function a(u){u.each(function(u){function v(){var f=d3.mouse(this),g=f[0],f=f[1],h=!0,p=!1;s&&(g=d3.event.offsetX,f=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(h=!1),d3.event.target.className.baseVal.match("nv-legend")&&
(p=!0));h&&(g-=l.left,f-=l.top);0>g||0>f||g>z||f>k||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||p?s&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(e.nvPointerEventsClass)||(n.elementMouseout({mouseX:g,mouseY:f}),a.renderGuideLine(null)):(h=m.invert(g),n.elementMousemove({mouseX:g,mouseY:f,pointXValue:h}),"dblclick"===d3.event.type&&n.elementDblclick({mouseX:g,mouseY:f,pointXValue:h}))}var y=d3.select(this),
z=h||960,k=g||400,p=y.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([u]);p.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");r&&(r.on("mousemove",v,!0).on("mouseout",v,!0).on("dblclick",v),a.renderGuideLine=function(a){q&&(a=p.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[f.utils.NaNtoZero(a)]:[],String),a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",
function(a){return a}).attr("y1",k).attr("y2",0),a.exit().remove())})})}var e=f.models.tooltip(),h=null,g=null,l={left:0,top:0},m=d3.scale.linear();d3.scale.linear();var n=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),q=!0,r=null,s=-1!==navigator.userAgent.indexOf("MSIE");a.dispatch=n;a.tooltip=e;a.margin=function(e){if(!arguments.length)return l;l.top="undefined"!=typeof e.top?e.top:l.top;l.left="undefined"!=typeof e.left?e.left:l.left;return a};a.width=function(e){if(!arguments.length)return h;
h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.xScale=function(e){if(!arguments.length)return m;m=e;return a};a.showGuideLine=function(e){if(!arguments.length)return q;q=e;return a};a.svgContainer=function(e){if(!arguments.length)return r;r=e;return a};return a};f.interactiveBisect=function(a,e,f){if(!a instanceof Array)return null;"function"!==typeof f&&(f=function(a,c){return a.x});var g=d3.bisector(f).left,g=d3.max([0,g(a,e)-1]),l=f(a[g],g);"undefined"===typeof l&&
(l=g);if(l===e)return g;var m=d3.min([g+1,a.length-1]);a=f(a[m],m);"undefined"===typeof a&&(a=m);return Math.abs(a-e)>=Math.abs(l-e)?g:m};f.nearestValueIndex=function(a,e,f){var g=Infinity,l=null;a.forEach(function(a,c){var q=Math.abs(e-a);q<=g&&q<f&&(g=q,l=c)});return l};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(x){var e;e=h&&h.series&&0<h.series.length?!0:!1;if(e){if(r){e=d3.select(r);"svg"!==e.node().tagName&&(e=e.select("svg"));var k=e.node()?e.attr("viewBox"):
null;k&&(k=k.split(" "),e=parseInt(e.style("width"))/k[2],u.left*=e,u.top*=e)}e=u.left;var k=null!=n?n:u.top,z;z=p(h);var F;F=r?d3.select(r):d3.select("body");var K=F.select(".nvtooltip");null===K.node()&&(K=F.append("div").attr("class","nvtooltip "+(q?q:"xy-tooltip")).attr("id",v));K.node().innerHTML=z;K.style("top",0).style("left",0).style("opacity",0);K.selectAll("div, table, td, tr").classed(y,!0);K.classed(y,!0);s=z=K.node();if(r){(K=r.getElementsByTagName("svg")[0])?K.getBoundingClientRect():
r.getBoundingClientRect();var A=0;F=0;if(K){K=K.getBoundingClientRect();A=r.getBoundingClientRect();F=K.top;if(0>F){var H=r.getBoundingClientRect();F=Math.abs(F)>H.height?0:F}F=Math.abs(F-A.top);A=Math.abs(K.left-A.left)}e+=r.offsetLeft+A-2*r.scrollLeft;k+=r.offsetTop+F-2*r.scrollTop}m&&0<m&&(k=Math.floor(k/m)*m);f.tooltip.calcTooltipPosition([e,k],g,l,z);return a}}}var e=null,h=null,g="w",l=50,m=25,n=null,q=null,r=null,s=null,u={left:null,top:null},x=!0,v="nvtooltip-"+Math.floor(1E5*Math.random()),
y="nv-pointer-events-none",z=function(a,c){return a},k=function(a){return a},p=function(a){if(null!=e)return e;if(null==a)return"";var c=d3.select(document.createElement("table"));c.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(k(a.value));var f=c.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});
f.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});f.append("td").classed("key",!0).html(function(a){return a.key});f.append("td").classed("value",!0).html(function(a,c){return z(a.value,c)});f.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(0.6)).style("border-top-color",a(0.6)))});c=c.node().outerHTML;void 0!==a.footer&&(c+="<div class='footer'>"+
a.footer+"</div>");return c};a.nvPointerEventsClass=y;a.content=function(f){if(!arguments.length)return e;e=f;return a};a.tooltipElem=function(){return s};a.contentGenerator=function(e){if(!arguments.length)return p;"function"===typeof e&&(p=e);return a};a.data=function(e){if(!arguments.length)return h;h=e;return a};a.gravity=function(e){if(!arguments.length)return g;g=e;return a};a.distance=function(e){if(!arguments.length)return l;l=e;return a};a.snapDistance=function(e){if(!arguments.length)return m;
m=e;return a};a.classes=function(e){if(!arguments.length)return q;q=e;return a};a.chartContainer=function(e){if(!arguments.length)return r;r=e;return a};a.position=function(e){if(!arguments.length)return u;u.left="undefined"!==typeof e.left?e.left:u.left;u.top="undefined"!==typeof e.top?e.top:u.top;return a};a.fixedTop=function(e){if(!arguments.length)return n;n=e;return a};a.enabled=function(e){if(!arguments.length)return x;x=e;return a};a.valueFormatter=function(e){if(!arguments.length)return z;
"function"===typeof e&&(z=e);return a};a.headerFormatter=function(e){if(!arguments.length)return k;"function"===typeof e&&(k=e);return a};a.id=function(){return v};return a};f.tooltip.show=function(a,e,h,g,l,m){var n=document.createElement("div");n.className="nvtooltip "+(m?m:"xy-tooltip");m=l;if(!l||l.tagName.match(/g|svg/i))m=document.getElementsByTagName("body")[0];n.style.left=0;n.style.top=0;n.style.opacity=0;n.innerHTML=e;m.appendChild(n);l&&(a[0]-=l.scrollLeft,a[1]-=l.scrollTop);f.tooltip.calcTooltipPosition(a,
h,g,n)};f.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a};f.tooltip.findTotalOffsetTop=function(a,e){var f=e;do isNaN(a.offsetTop)||(f+=a.offsetTop);while(a=a.offsetParent);return f};f.tooltip.findTotalOffsetLeft=function(a,e){var f=e;do isNaN(a.offsetLeft)||(f+=a.offsetLeft);while(a=a.offsetParent);return f};f.tooltip.calcTooltipPosition=function(a,e,h,g){var l=parseInt(g.offsetHeight),m=parseInt(g.offsetWidth),n=f.utils.windowSize().width,
q=f.utils.windowSize().height,r=window.pageYOffset,s=window.pageXOffset,u,x,q=window.innerWidth>=document.body.scrollWidth?q:q-16,n=window.innerHeight>=document.body.scrollHeight?n:n-16;h=h||20;var v=function(a){return f.tooltip.findTotalOffsetTop(a,x)},y=function(a){return f.tooltip.findTotalOffsetLeft(a,u)};switch(e||"s"){case "e":u=a[0]-m-h;x=a[1]-l/2;e=y(g);v=v(g);e<s&&(u=a[0]+h>s?a[0]+h:s-e+u);v<r&&(x=r-v+x);v+l>r+q&&(x=r+q-v+x-l);break;case "w":u=a[0]+h;x=a[1]-l/2;e=y(g);v=v(g);e+m>n&&(u=a[0]-
m-h);v<r&&(x=r+5);v+l>r+q&&(x=r+q-v+x-l);break;case "n":u=a[0]-m/2-5;x=a[1]+h;e=y(g);v=v(g);e<s&&(u=s+5);e+m>n&&(u=u-m/2+5);v+l>r+q&&(x=r+q-v+x-l);break;case "s":u=a[0]-m/2;x=a[1]-l-h;e=y(g);v=v(g);e<s&&(u=s+5);e+m>n&&(u=u-m/2+5);r>v&&(x=r);break;case "none":u=a[0],x=a[1]-h,e=y(g),v=v(g)}g.style.left=u+"px";g.style.top=x+"px";g.style.opacity=1;g.style.position="absolute";return g};f.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),e=[];a.length;)e.push(a[0]),a[0].style.transitionDelay=
"0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var a=e.pop();a.parentNode.removeChild(a)}},500)}})();f.utils.windowSize=function(){var a={width:640,height:480};document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight);
window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight);return a};f.utils.windowResize=function(a){if(void 0!==a){var e=window.onresize;window.onresize=function(f){"function"==typeof e&&e(f);a(f)}}};f.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(e,f){return e.color||a[f%a.length]}:a:f.utils.defaultColor()};f.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(e,
f){return e.color||a[f%a.length]}};f.utils.customTheme=function(a,e,f){e=e||function(a){return a.key};f=f||d3.scale.category20().range();var g=f.length;return function(l,m){var n=e(l);g||(g=f.length);return"undefined"!==typeof a[n]?"function"===typeof a[n]?a[n]():a[n]:f[--g]}};f.utils.pjax=function(a,e){function h(g){d3.html(g,function(g){var h=d3.select(e).node();h.parentNode.replaceChild(d3.select(g).select(e).node(),h);f.utils.pjax(a,e)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,
this.textContent,this.href);h(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&h(d3.event.state)})};f.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var e=parseInt(a.style("font-size").replace("px",""));return a.text().length*e*0.5}return 0};f.utils.NaNtoZero=function(a){return"number"!==typeof a||isNaN(a)||null===a||Infinity===a?0:a};f.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,
c){if("function"===typeof this[a])this[a](c)}.bind(this));return this};f.models.axis=function(){function a(f){f.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var c=a.select("g");null!==y?e.ticks(y):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(m.range()[1]-m.range()[0])/100);c.transition().call(e);k=k||e.scale();var f=e.tickFormat();null==f&&(f=k.tickFormat());var l=c.selectAll("text.nv-axislabel").data([n||
null]);l.exit().remove();switch(e.orient()){case "top":l.enter().append("text").attr("class","nv-axislabel");var p=2==m.range().length?m.range()[1]:m.range()[m.range().length-1]+(m.range()[1]-m.range()[0]);l.attr("text-anchor","middle").attr("y",0).attr("x",p/2);q&&(p=a.selectAll("g.nv-axisMaxMin").data(m.domain()),p.enter().append("g").attr("class","nv-axisMaxMin").append("text"),p.exit().remove(),p.attr("transform",function(a,c){return"translate("+m(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",
-e.tickPadding()).attr("text-anchor","middle").text(function(a,c){var e=f(a);return(""+e).match("NaN")?"":e}),p.transition().attr("transform",function(a,c){return"translate("+m.range()[c]+",0)"}));break;case "bottom":var A=36,H=30,E=c.selectAll("g").select("text");s%360&&(E.each(function(a,c){var e=this.getBBox().width;e>H&&(H=e)}),p=Math.abs(Math.sin(s*Math.PI/180)),A=(p?p*H:H)+30,E.attr("transform",function(a,c,e){return"rotate("+s+" 0,0)"}).style("text-anchor",0<s%360?"start":"end"));l.enter().append("text").attr("class",
"nv-axislabel");p=2==m.range().length?m.range()[1]:m.range()[m.range().length-1]+(m.range()[1]-m.range()[0]);l.attr("text-anchor","middle").attr("y",A).attr("x",p/2);q&&(p=a.selectAll("g.nv-axisMaxMin").data([m.domain()[0],m.domain()[m.domain().length-1]]),p.enter().append("g").attr("class","nv-axisMaxMin").append("text"),p.exit().remove(),p.attr("transform",function(a,c){return"translate("+(m(a)+(v?m.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",
function(a,c,e){return"rotate("+s+" 0,0)"}).style("text-anchor",s?0<s%360?"start":"end":"middle").text(function(a,c){var e=f(a);return(""+e).match("NaN")?"":e}),p.transition().attr("transform",function(a,c){return"translate("+(m(a)+(v?m.rangeBand()/2:0))+",0)"}));x&&E.attr("transform",function(a,c){return"translate(0,"+(0==c%2?"0":"12")+")"});break;case "right":l.enter().append("text").attr("class","nv-axislabel");l.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",
u?-Math.max(h.right,g)+12:-10).attr("x",u?m.range()[0]/2:e.tickPadding());q&&(p=a.selectAll("g.nv-axisMaxMin").data(m.domain()),p.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(a,c){return"translate(0,"+m(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(a,c){var e=f(a);return(""+e).match("NaN")?"":e}),p.transition().attr("transform",function(a,
c){return"translate(0,"+m.range()[c]+")"}).select("text").style("opacity",1));break;case "left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?-Math.max(h.left,g)+z:-10).attr("x",u?-m.range()[0]/2:-e.tickPadding()),q&&(p=a.selectAll("g.nv-axisMaxMin").data(m.domain()),p.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),p.exit().remove(),p.attr("transform",function(a,c){return"translate(0,"+
k(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(a,c){var e=f(a);return(""+e).match("NaN")?"":e}),p.transition().attr("transform",function(a,c){return"translate(0,"+m.range()[c]+")"}).select("text").style("opacity",1))}l.text(function(a){return a});!q||"left"!==e.orient()&&"right"!==e.orient()||(c.selectAll("g").each(function(a,c){d3.select(this).select("text").attr("opacity",1);if(m(a)<m.range()[1]+10||m(a)>m.range()[0]-10)(1E-10<
a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),m.domain()[0]==m.domain()[1]&&0==m.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,c){return c?0:1}));if(q&&("top"===e.orient()||"bottom"===e.orient())){var G=[];a.selectAll("g.nv-axisMaxMin").each(function(a,c){try{c?G.push(m(a)-this.getBBox().width-4):G.push(m(a)+this.getBBox().width+4)}catch(e){c?G.push(m(a)-4):G.push(m(a)+4)}});c.selectAll("g").each(function(a,c){if(m(a)<G[0]||
m(a)>G[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}r&&c.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a.__data__)/1E6)&&void 0!==a.__data__}).classed("zero",!0);k=m.copy()});return a}var e=d3.svg.axis(),h={top:0,right:0,bottom:0,left:0},g=75,l=60,m=d3.scale.linear(),n=null,q=!0,r=!0,s=0,u=!0,x=!1,v=!1,y=null,z=12;e.scale(m).orient("bottom").tickFormat(function(a){return a});var k;a.axis=e;d3.rebind(a,e,"orient","tickValues","tickSubdivide",
"tickSize","tickPadding","tickFormat");d3.rebind(a,m,"domain","range","rangeBand","rangeBands");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return h;h.top="undefined"!=typeof e.top?e.top:h.top;h.right="undefined"!=typeof e.right?e.right:h.right;h.bottom="undefined"!=typeof e.bottom?e.bottom:h.bottom;h.left="undefined"!=typeof e.left?e.left:h.left;return a};a.width=function(e){if(!arguments.length)return g;g=e;return a};a.ticks=function(e){if(!arguments.length)return y;
y=e;return a};a.height=function(e){if(!arguments.length)return l;l=e;return a};a.axisLabel=function(e){if(!arguments.length)return n;n=e;return a};a.showMaxMin=function(e){if(!arguments.length)return q;q=e;return a};a.highlightZero=function(e){if(!arguments.length)return r;r=e;return a};a.scale=function(f){if(!arguments.length)return m;m=f;e.scale(m);v="function"===typeof m.rangeBands;d3.rebind(a,m,"domain","range","rangeBand","rangeBands");return a};a.rotateYLabel=function(e){if(!arguments.length)return u;
u=e;return a};a.rotateLabels=function(e){if(!arguments.length)return s;s=e;return a};a.staggerLabels=function(e){if(!arguments.length)return x;x=e;return a};a.axisLabelDistance=function(e){if(!arguments.length)return z;z=e;return a};return a};f.models.historicalBar=function(){function a(F){F.each(function(a){var c=h-e.left-e.right,H=g-e.top-e.bottom,E=d3.select(this);m.domain(z||d3.extent(a[0].values.map(q).concat(s)));x?m.range(p||[0.5*c/a[0].values.length,c*(a[0].values.length-0.5)/a[0].values.length]):
m.range(p||[0,c]);n.domain(k||d3.extent(a[0].values.map(r).concat(u))).range(w||[H,0]);m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-0.01*m.domain()[0],m.domain()[1]+0.01*m.domain()[1]]):m.domain([-1,1]));n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+0.01*n.domain()[0],n.domain()[1]-0.01*n.domain()[1]]):n.domain([-1,1]));var G=E.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([a[0].values]),F=G.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
l),J=F.append("defs"),F=F.append("g"),N=G.select("g");F.append("g").attr("class","nv-bars");G.attr("transform","translate("+e.left+","+e.top+")");E.on("click",function(a,c){B.chartClick({data:a,index:c,pos:d3.event,id:l})});J.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect");G.select("#nv-chart-clip-path-"+l+" rect").attr("width",c).attr("height",H);N.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");H=G.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
c){return q(a,c)});H.exit().remove();H.enter().append("rect").attr("x",0).attr("y",function(a,c){return f.utils.NaNtoZero(n(Math.max(0,r(a,c))))}).attr("height",function(a,c){return f.utils.NaNtoZero(Math.abs(n(r(a,c))-n(0)))}).attr("transform",function(e,f){return"translate("+(m(q(e,f))-c/a[0].values.length*0.45)+",0)"}).on("mouseover",function(c,e){D&&(d3.select(this).classed("hover",!0),B.elementMouseover({point:c,series:a[0],pos:[m(q(c,e)),n(r(c,e))],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("mouseout",
function(c,e){D&&(d3.select(this).classed("hover",!1),B.elementMouseout({point:c,series:a[0],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("click",function(a,c){D&&(B.elementClick({value:r(a,c),data:a,index:c,pos:[m(q(a,c)),n(r(a,c))],e:d3.event,id:l}),d3.event.stopPropagation())}).on("dblclick",function(a,c){D&&(B.elementDblClick({value:r(a,c),data:a,index:c,pos:[m(q(a,c)),n(r(a,c))],e:d3.event,id:l}),d3.event.stopPropagation())});H.attr("fill",function(a,c){return y(a,c)}).attr("class",function(a,
c,e){return(0>r(a,c)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+e+"-"+c}).transition().attr("transform",function(e,f){return"translate("+(m(q(e,f))-c/a[0].values.length*0.45)+",0)"}).attr("width",c/a[0].values.length*0.9);H.transition().attr("y",function(a,c){var e=0>r(a,c)?n(0):1>n(0)-n(r(a,c))?n(0)-1:n(r(a,c));return f.utils.NaNtoZero(e)}).attr("height",function(a,c){return f.utils.NaNtoZero(Math.max(Math.abs(n(r(a,c))-n(0)),1))})});return a}var e={top:0,right:0,bottom:0,left:0},h=960,g=500,
l=Math.floor(1E4*Math.random()),m=d3.scale.linear(),n=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=[],u=[0],x=!1,v=!0,y=f.utils.defaultColor(),z,k,p,w,B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),D=!0;a.highlightPoint=function(a,c){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar-0-"+a).classed("hover",c)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar.hover").classed("hover",
!1)};a.dispatch=B;a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return q;q=e;return a};a.y=function(e){if(!arguments.length)return r;r=e;return a};a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};
a.height=function(e){if(!arguments.length)return g;g=e;return a};a.xScale=function(e){if(!arguments.length)return m;m=e;return a};a.yScale=function(e){if(!arguments.length)return n;n=e;return a};a.xDomain=function(e){if(!arguments.length)return z;z=e;return a};a.yDomain=function(e){if(!arguments.length)return k;k=e;return a};a.xRange=function(e){if(!arguments.length)return p;p=e;return a};a.yRange=function(e){if(!arguments.length)return w;w=e;return a};a.forceX=function(e){if(!arguments.length)return s;
s=e;return a};a.forceY=function(e){if(!arguments.length)return u;u=e;return a};a.padData=function(e){if(!arguments.length)return x;x=e;return a};a.clipEdge=function(e){if(!arguments.length)return v;v=e;return a};a.color=function(e){if(!arguments.length)return y;y=f.utils.getColor(e);return a};a.id=function(e){if(!arguments.length)return l;l=e;return a};a.interactive=function(e){if(!arguments.length)return D;D=!1;return a};return a};f.models.bullet=function(){function a(f){f.each(function(a,c){var f=
r-e.left-e.right,h=s-e.top-e.bottom,u=d3.select(this),y=l.call(this,a,c).slice().sort(d3.descending),F=m.call(this,a,c).slice().sort(d3.descending),K=n.call(this,a,c).slice().sort(d3.descending),A=(a.rangeLabels?a.rangeLabels:[]).slice(),H=(a.markerLabels?a.markerLabels:[]).slice(),E=(a.measureLabels?a.measureLabels:[]).slice(),G=d3.scale.linear().domain(d3.extent(d3.merge([q,y]))).range(g?[f,0]:[0,f]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(G.range());this.__chart__=G;var f=
d3.min(y),Q=d3.max(y),y=y[1],u=u.selectAll("g.nv-wrap.nv-bullet").data([a]),J=u.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),N=u.select("g");J.append("rect").attr("class","nv-range nv-rangeMax");J.append("rect").attr("class","nv-range nv-rangeAvg");J.append("rect").attr("class","nv-range nv-rangeMin");J.append("rect").attr("class","nv-measure");J.append("path").attr("class","nv-markerTriangle");u.attr("transform","translate("+e.left+","+e.top+")");var J=function(a){return Math.abs(G(a)-
G(0))},R=function(a){return 0>a?G(a):G(0)};N.select("rect.nv-rangeMax").attr("height",h).attr("width",J(0<Q?Q:f)).attr("x",R(0<Q?Q:f)).datum(0<Q?Q:f);N.select("rect.nv-rangeAvg").attr("height",h).attr("width",J(y)).attr("x",R(y)).datum(y);N.select("rect.nv-rangeMin").attr("height",h).attr("width",J(Q)).attr("x",R(Q)).attr("width",J(0<Q?f:Q)).attr("x",R(0<Q?f:Q)).datum(0<Q?f:Q);N.select("rect.nv-measure").style("fill",x).attr("height",h/3).attr("y",h/3).attr("width",0>K?G(0)-G(K[0]):G(K[0])-G(0)).attr("x",
R(K)).on("mouseover",function(){v.elementMouseover({value:K[0],label:E[0]||"Current",pos:[G(K[0]),h/2]})}).on("mouseout",function(){v.elementMouseout({value:K[0],label:E[0]||"Current"})});f=h/6;if(F[0])N.selectAll("path.nv-markerTriangle").attr("transform",function(a){return"translate("+G(F[0])+","+h/2+")"}).attr("d","M0,"+f+"L"+f+","+-f+" "+-f+","+-f+"Z").on("mouseover",function(){v.elementMouseover({value:F[0],label:H[0]||"Previous",pos:[G(F[0]),h/2]})}).on("mouseout",function(){v.elementMouseout({value:F[0],
label:H[0]||"Previous"})});else N.selectAll("path.nv-markerTriangle").remove();u.selectAll(".nv-range").on("mouseover",function(a,c){v.elementMouseover({value:a,label:A[c]||(c?1==c?"Mean":"Minimum":"Maximum"),pos:[G(a),h/2]})}).on("mouseout",function(a,c){v.elementMouseout({value:a,label:A[c]||(c?1==c?"Mean":"Minimum":"Maximum")})})});return a}var e={top:0,right:0,bottom:0,left:0},h="left",g=!1,l=function(a){return a.ranges},m=function(a){return a.markers},n=function(a){return a.measures},q=[0],r=
380,s=30,u=null,x=f.utils.getColor(["#1f77b4"]),v=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=v;a.options=f.utils.optionsFunc.bind(a);a.orient=function(e){if(!arguments.length)return h;h=e;g="right"==h||"bottom"==h;return a};a.ranges=function(e){if(!arguments.length)return l;l=e;return a};a.markers=function(e){if(!arguments.length)return m;m=e;return a};a.measures=function(e){if(!arguments.length)return n;n=e;return a};a.forceX=function(e){if(!arguments.length)return q;q=e;return a};
a.width=function(e){if(!arguments.length)return r;r=e;return a};a.height=function(e){if(!arguments.length)return s;s=e;return a};a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.tickFormat=function(e){if(!arguments.length)return u;u=e;return a};a.color=function(e){if(!arguments.length)return x;
x=f.utils.getColor(e);return a};return a};f.models.bulletChart=function(){function a(h){h.each(function(p,w){var B=d3.select(this),D=(r||parseInt(B.style("width"))||960)-l.left-l.right,F=s-l.top-l.bottom,K=this;a.update=function(){a(h)};a.container=this;if(p&&m.call(this,p,w))B.selectAll(".nv-noData").remove();else return B=B.selectAll(".nv-noData").data([y]),B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",l.left+D/2).attr("y",18+
l.top+F/2).text(function(a){return a}),a;var A=m.call(this,p,w).slice().sort(d3.descending),H=n.call(this,p,w).slice().sort(d3.descending),E=q.call(this,p,w).slice().sort(d3.descending),G=B.selectAll("g.nv-wrap.nv-bulletChart").data([p]),Q=G.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),B=G.select("g");Q.append("g").attr("class","nv-bulletWrap");Q.append("g").attr("class","nv-titles");G.attr("transform","translate("+l.left+","+l.top+")");var J=d3.scale.linear().domain([0,
Math.max(A[0],H[0],E[0])]).range(g?[D,0]:[0,D]),N=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(J.range());this.__chart__=J;A=Q.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(s-l.top-l.bottom)/2+")");A.append("text").attr("class","nv-title").text(function(a){return a.title});A.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});e.width(D).height(F);A=B.select(".nv-bulletWrap");d3.transition(A).call(e);
var R=u||J.tickFormat(D/100),D=B.selectAll("g.nv-tick").data(J.ticks(D/50),function(a){return this.textContent||R(a)}),B=D.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+N(a)+",0)"}).style("opacity",1E-6);B.append("line").attr("y1",F).attr("y2",7*F/6);B.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*F/6).text(R);B=d3.transition(D).attr("transform",function(a){return"translate("+J(a)+",0)"}).style("opacity",1);B.select("line").attr("y1",
F).attr("y2",7*F/6);B.select("text").attr("y",7*F/6);d3.transition(D.exit()).attr("transform",function(a){return"translate("+J(a)+",0)"}).style("opacity",1E-6).remove();z.on("tooltipShow",function(e){e.key=p.title;if(x){var g=K.parentNode,h=e.pos[0]+(g.offsetLeft||0)+l.left,k=e.pos[1]+(g.offsetTop||0)+l.top,m=v(e.key,e.label,e.value,e,a);f.tooltip.show([h,k],m,0>e.value?"e":"w",null,g)}})});d3.timer.flush();return a}var e=f.models.bullet(),h="left",g=!1,l={top:5,right:40,bottom:20,left:120},m=function(a){return a.ranges},
n=function(a){return a.markers},q=function(a){return a.measures},r=null,s=55,u=null,x=!0,v=function(a,c,e,f,g){return"<h3>"+c+"</h3><p>"+e+"</p>"},y="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide");e.dispatch.on("elementMouseover.tooltip",function(a){z.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});z.on("tooltipHide",function(){x&&f.tooltip.cleanup()});a.dispatch=z;a.bullet=e;d3.rebind(a,e,"color");a.options=f.utils.optionsFunc.bind(a);a.orient=
function(e){if(!arguments.length)return h;h=e;g="right"==h||"bottom"==h;return a};a.ranges=function(e){if(!arguments.length)return m;m=e;return a};a.markers=function(e){if(!arguments.length)return n;n=e;return a};a.measures=function(e){if(!arguments.length)return q;q=e;return a};a.width=function(e){if(!arguments.length)return r;r=e;return a};a.height=function(e){if(!arguments.length)return s;s=e;return a};a.margin=function(e){if(!arguments.length)return l;l.top="undefined"!=typeof e.top?e.top:l.top;
l.right="undefined"!=typeof e.right?e.right:l.right;l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom;l.left="undefined"!=typeof e.left?e.left:l.left;return a};a.tickFormat=function(e){if(!arguments.length)return u;u=e;return a};a.tooltips=function(e){if(!arguments.length)return x;x=e;return a};a.tooltipContent=function(e){if(!arguments.length)return v;v=e;return a};a.noData=function(e){if(!arguments.length)return y;y=e;return a};return a};f.models.cumulativeLineChart=function(){function a(I){I.each(function(I){function L(){aa.data([P]);
var e=a.transitionDuration();a.transitionDuration(0);a.update();a.transitionDuration(e)}var M=d3.select(this).classed("nv-chart-"+H,!0),X=this,S=(u||parseInt(M.style("width"))||960)-r.left-r.right,Z=(x||parseInt(M.style("height"))||400)-r.top-r.bottom;a.update=function(){M.transition().duration(R).call(a)};a.container=this;E.disabled=I.map(function(a){return!!a.disabled});if(!G){var ba;G={};for(ba in E)G[ba]=E[ba]instanceof Array?E[ba].slice(0):E[ba]}ba=d3.behavior.drag().on("dragstart",function(e,
f){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,c){P.x=d3.event.x;P.i=Math.round(O.invert(P.x));L()}).on("dragend",function(e,f){d3.select(a.container).style("cursor","auto");E.index=P.i;N.stateChange(E)});if(I&&I.length&&I.filter(function(a){return a.values.length}).length)M.selectAll(".nv-noData").remove();else return ba=M.selectAll(".nv-noData").data([Q]),ba.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ba.attr("x",
r.left+S/2).attr("y",r.top+Z/2).text(function(a){return a}),a;K=h.xScale();A=h.yScale();if(D)h.yDomain(null);else{var Y=I.filter(function(a){return!a.disabled}).map(function(a,c){var e=d3.extent(a.values,h.y());-0.95>e[0]&&(e[0]=-0.95);return[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),Y=[d3.min(Y,function(a){return a[0]}),d3.max(Y,function(a){return a[1]})];h.yDomain(Y)}O.domain([0,I[0].values.length-1]).range([0,S]).clamp(!0);I=e(P.i,I);var V=B?"none":"all",ca=M.selectAll("g.nv-wrap.nv-cumulativeLine").data([I]),
U=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Y=ca.select("g");U.append("g").attr("class","nv-interactive");U.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");U.append("g").attr("class","nv-y nv-axis");U.append("g").attr("class","nv-background");U.append("g").attr("class","nv-linesWrap").style("pointer-events",V);U.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");U.append("g").attr("class","nv-legendWrap");U.append("g").attr("class",
"nv-controlsWrap");v&&(m.width(S),Y.select(".nv-legendWrap").datum(I).call(m),r.top!=m.height()&&(r.top=m.height(),Z=(x||parseInt(M.style("height"))||400)-r.top-r.bottom),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")"));w&&(V=[{key:"Re-scale y-axis",disabled:!D}],n.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Y.select(".nv-controlsWrap").datum(V).attr("transform","translate(0,"+-r.top+")").call(n));ca.attr("transform","translate("+
r.left+","+r.top+")");k&&Y.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)");V=I.filter(function(a){return a.tempDisabled});ca.select(".tempDisabled").remove();V.length&&ca.append("text").attr("class","tempDisabled").attr("x",S/2).attr("y","-.71em").style("text-anchor","end").text(V.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");B&&(q.width(S).height(Z).margin({left:r.left,top:r.top}).svgContainer(M).xScale(K),ca.select(".nv-interactive").call(q));
U.select(".nv-background").append("rect");Y.select(".nv-background rect").attr("width",S).attr("height",Z);h.y(function(a){return a.display.y}).width(S).height(Z).color(I.map(function(a,c){return a.color||s(a,c)}).filter(function(a,c){return!I[c].disabled&&!I[c].tempDisabled}));ca=Y.select(".nv-linesWrap").datum(I.filter(function(a){return!a.disabled&&!a.tempDisabled}));ca.call(h);I.forEach(function(a,c){a.seriesIndex=c});U=I.filter(function(a){return!a.disabled&&!!J(a)});U=Y.select(".nv-avgLinesWrap").selectAll("line").data(U,
function(a){return a.key});V=function(a){a=A(J(a));return 0>a?0:a>Z?Z:a};U.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,c){return h.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",S).attr("y1",V).attr("y2",V);U.style("stroke-opacity",function(a){a=A(J(a));return 0>a||a>Z?0:1}).attr("x1",0).attr("x2",S).attr("y1",V).attr("y2",V);U.exit().remove();var aa=ca.selectAll(".nv-indexLine").data([P]);aa.enter().append("rect").attr("class","nv-indexLine").attr("width",
3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).style("pointer-events","all").call(ba);aa.attr("transform",function(a){return"translate("+O(a.i)+",0)"}).attr("height",Z);y&&(g.scale(K).ticks(Math.min(I[0].values.length,S/70)).tickSize(-Z,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+A.range()[0]+")"),d3.transition(Y.select(".nv-x.nv-axis")).call(g));z&&(l.scale(A).ticks(Z/36).tickSize(-S,0),d3.transition(Y.select(".nv-y.nv-axis")).call(l));Y.select(".nv-background rect").on("click",
function(){P.x=d3.mouse(this)[0];P.i=Math.round(O.invert(P.x));E.index=P.i;N.stateChange(E);L()});h.dispatch.on("elementClick",function(a){P.i=a.pointIndex;P.x=O(P.i);E.index=P.i;N.stateChange(E);L()});n.dispatch.on("legendClick",function(e,f){e.disabled=!e.disabled;D=!e.disabled;E.rescaleY=D;N.stateChange(E);a.update()});m.dispatch.on("stateChange",function(e){E.disabled=e.disabled;N.stateChange(E);a.update()});q.dispatch.on("elementMousemove",function(e){h.clearHighlights();var k,m,n,u=[];I.filter(function(a,
c){a.seriesIndex=c;return!a.disabled}).forEach(function(g,l){m=f.interactiveBisect(g.values,e.pointXValue,a.x());h.highlightPoint(l,m,!0);var p=g.values[m];"undefined"!==typeof p&&("undefined"===typeof k&&(k=p),"undefined"===typeof n&&(n=a.xScale()(a.x()(p,m))),u.push({key:g.key,value:a.y()(p,m),color:s(g,g.seriesIndex)}))});if(2<u.length){var w=a.yScale().invert(e.mouseY),v=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),w=f.nearestValueIndex(u.map(function(a){return a.value}),w,v);
null!==w&&(u[w].highlight=!0)}w=g.tickFormat()(a.x()(k,m),m);q.tooltip.position({left:n+r.left,top:e.mouseY+r.top}).chartContainer(X.parentNode).enabled(p).valueFormatter(function(a,c){return l.tickFormat()(a)}).data({value:w,series:u})();q.renderGuideLine(n)});q.dispatch.on("elementMouseout",function(a){N.tooltipHide();h.clearHighlights()});N.on("tooltipShow",function(e){if(p){var k=X.parentNode,m=e.pos[0]+(k.offsetLeft||0),n=e.pos[1]+(k.offsetTop||0),q=g.tickFormat()(h.x()(e.point,e.pointIndex)),
r=l.tickFormat()(h.y()(e.point,e.pointIndex));e=F(e.series.key,q,r,e,a);f.tooltip.show([m,n],e,null,null,k)}});N.on("changeState",function(e){"undefined"!==typeof e.disabled&&(I.forEach(function(a,c){a.disabled=e.disabled[c]}),E.disabled=e.disabled);"undefined"!==typeof e.index&&(P.i=e.index,P.x=O(P.i),E.index=e.index,aa.data([P]));"undefined"!==typeof e.rescaleY&&(D=e.rescaleY);a.update()})});return a}function e(a,c){return c.map(function(c,e){if(!c.values)return c;var f=c.values[a];if(null==f)return c;
var g=h.y()(f,a);if(-0.95>g&&!L)return c.tempDisabled=!0,c;c.tempDisabled=!1;c.values=c.values.map(function(a,c){a.display={y:(h.y()(a,c)-g)/(1+g)};return a});return c})}var h=f.models.line(),g=f.models.axis(),l=f.models.axis(),m=f.models.legend(),n=f.models.legend(),q=f.interactiveGuideline(),r={top:30,right:30,bottom:50,left:60},s=f.utils.defaultColor(),u=null,x=null,v=!0,y=!0,z=!0,k=!1,p=!0,w=!0,B=!1,D=!0,F=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+" at "+c+"</p>"},K,A,H=h.id(),E={index:0,
rescaleY:D},G=null,Q="No Data Available.",J=function(a){return a.average},N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),R=250,L=!1;g.orient("bottom").tickPadding(7);l.orient(k?"right":"left");n.updateState(!1);var O=d3.scale.linear(),P={i:0,x:0};h.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+r.left,a.pos[1]+r.top];N.tooltipShow(a)});h.dispatch.on("elementMouseout.tooltip",function(a){N.tooltipHide(a)});N.on("tooltipHide",function(){p&&f.tooltip.cleanup()});
a.dispatch=N;a.lines=h;a.legend=m;a.xAxis=g;a.yAxis=l;a.interactiveLayer=q;d3.rebind(a,h,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return r;r.top="undefined"!=typeof e.top?e.top:r.top;r.right="undefined"!=typeof e.right?e.right:r.right;r.bottom="undefined"!=typeof e.bottom?e.bottom:r.bottom;r.left=
"undefined"!=typeof e.left?e.left:r.left;return a};a.width=function(e){if(!arguments.length)return u;u=e;return a};a.height=function(e){if(!arguments.length)return x;x=e;return a};a.color=function(e){if(!arguments.length)return s;s=f.utils.getColor(e);m.color(s);return a};a.rescaleY=function(e){if(!arguments.length)return D;D=e;return a};a.showControls=function(e){if(!arguments.length)return w;w=e;return a};a.useInteractiveGuideline=function(e){if(!arguments.length)return B;B=e;!0===e&&(a.interactive(!1),
a.useVoronoi(!1));return a};a.showLegend=function(e){if(!arguments.length)return v;v=e;return a};a.showXAxis=function(e){if(!arguments.length)return y;y=e;return a};a.showYAxis=function(e){if(!arguments.length)return z;z=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return k;k=e;l.orient(e?"right":"left");return a};a.tooltips=function(e){if(!arguments.length)return p;p=e;return a};a.tooltipContent=function(e){if(!arguments.length)return F;F=e;return a};a.state=function(e){if(!arguments.length)return E;
E=e;return a};a.defaultState=function(e){if(!arguments.length)return G;G=e;return a};a.noData=function(e){if(!arguments.length)return Q;Q=e;return a};a.average=function(e){if(!arguments.length)return J;J=e;return a};a.transitionDuration=function(e){if(!arguments.length)return R;R=e;return a};a.noErrorCheck=function(e){if(!arguments.length)return L;L=e;return a};return a};f.models.discreteBar=function(){function a(f){f.each(function(a){var c=h-e.left-e.right,f=g-e.top-e.bottom,l=d3.select(this);a.forEach(function(a,
c){a.values.forEach(function(a){a.series=c})});var G=y&&z?[]:a.map(function(a){return a.values.map(function(a,c){return{x:q(a,c),y:r(a,c),y0:a.y0}})});m.domain(y||d3.merge(G).map(function(a){return a.x})).rangeBands(k||[0,c],0.1);n.domain(z||d3.extent(d3.merge(G).map(function(a){return a.y}).concat(s)));x?n.range(p||[f-(0>n.domain()[0]?12:0),0<n.domain()[1]?12:0]):n.range(p||[f,0]);D=D||n.copy().range([n(0),n(0)]);c=l.selectAll("g.nv-wrap.nv-discretebar").data([a]);f=c.enter().append("g").attr("class",
"nvd3 nv-wrap nv-discretebar").append("g");c.select("g");f.append("g").attr("class","nv-groups");c.attr("transform","translate("+e.left+","+e.top+")");c=c.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});c.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);c.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();c.attr("class",function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover});
c.transition().style("stroke-opacity",1).style("fill-opacity",0.75);c=c.selectAll("g.nv-bar").data(function(a){return a.values});c.exit().remove();f=c.enter().append("g").attr("transform",function(a,c,e){return"translate("+(m(q(a,c))+0.05*m.rangeBand())+", "+n(0)+")"}).on("mouseover",function(c,e){d3.select(this).classed("hover",!0);w.elementMouseover({value:r(c,e),point:c,series:a[c.series],pos:[m(q(c,e))+m.rangeBand()*(c.series+0.5)/a.length,n(r(c,e))],pointIndex:e,seriesIndex:c.series,e:d3.event})}).on("mouseout",
function(c,e){d3.select(this).classed("hover",!1);w.elementMouseout({value:r(c,e),point:c,series:a[c.series],pointIndex:e,seriesIndex:c.series,e:d3.event})}).on("click",function(c,e){w.elementClick({value:r(c,e),point:c,series:a[c.series],pos:[m(q(c,e))+m.rangeBand()*(c.series+0.5)/a.length,n(r(c,e))],pointIndex:e,seriesIndex:c.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(c,e){w.elementDblClick({value:r(c,e),point:c,series:a[c.series],pos:[m(q(c,e))+m.rangeBand()*(c.series+
0.5)/a.length,n(r(c,e))],pointIndex:e,seriesIndex:c.series,e:d3.event});d3.event.stopPropagation()});f.append("rect").attr("height",0).attr("width",0.9*m.rangeBand()/a.length);x?(f.append("text").attr("text-anchor","middle"),c.select("text").text(function(a,c){return v(r(a,c))}).transition().attr("x",0.9*m.rangeBand()/2).attr("y",function(a,c){return 0>r(a,c)?n(r(a,c))-n(0)+12:-4})):c.selectAll("text").remove();c.attr("class",function(a,c){return 0>r(a,c)?"nv-bar negative":"nv-bar positive"}).style("fill",
function(a,c){return a.color||u(a,c)}).style("stroke",function(a,c){return a.color||u(a,c)}).select("rect").attr("class",B).transition().attr("width",0.9*m.rangeBand()/a.length);c.transition().attr("transform",function(a,c){var e=m(q(a,c))+0.05*m.rangeBand(),f=0>r(a,c)?n(0):1>n(0)-n(r(a,c))?n(0)-1:n(r(a,c));return"translate("+e+", "+f+")"}).select("rect").attr("height",function(a,c){return Math.max(Math.abs(n(r(a,c))-n(z&&z[0]||0))||1)});m.copy();D=n.copy()});return a}var e={top:0,right:0,bottom:0,
left:0},h=960,g=500,l=Math.floor(1E4*Math.random()),m=d3.scale.ordinal(),n=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=[0],u=f.utils.defaultColor(),x=!1,v=d3.format(",.2f"),y,z,k,p,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),B="discreteBar",D;a.dispatch=w;a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return q;q=e;return a};a.y=function(e){if(!arguments.length)return r;r=e;return a};a.margin=
function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.xScale=function(e){if(!arguments.length)return m;m=e;return a};a.yScale=function(e){if(!arguments.length)return n;n=e;
return a};a.xDomain=function(e){if(!arguments.length)return y;y=e;return a};a.yDomain=function(e){if(!arguments.length)return z;z=e;return a};a.xRange=function(e){if(!arguments.length)return k;k=e;return a};a.yRange=function(e){if(!arguments.length)return p;p=e;return a};a.forceY=function(e){if(!arguments.length)return s;s=e;return a};a.color=function(e){if(!arguments.length)return u;u=f.utils.getColor(e);return a};a.id=function(e){if(!arguments.length)return l;l=e;return a};a.showValues=function(e){if(!arguments.length)return x;
x=e;return a};a.valueFormat=function(e){if(!arguments.length)return v;v=e;return a};a.rectClass=function(e){if(!arguments.length)return B;B=e;return a};return a};f.models.discreteBarChart=function(){function a(q){q.each(function(q){var D=d3.select(this),A=this,H=(m||parseInt(D.style("width"))||960)-l.left-l.right,E=(n||parseInt(D.style("height"))||400)-l.top-l.bottom;a.update=function(){w.beforeUpdate();D.transition().duration(B).call(a)};a.container=this;if(q&&q.length&&q.filter(function(a){return a.values.length}).length)D.selectAll(".nv-noData").remove();
else return q=D.selectAll(".nv-noData").data([p]),q.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),q.attr("x",l.left+H/2).attr("y",l.top+E/2).text(function(a){return a}),a;z=e.xScale();k=e.yScale().clamp(!0);var G=D.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([q]),Q=G.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),J=Q.append("defs"),G=G.select("g");Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class",
"nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");Q.append("g").attr("class","nv-barsWrap");G.attr("transform","translate("+l.left+","+l.top+")");u&&G.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)");e.width(H).height(E);G.select(".nv-barsWrap").datum(q.filter(function(a){return!a.disabled})).transition().call(e);J.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect");G.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",z.rangeBand()*(x?2:1)).attr("height",
16).attr("x",-z.rangeBand()/(x?1:2));r&&(h.scale(z).ticks(H/100).tickSize(-E,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+(k.range()[0]+(e.showValues()&&0>k.domain()[0]?16:0))+")"),G.select(".nv-x.nv-axis").transition().call(h),q=G.select(".nv-x.nv-axis").selectAll("g"),x&&q.selectAll("text").attr("transform",function(a,c,e){return"translate(0,"+(0==e%2?"5":"17")+")"}));s&&(g.scale(k).ticks(E/36).tickSize(-H,0),G.select(".nv-y.nv-axis").transition().call(g));G.select(".nv-zeroLine line").attr("x1",
0).attr("x2",H).attr("y1",k(0)).attr("y2",k(0));w.on("tooltipShow",function(k){if(v){var l=A.parentNode,m=k.pos[0]+(l.offsetLeft||0),n=k.pos[1]+(l.offsetTop||0),p=h.tickFormat()(e.x()(k.point,k.pointIndex)),q=g.tickFormat()(e.y()(k.point,k.pointIndex)),p=y(k.series.key,p,q,k,a);f.tooltip.show([m,n],p,0>k.value?"n":"s",null,l)}})});return a}var e=f.models.discreteBar(),h=f.models.axis(),g=f.models.axis(),l={top:15,right:10,bottom:50,left:60},m=null,n=null,q=f.utils.getColor(),r=!0,s=!0,u=!1,x=!1,v=
!0,y=function(a,c,e,f,g){return"<h3>"+c+"</h3><p>"+e+"</p>"},z,k,p="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),B=250;h.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});g.orient(u?"right":"left").tickFormat(d3.format(",.1f"));e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+l.left,a.pos[1]+l.top];w.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){v&&
f.tooltip.cleanup()});a.dispatch=w;a.discretebar=e;a.xAxis=h;a.yAxis=g;d3.rebind(a,e,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return l;l.top="undefined"!=typeof e.top?e.top:l.top;l.right="undefined"!=typeof e.right?e.right:l.right;l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom;l.left="undefined"!=typeof e.left?e.left:l.left;return a};a.width=function(e){if(!arguments.length)return m;
m=e;return a};a.height=function(e){if(!arguments.length)return n;n=e;return a};a.color=function(g){if(!arguments.length)return q;q=f.utils.getColor(g);e.color(q);return a};a.showXAxis=function(e){if(!arguments.length)return r;r=e;return a};a.showYAxis=function(e){if(!arguments.length)return s;s=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return u;u=e;g.orient(e?"right":"left");return a};a.staggerLabels=function(e){if(!arguments.length)return x;x=e;return a};a.tooltips=function(e){if(!arguments.length)return v;
v=e;return a};a.tooltipContent=function(e){if(!arguments.length)return y;y=e;return a};a.noData=function(e){if(!arguments.length)return p;p=e;return a};a.transitionDuration=function(e){if(!arguments.length)return B;B=e;return a};return a};f.models.distribution=function(){function a(f){f.each(function(a){var c="x"==l?"y":"x",f=d3.select(this);r=r||q;a=f.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");f=a.select("g");a.attr("transform",
"translate("+e.left+","+e.top+")");a=f.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,c){return"nv-dist nv-series-"+c}).style("stroke",function(a,c){return n(a,c)});f=a.selectAll("line.nv-dist"+l).data(function(a){return a.values});f.enter().append("line").attr(l+"1",function(a,c){return r(m(a,c))}).attr(l+"2",function(a,c){return r(m(a,c))});a.exit().selectAll("line.nv-dist"+l).transition().attr(l+"1",function(a,c){return q(m(a,
c))}).attr(l+"2",function(a,c){return q(m(a,c))}).style("stroke-opacity",0).remove();f.attr("class",function(a,c){return"nv-dist"+l+" nv-dist"+l+"-"+c}).attr(c+"1",0).attr(c+"2",g);f.transition().attr(l+"1",function(a,c){return q(m(a,c))}).attr(l+"2",function(a,c){return q(m(a,c))});r=q.copy()});return a}var e={top:0,right:0,bottom:0,left:0},h=400,g=8,l="x",m=function(a){return a[l]},n=f.utils.defaultColor(),q=d3.scale.linear(),r;a.options=f.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return e;
e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.axis=function(e){if(!arguments.length)return l;l=e;return a};a.size=function(e){if(!arguments.length)return g;g=e;return a};a.getData=function(e){if(!arguments.length)return m;m=d3.functor(e);return a};a.scale=function(e){if(!arguments.length)return q;
q=e;return a};a.color=function(e){if(!arguments.length)return n;n=f.utils.getColor(e);return a};return a};f.models.historicalBarChart=function(){function a(A){A.each(function(H){var E=d3.select(this),G=this,Q=(q||parseInt(E.style("width"))||960)-m.left-m.right,J=(r||parseInt(E.style("height"))||400)-m.top-m.bottom;a.update=function(){E.transition().duration(K).call(a)};a.container=this;w.disabled=H.map(function(a){return!!a.disabled});if(!B){var N;B={};for(N in w)B[N]=w[N]instanceof Array?w[N].slice(0):
w[N]}if(H&&H.length&&H.filter(function(a){return a.values.length}).length)E.selectAll(".nv-noData").remove();else return N=E.selectAll(".nv-noData").data([D]),N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",m.left+Q/2).attr("y",m.top+J/2).text(function(a){return a}),a;k=e.xScale();p=e.yScale();var R=E.selectAll("g.nv-wrap.nv-historicalBarChart").data([H]);N=R.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var L=R.select("g");N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis");N.append("g").attr("class","nv-barsWrap");N.append("g").attr("class","nv-legendWrap");s&&(l.width(Q),L.select(".nv-legendWrap").datum(H).call(l),m.top!=l.height()&&(m.top=l.height(),J=(r||parseInt(E.style("height"))||400)-m.top-m.bottom),R.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")"));R.attr("transform","translate("+m.left+","+m.top+")");v&&L.select(".nv-y.nv-axis").attr("transform",
"translate("+Q+",0)");e.width(Q).height(J).color(H.map(function(a,c){return a.color||n(a,c)}).filter(function(a,c){return!H[c].disabled}));L.select(".nv-barsWrap").datum(H.filter(function(a){return!a.disabled})).transition().call(e);u&&(h.scale(k).tickSize(-J,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),L.select(".nv-x.nv-axis").transition().call(h));x&&(g.scale(p).ticks(J/36).tickSize(-Q,0),L.select(".nv-y.nv-axis").transition().call(g));l.dispatch.on("legendClick",
function(e,f){e.disabled=!e.disabled;H.filter(function(a){return!a.disabled}).length||H.map(function(a){a.disabled=!1;R.selectAll(".nv-series").classed("disabled",!1);return a});w.disabled=H.map(function(a){return!!a.disabled});F.stateChange(w);A.transition().call(a)});l.dispatch.on("legendDblclick",function(e){H.forEach(function(a){a.disabled=!0});e.disabled=!1;w.disabled=H.map(function(a){return!!a.disabled});F.stateChange(w);a.update()});F.on("tooltipShow",function(k){if(y){var l=G.parentNode;
if(l){var m=d3.select(l).select("svg"),n=m.node()?m.attr("viewBox"):null;n&&(n=n.split(" "),m=parseInt(m.style("width"))/n[2],k.pos[0]*=m,k.pos[1]*=m)}var m=k.pos[0]+(l.offsetLeft||0),n=k.pos[1]+(l.offsetTop||0),p=h.tickFormat()(e.x()(k.point,k.pointIndex)),q=g.tickFormat()(e.y()(k.point,k.pointIndex));k=z(k.series.key,p,q,k,a);f.tooltip.show([m,n],k,null,null,l)}});F.on("changeState",function(e){"undefined"!==typeof e.disabled&&(H.forEach(function(a,c){a.disabled=e.disabled[c]}),w.disabled=e.disabled);
a.update()})});return a}var e=f.models.historicalBar(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend(),m={top:30,right:90,bottom:50,left:90},n=f.utils.defaultColor(),q=null,r=null,s=!1,u=!0,x=!0,v=!1,y=!0,z=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+" at "+c+"</p>"},k,p,w={},B=null,D="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),K=250;h.orient("bottom").tickPadding(7);g.orient(v?"right":"left");e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+m.left,a.pos[1]+m.top];F.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){F.tooltipHide(a)});F.on("tooltipHide",function(){y&&f.tooltip.cleanup()});a.dispatch=F;a.bars=e;a.legend=l;a.xAxis=h;a.yAxis=g;d3.rebind(a,e,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");a.options=f.utils.optionsFunc.bind(a);a.margin=
function(e){if(!arguments.length)return m;m.top="undefined"!=typeof e.top?e.top:m.top;m.right="undefined"!=typeof e.right?e.right:m.right;m.bottom="undefined"!=typeof e.bottom?e.bottom:m.bottom;m.left="undefined"!=typeof e.left?e.left:m.left;return a};a.width=function(e){if(!arguments.length)return q;q=e;return a};a.height=function(e){if(!arguments.length)return r;r=e;return a};a.color=function(e){if(!arguments.length)return n;n=f.utils.getColor(e);l.color(n);return a};a.showLegend=function(e){if(!arguments.length)return s;
s=e;return a};a.showXAxis=function(e){if(!arguments.length)return u;u=e;return a};a.showYAxis=function(e){if(!arguments.length)return x;x=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return v;v=e;g.orient(e?"right":"left");return a};a.tooltips=function(e){if(!arguments.length)return y;y=e;return a};a.tooltipContent=function(e){if(!arguments.length)return z;z=e;return a};a.state=function(e){if(!arguments.length)return w;w=e;return a};a.defaultState=function(e){if(!arguments.length)return B;
B=e;return a};a.noData=function(e){if(!arguments.length)return D;D=e;return a};a.transitionDuration=function(e){if(!arguments.length)return K;K=e;return a};return a};f.models.indentedTree=function(){function a(e){e.each(function(e){function f(e,g,h){d3.event.stopPropagation();if(d3.event.shiftKey&&!h)return d3.event.shiftKey=!1,e.values&&e.values.forEach(function(a){(a.values||a._values)&&f(a,0,!0)}),!0;if(!m(e))return!0;e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null);
a.update()}function h(a){return a._values&&a._values.length?v:a.values&&a.values.length?y:""}function l(a){return a._values&&a._values.length}function m(a){return(a=a.values||a._values)&&a.length}var w=1,E=d3.select(this),G=d3.layout.tree().children(function(a){return a.values}).size([g,s]);a.update=function(){E.transition().duration(600).call(a)};e[0]||(e[0]={key:r});var w=G.nodes(e[0]),Q=d3.select(this).selectAll("div").data([[w]]);e=Q.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table");
Q=Q.select("table").attr("width","100%").attr("class",x);if(n){var J=e.append("thead").append("tr");u.forEach(function(a){J.append("th").attr("width",a.width?a.width:"10%").style("text-align","numeric"==a.type?"right":"left").append("span").text(a.label)})}e=Q.selectAll("tbody").data(function(a){return a});e.enter().append("tbody");w=d3.max(w,function(a){return a.depth});G.size([g,w*s]);var N=e.selectAll("tr").data(function(a){return a.filter(function(a){return q&&!a.children?q(a):!0})},function(a,
c){return a.id||a.id||++p});N.exit().remove();N.select("img.nv-treeicon").attr("src",h).classed("folded",l);var R=N.enter().append("tr");u.forEach(function(a,c){var e=R.append("td").style("padding-left",function(a){return(c?0:a.depth*s+12+(h(a)?0:16))+"px"},"important").style("text-align","numeric"==a.type?"right":"left");if(0==c)e.append("img").classed("nv-treeicon",!0).classed("nv-folded",l).attr("src",h).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return h(a)?
"inline-block":"none"}).on("click",f);e.each(function(e){!c&&k(e)?d3.select(this).append("a").attr("href",k).attr("class",d3.functor(a.classes)).append("span"):d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(c){return a.format?c[a.key]?a.format(c[a.key]):"-":c[a.key]||"-"})});a.showCount&&(e.append("span").attr("class","nv-childrenCount"),N.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&
a._values.length?"("+(a.values&&a.values.filter(function(a){return q?q(a):!0}).length||a._values&&a._values.filter(function(a){return q?q(a):!0}).length||0)+")":""}))});N.order().on("click",function(a){z.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){z.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){z.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){z.elementMouseout({row:this,data:a,pos:[a.x,a.y]})})});return a}
var e={top:0,right:0,bottom:0,left:0},h=960,g=500,l=f.utils.defaultColor(),m=Math.floor(1E4*Math.random()),n=!0,q=!1,r="No Data Available.",s=20,u=[{key:"key",label:"Name",type:"text"}],x=null,v="images/grey-plus.png",y="images/grey-minus.png",z=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),k=function(a){return a.url},p=0;a.options=f.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right=
"undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.color=function(e){if(!arguments.length)return l;l=f.utils.getColor(e);scatter.color(l);return a};a.id=function(e){if(!arguments.length)return m;m=e;return a};a.header=function(e){if(!arguments.length)return n;n=e;
return a};a.noData=function(e){if(!arguments.length)return r;r=e;return a};a.filterZero=function(e){if(!arguments.length)return q;q=e;return a};a.columns=function(e){if(!arguments.length)return u;u=e;return a};a.tableClass=function(e){if(!arguments.length)return x;x=e;return a};a.iconOpen=function(e){if(!arguments.length)return v;v=e;return a};a.iconClose=function(e){if(!arguments.length)return y;y=e;return a};a.getUrl=function(e){if(!arguments.length)return k;k=e;return a};return a};f.models.legend=
function(){function a(x){x.each(function(a){var c=h-e.left-e.right,z=d3.select(this).selectAll("g.nv-legend").data([a]);z.enter().append("g").attr("class","nvd3 nv-legend").append("g");var k=z.select("g");z.attr("transform","translate("+e.left+","+e.top+")");var z=k.selectAll(".nv-series").data(function(a){return a}),p=z.enter().append("g").attr("class","nv-series").on("mouseover",function(a,c){u.legendMouseover(a,c)}).on("mouseout",function(a,c){u.legendMouseout(a,c)}).on("click",function(c,e){u.legendClick(c,
e);r&&(s?(a.forEach(function(a){a.disabled=!0}),c.disabled=!1):(c.disabled=!c.disabled,a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=!1})),u.stateChange({disabled:a.map(function(a){return!!a.disabled})}))}).on("dblclick",function(c,e){u.legendDblclick(c,e);r&&(a.forEach(function(a){a.disabled=!0}),c.disabled=!1,u.stateChange({disabled:a.map(function(a){return!!a.disabled})}))});p.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);p.append("text").attr("text-anchor",
"start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");z.classed("disabled",function(a){return a.disabled});z.exit().remove();z.select("circle").style("fill",function(a,c){return a.color||m(a,c)}).style("stroke",function(a,c){return a.color||m(a,c)});z.select("text").text(l);if(n){var w=[];z.each(function(a,c){var e=d3.select(this).select("text"),g;try{if(g=e.getComputedTextLength(),0>=g)throw Error();}catch(h){g=f.utils.calcApproxTextWidth(e)}w.push(g+28)});for(var x=0,D=0,p=[];D<
c&&x<w.length;)p[x]=w[x],D+=w[x++];for(0===x&&(x=1);D>c&&1<x;){p=[];x--;for(D=0;D<w.length;D++)w[D]>(p[D%x]||0)&&(p[D%x]=w[D]);D=p.reduce(function(a,c,e,f){return a+c})}for(var F=[],K=c=0;c<x;c++)F[c]=K,K+=p[c];z.attr("transform",function(a,c){return"translate("+F[c%x]+","+(5+20*Math.floor(c/x))+")"});q?k.attr("transform","translate("+(h-e.right-D)+","+e.top+")"):k.attr("transform","translate(0,"+e.top+")");g=e.top+e.bottom+20*Math.ceil(w.length/x)}else{var A=5,H=5,E=0,G;z.attr("transform",function(a,
c){var f=d3.select(this).select("text").node().getComputedTextLength()+28;G=H;h<e.left+e.right+G+f&&(H=G=5,A+=20);H+=f;H>E&&(E=H);return"translate("+G+","+A+")"});k.attr("transform","translate("+(h-e.right-E)+","+e.top+")");g=e.top+e.bottom+A+15}});return a}var e={top:5,right:0,bottom:5,left:0},h=400,g=20,l=function(a){return a.key},m=f.utils.defaultColor(),n=!0,q=!0,r=!0,s=!1,u=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=u;a.options=f.utils.optionsFunc.bind(a);
a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.key=function(e){if(!arguments.length)return l;l=e;return a};a.color=function(e){if(!arguments.length)return m;
m=f.utils.getColor(e);return a};a.align=function(e){if(!arguments.length)return n;n=e;return a};a.rightAlign=function(e){if(!arguments.length)return q;q=e;return a};a.updateState=function(e){if(!arguments.length)return r;r=e;return a};a.radioButtonMode=function(e){if(!arguments.length)return s;s=e;return a};return a};f.models.line=function(){function a(p){p.each(function(a){var c=g-h.left-h.right,p=l-h.top-h.bottom,F=d3.select(this);x=e.xScale();v=e.yScale();z=z||x;k=k||v;a=F.selectAll("g.nv-wrap.nv-line").data([a]);
var K=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),F=K.append("defs"),A=K.append("g"),K=a.select("g");A.append("g").attr("class","nv-groups");A.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+h.left+","+h.top+")");e.width(c).height(p);A=a.select(".nv-scatterWrap");A.transition().call(e);F.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect");a.select("#nv-edge-clip-"+e.id()+" rect").attr("width",c).attr("height",0<p?p:0);K.attr("clip-path",u?
"url(#nv-edge-clip-"+e.id()+")":"");A.attr("clip-path",u?"url(#nv-edge-clip-"+e.id()+")":"");c=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});c.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);c.exit().remove();c.attr("class",function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover}).style("fill",function(a,c){return m(a,c)}).style("stroke",function(a,c){return m(a,c)});c.transition().style("stroke-opacity",
1).style("fill-opacity",0.5);p=c.selectAll("path.nv-area").data(function(a){return s(a)?[a]:[]});p.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(y).defined(r).x(function(a,c){return f.utils.NaNtoZero(z(n(a,c)))}).y0(function(a,c){return f.utils.NaNtoZero(k(q(a,c)))}).y1(function(a,c){return k(0>=v.domain()[0]?0<=v.domain()[1]?0:v.domain()[1]:v.domain()[0])}).apply(this,[a.values])});c.exit().selectAll("path.nv-area").remove();p.transition().attr("d",
function(a){return d3.svg.area().interpolate(y).defined(r).x(function(a,c){return f.utils.NaNtoZero(x(n(a,c)))}).y0(function(a,c){return f.utils.NaNtoZero(v(q(a,c)))}).y1(function(a,c){return v(0>=v.domain()[0]?0<=v.domain()[1]?0:v.domain()[1]:v.domain()[0])}).apply(this,[a.values])});c=c.selectAll("path.nv-line").data(function(a){return[a.values]});c.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(y).defined(r).x(function(a,c){return f.utils.NaNtoZero(z(n(a,c)))}).y(function(a,
c){return f.utils.NaNtoZero(k(q(a,c)))}));c.transition().attr("d",d3.svg.line().interpolate(y).defined(r).x(function(a,c){return f.utils.NaNtoZero(x(n(a,c)))}).y(function(a,c){return f.utils.NaNtoZero(v(q(a,c)))}));z=x.copy();k=v.copy()});return a}var e=f.models.scatter(),h={top:0,right:0,bottom:0,left:0},g=960,l=500,m=f.utils.defaultColor(),n=function(a){return a.x},q=function(a){return a.y},r=function(a,c){return!isNaN(q(a,c))&&null!==q(a,c)},s=function(a){return a.area},u=!1,x,v,y="linear";e.size(16).sizeDomain([16,
256]);var z,k;a.dispatch=e.dispatch;a.scatter=e;d3.rebind(a,e,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return h;h.top="undefined"!=typeof e.top?e.top:h.top;h.right="undefined"!=typeof e.right?e.right:h.right;h.bottom="undefined"!=typeof e.bottom?
e.bottom:h.bottom;h.left="undefined"!=typeof e.left?e.left:h.left;return a};a.width=function(e){if(!arguments.length)return g;g=e;return a};a.height=function(e){if(!arguments.length)return l;l=e;return a};a.x=function(f){if(!arguments.length)return n;n=f;e.x(f);return a};a.y=function(f){if(!arguments.length)return q;q=f;e.y(f);return a};a.clipEdge=function(e){if(!arguments.length)return u;u=e;return a};a.color=function(g){if(!arguments.length)return m;m=f.utils.getColor(g);e.color(m);return a};a.interpolate=
function(e){if(!arguments.length)return y;y=e;return a};a.defined=function(e){if(!arguments.length)return r;r=e;return a};a.isArea=function(e){if(!arguments.length)return s;s=d3.functor(e);return a};return a};f.models.lineChart=function(){function a(E){E.each(function(E){var Q=d3.select(this),J=this,N=(r||parseInt(Q.style("width"))||960)-n.left-n.right,R=(s||parseInt(Q.style("height"))||400)-n.top-n.bottom;a.update=function(){Q.transition().duration(H).call(a)};a.container=this;D.disabled=E.map(function(a){return!!a.disabled});
if(!F){var L;F={};for(L in D)F[L]=D[L]instanceof Array?D[L].slice(0):D[L]}if(E&&E.length&&E.filter(function(a){return a.values.length}).length)Q.selectAll(".nv-noData").remove();else return L=Q.selectAll(".nv-noData").data([K]),L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",n.left+N/2).attr("y",n.top+R/2).text(function(a){return a}),a;w=e.xScale();B=e.yScale();L=Q.selectAll("g.nv-wrap.nv-lineChart").data([E]);var O=L.enter().append("g").attr("class",
"nvd3 nv-wrap nv-lineChart").append("g"),P=L.select("g");O.append("rect").style("opacity",0);O.append("g").attr("class","nv-x nv-axis");O.append("g").attr("class","nv-y nv-axis");O.append("g").attr("class","nv-linesWrap");O.append("g").attr("class","nv-legendWrap");O.append("g").attr("class","nv-interactive");P.select("rect").attr("width",N).attr("height",0<R?R:0);u&&(l.width(N),P.select(".nv-legendWrap").datum(E).call(l),n.top!=l.height()&&(n.top=l.height(),R=(s||parseInt(Q.style("height"))||400)-
n.top-n.bottom),L.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")"));L.attr("transform","translate("+n.left+","+n.top+")");y&&P.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)");z&&(m.width(N).height(R).margin({left:n.left,top:n.top}).svgContainer(Q).xScale(w),L.select(".nv-interactive").call(m));e.width(N).height(R).color(E.map(function(a,c){return a.color||q(a,c)}).filter(function(a,c){return!E[c].disabled}));P.select(".nv-linesWrap").datum(E.filter(function(a){return!a.disabled})).transition().call(e);
x&&(h.scale(w).ticks(N/100).tickSize(-R,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+B.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(h));v&&(g.scale(B).ticks(R/36).tickSize(-N,0),P.select(".nv-y.nv-axis").transition().call(g));l.dispatch.on("stateChange",function(e){D=e;A.stateChange(D);a.update()});m.dispatch.on("elementMousemove",function(l){e.clearHighlights();var p,r,s,u=[];E.filter(function(a,c){a.seriesIndex=c;return!a.disabled}).forEach(function(g,h){r=f.interactiveBisect(g.values,
l.pointXValue,a.x());e.highlightPoint(h,r,!0);var k=g.values[r];"undefined"!==typeof k&&("undefined"===typeof p&&(p=k),"undefined"===typeof s&&(s=a.xScale()(a.x()(k,r))),u.push({key:g.key,value:a.y()(k,r),color:q(g,g.seriesIndex)}))});if(2<u.length){var w=a.yScale().invert(l.mouseY),v=0.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),w=f.nearestValueIndex(u.map(function(a){return a.value}),w,v);null!==w&&(u[w].highlight=!0)}w=h.tickFormat()(a.x()(p,r));m.tooltip.position({left:s+n.left,
top:l.mouseY+n.top}).chartContainer(J.parentNode).enabled(k).valueFormatter(function(a,c){return g.tickFormat()(a)}).data({value:w,series:u})();m.renderGuideLine(s)});m.dispatch.on("elementMouseout",function(a){A.tooltipHide();e.clearHighlights()});A.on("tooltipShow",function(l){if(k){var m=J.parentNode,n=l.pos[0]+(m.offsetLeft||0),q=l.pos[1]+(m.offsetTop||0),r=h.tickFormat()(e.x()(l.point,l.pointIndex)),s=g.tickFormat()(e.y()(l.point,l.pointIndex));l=p(l.series.key,r,s,l,a);f.tooltip.show([n,q],
l,null,null,m)}});A.on("changeState",function(e){"undefined"!==typeof e.disabled&&E.length===e.disabled.length&&(E.forEach(function(a,c){a.disabled=e.disabled[c]}),D.disabled=e.disabled);a.update()})});return a}var e=f.models.line(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend(),m=f.interactiveGuideline(),n={top:30,right:20,bottom:50,left:60},q=f.utils.defaultColor(),r=null,s=null,u=!0,x=!0,v=!0,y=!1,z=!1,k=!0,p=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+" at "+c+"</p>"},w,B,D={},F=
null,K="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),H=250;h.orient("bottom").tickPadding(7);g.orient(y?"right":"left");e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+n.left,a.pos[1]+n.top];A.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){A.tooltipHide(a)});A.on("tooltipHide",function(){k&&f.tooltip.cleanup()});a.dispatch=A;a.lines=e;a.legend=l;a.xAxis=h;a.yAxis=g;a.interactiveLayer=m;d3.rebind(a,e,"defined",
"isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return n;n.top="undefined"!=typeof e.top?e.top:n.top;n.right="undefined"!=typeof e.right?e.right:n.right;n.bottom="undefined"!=typeof e.bottom?e.bottom:n.bottom;n.left="undefined"!=typeof e.left?e.left:n.left;return a};a.width=function(e){if(!arguments.length)return r;
r=e;return a};a.height=function(e){if(!arguments.length)return s;s=e;return a};a.color=function(e){if(!arguments.length)return q;q=f.utils.getColor(e);l.color(q);return a};a.showLegend=function(e){if(!arguments.length)return u;u=e;return a};a.showXAxis=function(e){if(!arguments.length)return x;x=e;return a};a.showYAxis=function(e){if(!arguments.length)return v;v=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return y;y=e;g.orient(e?"right":"left");return a};a.useInteractiveGuideline=
function(e){if(!arguments.length)return z;z=e;!0===e&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltips=function(e){if(!arguments.length)return k;k=e;return a};a.tooltipContent=function(e){if(!arguments.length)return p;p=e;return a};a.state=function(e){if(!arguments.length)return D;D=e;return a};a.defaultState=function(e){if(!arguments.length)return F;F=e;return a};a.noData=function(e){if(!arguments.length)return K;K=e;return a};a.transitionDuration=function(e){if(!arguments.length)return H;
H=e;return a};return a};f.models.linePlusBarChart=function(){function a(u){u.each(function(u){var x=d3.select(this),H=this,J=(r||parseInt(x.style("width"))||960)-q.left-q.right,N=(s||parseInt(x.style("height"))||400)-q.top-q.bottom;a.update=function(){x.transition().call(a)};D.disabled=u.map(function(a){return!!a.disabled});if(!F){var R;F={};for(R in D)F[R]=D[R]instanceof Array?D[R].slice(0):D[R]}if(u&&u.length&&u.filter(function(a){return a.values.length}).length)x.selectAll(".nv-noData").remove();
else return R=x.selectAll(".nv-noData").data([K]),R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",q.left+J/2).attr("y",q.top+N/2).text(function(a){return a}),a;R=u.filter(function(a){return!a.disabled&&a.bar});var L=u.filter(function(a){return!a.bar});p=L.filter(function(a){return!a.disabled}).length&&L.filter(function(a){return!a.disabled})[0].values.length?e.xScale():h.xScale();w=h.yScale();B=e.yScale();var O=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([u]),
P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),I=O.select("g");P.append("g").attr("class","nv-x nv-axis");P.append("g").attr("class","nv-y1 nv-axis");P.append("g").attr("class","nv-y2 nv-axis");P.append("g").attr("class","nv-barsWrap");P.append("g").attr("class","nv-linesWrap");P.append("g").attr("class","nv-legendWrap");y&&(n.width(J/2),I.select(".nv-legendWrap").datum(u.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+
(a.bar?" (left axis)":" (right axis)");return a})).call(n),q.top!=n.height()&&(q.top=n.height(),N=(s||parseInt(x.style("height"))||400)-q.top-q.bottom),I.select(".nv-legendWrap").attr("transform","translate("+J/2+","+-q.top+")"));O.attr("transform","translate("+q.left+","+q.top+")");e.width(J).height(N).color(u.map(function(a,c){return a.color||v(a,c)}).filter(function(a,c){return!u[c].disabled&&!u[c].bar}));h.width(J).height(N).color(u.map(function(a,c){return a.color||v(a,c)}).filter(function(a,
c){return!u[c].disabled&&u[c].bar}));O=I.select(".nv-barsWrap").datum(R.length?R:[{values:[]}]);P=I.select(".nv-linesWrap").datum(L[0]&&!L[0].disabled?L:[{values:[]}]);d3.transition(O).call(h);d3.transition(P).call(e);g.scale(p).ticks(J/100).tickSize(-N,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")");d3.transition(I.select(".nv-x.nv-axis")).call(g);l.scale(w).ticks(N/36).tickSize(-J,0);d3.transition(I.select(".nv-y1.nv-axis")).style("opacity",R.length?1:0).call(l);m.scale(B).ticks(N/
36).tickSize(R.length?0:-J,0);I.select(".nv-y2.nv-axis").style("opacity",L.length?1:0).attr("transform","translate("+J+",0)");d3.transition(I.select(".nv-y2.nv-axis")).call(m);n.dispatch.on("stateChange",function(e){D=e;A.stateChange(D);a.update()});A.on("tooltipShow",function(h){if(z){var n=H.parentNode,p=h.pos[0]+(n.offsetLeft||0),q=h.pos[1]+(n.offsetTop||0),r=g.tickFormat()(e.x()(h.point,h.pointIndex)),s=(h.series.bar?l:m).tickFormat()(e.y()(h.point,h.pointIndex)),r=k(h.series.key,r,s,h,a);f.tooltip.show([p,
q],r,0>h.value?"n":"s",null,n)}});A.on("changeState",function(e){"undefined"!==typeof e.disabled&&(u.forEach(function(a,c){a.disabled=e.disabled[c]}),D.disabled=e.disabled);a.update()})});return a}var e=f.models.line(),h=f.models.historicalBar(),g=f.models.axis(),l=f.models.axis(),m=f.models.axis(),n=f.models.legend(),q={top:30,right:60,bottom:50,left:60},r=null,s=null,u=function(a){return a.x},x=function(a){return a.y},v=f.utils.defaultColor(),y=!0,z=!0,k=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+
e+" at "+c+"</p>"},p,w,B,D={},F=null,K="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");h.padData(!0);e.clipEdge(!1).padData(!0);g.orient("bottom").tickPadding(7).highlightZero(!1);l.orient("left");m.orient("right");e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];A.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){A.tooltipHide(a)});h.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+
q.left,a.pos[1]+q.top];A.tooltipShow(a)});h.dispatch.on("elementMouseout.tooltip",function(a){A.tooltipHide(a)});A.on("tooltipHide",function(){z&&f.tooltip.cleanup()});a.dispatch=A;a.legend=n;a.lines=e;a.bars=h;a.xAxis=g;a.y1Axis=l;a.y2Axis=m;d3.rebind(a,e,"defined","size","clipVoronoi","interpolate");a.options=f.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return u;u=f;e.x(f);h.x(f);return a};a.y=function(f){if(!arguments.length)return x;x=f;e.y(f);h.y(f);return a};a.margin=function(e){if(!arguments.length)return q;
q.top="undefined"!=typeof e.top?e.top:q.top;q.right="undefined"!=typeof e.right?e.right:q.right;q.bottom="undefined"!=typeof e.bottom?e.bottom:q.bottom;q.left="undefined"!=typeof e.left?e.left:q.left;return a};a.width=function(e){if(!arguments.length)return r;r=e;return a};a.height=function(e){if(!arguments.length)return s;s=e;return a};a.color=function(e){if(!arguments.length)return v;v=f.utils.getColor(e);n.color(v);return a};a.showLegend=function(e){if(!arguments.length)return y;y=e;return a};
a.tooltips=function(e){if(!arguments.length)return z;z=e;return a};a.tooltipContent=function(e){if(!arguments.length)return k;k=e;return a};a.state=function(e){if(!arguments.length)return D;D=e;return a};a.defaultState=function(e){if(!arguments.length)return F;F=e;return a};a.noData=function(e){if(!arguments.length)return K;K=e;return a};return a};f.models.lineWithFocusChart=function(){function a(Q){Q.each(function(J){function Q(){r.empty()||r.extent(F);Z.data([r.empty()?w.domain():F]).each(function(a,
c){var e=w(a[0])-k.range()[0],f=k.range()[1]-w(a[1]);d3.select(this).select(".left").attr("width",0>e?0:e);d3.select(this).select(".right").attr("x",w(a[1])).attr("width",0>f?0:f)})}function R(){F=r.empty()?null:r.extent();var a=r.empty()?w.domain():r.extent();1>=Math.abs(a[0]-a[1])||(E.brush({extent:a,brush:r}),Q(),X.select(".nv-focus .nv-linesWrap").datum(J.filter(function(a){return!a.disabled}).map(function(c,f){return{key:c.key,values:c.values.filter(function(c,f){return e.x()(c,f)>=a[0]&&e.x()(c,
f)<=a[1]})}})).transition().duration(G).call(e),X.select(".nv-focus .nv-x.nv-axis").transition().duration(G).call(g),X.select(".nv-focus .nv-y.nv-axis").transition().duration(G).call(l))}var L=d3.select(this),O=this,P=(v||parseInt(L.style("width"))||960)-s.left-s.right,I=(y||parseInt(L.style("height"))||400)-s.top-s.bottom-z,W=z-u.top-u.bottom;a.update=function(){L.transition().duration(G).call(a)};a.container=this;if(J&&J.length&&J.filter(function(a){return a.values.length}).length)L.selectAll(".nv-noData").remove();
else{var T=L.selectAll(".nv-noData").data([H]);T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");T.attr("x",s.left+P/2).attr("y",s.top+I/2).text(function(a){return a});return a}k=e.xScale();p=e.yScale();w=h.xScale();B=h.yScale();var T=L.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([J]),M=T.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),X=T.select("g");M.append("g").attr("class","nv-legendWrap");var S=M.append("g").attr("class",
"nv-focus");S.append("g").attr("class","nv-x nv-axis");S.append("g").attr("class","nv-y nv-axis");S.append("g").attr("class","nv-linesWrap");M=M.append("g").attr("class","nv-context");M.append("g").attr("class","nv-x nv-axis");M.append("g").attr("class","nv-y nv-axis");M.append("g").attr("class","nv-linesWrap");M.append("g").attr("class","nv-brushBackground");M.append("g").attr("class","nv-x nv-brush");D&&(q.width(P),X.select(".nv-legendWrap").datum(J).call(q),s.top!=q.height()&&(s.top=q.height(),
I=(y||parseInt(L.style("height"))||400)-s.top-s.bottom-z),X.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")"));T.attr("transform","translate("+s.left+","+s.top+")");e.width(P).height(I).color(J.map(function(a,c){return a.color||x(a,c)}).filter(function(a,c){return!J[c].disabled}));h.defined(e.defined()).width(P).height(W).color(J.map(function(a,c){return a.color||x(a,c)}).filter(function(a,c){return!J[c].disabled}));X.select(".nv-context").attr("transform","translate(0,"+(I+s.bottom+
u.top)+")");T=X.select(".nv-context .nv-linesWrap").datum(J.filter(function(a){return!a.disabled}));d3.transition(T).call(h);g.scale(k).ticks(P/100).tickSize(-I,0);l.scale(p).ticks(I/36).tickSize(-P,0);X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")");r.x(w).on("brush",function(){var e=a.transitionDuration();a.transitionDuration(0);R();a.transitionDuration(e)});F&&r.extent(F);var Z=X.select(".nv-brushBackground").selectAll("g").data([F||r.extent()]),I=Z.enter().append("g");
I.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",W);I.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",W);I=X.select(".nv-x.nv-brush").call(r);I.selectAll("rect").attr("height",W);I.selectAll(".resize").append("path").attr("d",function(a){var c=(a=+("e"==a))?1:-1,e=W/3;return"M"+0.5*c+","+e+"A6,6 0 0 "+a+" "+6.5*c+","+(e+6)+"V"+(2*e-6)+"A6,6 0 0 "+a+" "+0.5*c+","+2*e+"ZM"+2.5*c+","+(e+8)+"V"+(2*e-8)+"M"+4.5*c+","+(e+8)+"V"+(2*e-8)});R();m.scale(w).ticks(P/
100).tickSize(-W,0);X.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+B.range()[0]+")");d3.transition(X.select(".nv-context .nv-x.nv-axis")).call(m);n.scale(B).ticks(W/36).tickSize(-P,0);d3.transition(X.select(".nv-context .nv-y.nv-axis")).call(n);X.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+B.range()[0]+")");q.dispatch.on("stateChange",function(e){a.update()});E.on("tooltipShow",function(h){if(K){var k=O.parentNode,m=h.pos[0]+(k.offsetLeft||0),n=h.pos[1]+
(k.offsetTop||0),p=g.tickFormat()(e.x()(h.point,h.pointIndex)),q=l.tickFormat()(e.y()(h.point,h.pointIndex));h=A(h.series.key,p,q,h,a);f.tooltip.show([m,n],h,null,null,k)}})});return a}var e=f.models.line(),h=f.models.line(),g=f.models.axis(),l=f.models.axis(),m=f.models.axis(),n=f.models.axis(),q=f.models.legend(),r=d3.svg.brush(),s={top:30,right:30,bottom:30,left:60},u={top:0,right:30,bottom:20,left:60},x=f.utils.defaultColor(),v=null,y=null,z=100,k,p,w,B,D=!0,F=null,K=!0,A=function(a,c,e,f,g){return"<h3>"+
a+"</h3><p>"+e+" at "+c+"</p>"},H="No Data Available.",E=d3.dispatch("tooltipShow","tooltipHide","brush"),G=250;e.clipEdge(!0);h.interactive(!1);g.orient("bottom").tickPadding(5);l.orient("left");m.orient("bottom").tickPadding(5);n.orient("left");e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+s.left,a.pos[1]+s.top];E.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){E.tooltipHide(a)});E.on("tooltipHide",function(){K&&f.tooltip.cleanup()});a.dispatch=E;a.legend=
q;a.lines=e;a.lines2=h;a.xAxis=g;a.yAxis=l;a.x2Axis=m;a.y2Axis=n;d3.rebind(a,e,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");a.options=f.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return e.x;e.x(f);h.x(f);return a};a.y=function(f){if(!arguments.length)return e.y;e.y(f);h.y(f);return a};a.margin=function(e){if(!arguments.length)return s;s.top="undefined"!=typeof e.top?e.top:s.top;s.right="undefined"!=
typeof e.right?e.right:s.right;s.bottom="undefined"!=typeof e.bottom?e.bottom:s.bottom;s.left="undefined"!=typeof e.left?e.left:s.left;return a};a.margin2=function(e){if(!arguments.length)return u;u=e;return a};a.width=function(e){if(!arguments.length)return v;v=e;return a};a.height=function(e){if(!arguments.length)return y;y=e;return a};a.height2=function(e){if(!arguments.length)return z;z=e;return a};a.color=function(e){if(!arguments.length)return x;x=f.utils.getColor(e);q.color(x);return a};a.showLegend=
function(e){if(!arguments.length)return D;D=e;return a};a.tooltips=function(e){if(!arguments.length)return K;K=e;return a};a.tooltipContent=function(e){if(!arguments.length)return A;A=e;return a};a.interpolate=function(f){if(!arguments.length)return e.interpolate();e.interpolate(f);h.interpolate(f);return a};a.noData=function(e){if(!arguments.length)return H;H=e;return a};a.xTickFormat=function(e){if(!arguments.length)return g.tickFormat();g.tickFormat(e);m.tickFormat(e);return a};a.yTickFormat=function(e){if(!arguments.length)return l.tickFormat();
l.tickFormat(e);n.tickFormat(e);return a};a.brushExtent=function(e){if(!arguments.length)return F;F=e;return a};a.transitionDuration=function(e){if(!arguments.length)return G;G=e;return a};return a};f.models.linePlusBarWithFocusChart=function(){function a(T){T.each(function(M){function T(){v.empty()||v.extent(H);ra.data([v.empty()?J.domain():H]).each(function(a,c){var e=J(a[0])-J.range()[0],f=J.range()[1]-J(a[1]);d3.select(this).select(".left").attr("width",0>e?0:e);d3.select(this).select(".right").attr("x",
J(a[1])).attr("width",0>f?0:f)})}function S(){H=v.empty()?null:v.extent();A=v.empty()?J.domain():v.extent();I.brush({extent:A,brush:v});T();g.width(Y).height(V).color(M.map(function(a,c){return a.color||F(a,c)}).filter(function(a,c){return!M[c].disabled&&M[c].bar}));e.width(Y).height(V).color(M.map(function(a,c){return a.color||F(a,c)}).filter(function(a,c){return!M[c].disabled&&!M[c].bar}));var a=ka.select(".nv-focus .nv-barsWrap").datum(aa.length?aa.map(function(a,c){return{key:a.key,values:a.values.filter(function(a,
c){return g.x()(a,c)>=A[0]&&g.x()(a,c)<=A[1]})}}):[{values:[]}]),c=ka.select(".nv-focus .nv-linesWrap").datum(t[0].disabled?[{values:[]}]:t.map(function(a,c){return{key:a.key,values:a.values.filter(function(a,c){return e.x()(a,c)>=A[0]&&e.x()(a,c)<=A[1]})}}));Q=aa.length?g.xScale():e.xScale();m.scale(Q).ticks(Y/100).tickSize(-V,0);m.domain([Math.ceil(A[0]),Math.floor(A[1])]);ka.select(".nv-x.nv-axis").transition().duration(W).call(m);a.transition().duration(W).call(g);c.transition().duration(W).call(e);
ka.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")");q.scale(N).ticks(V/36).tickSize(-Y,0);ka.select(".nv-focus .nv-y1.nv-axis").style("opacity",aa.length?1:0);r.scale(R).ticks(V/36).tickSize(aa.length?0:-Y,0);ka.select(".nv-focus .nv-y2.nv-axis").style("opacity",t.length?1:0).attr("transform","translate("+Q.range()[1]+",0)");ka.select(".nv-focus .nv-y1.nv-axis").transition().duration(W).call(q);ka.select(".nv-focus .nv-y2.nv-axis").transition().duration(W).call(r)}
var Z=d3.select(this),ba=this,Y=(k||parseInt(Z.style("width"))||960)-y.left-y.right,V=(p||parseInt(Z.style("height"))||400)-y.top-y.bottom-w,ca=w-z.top-z.bottom;a.update=function(){Z.transition().duration(W).call(a)};a.container=this;if(M&&M.length&&M.filter(function(a){return a.values.length}).length)Z.selectAll(".nv-noData").remove();else{var U=Z.selectAll(".nv-noData").data([P]);U.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");U.attr("x",
y.left+Y/2).attr("y",y.top+V/2).text(function(a){return a});return a}var aa=M.filter(function(a){return!a.disabled&&a.bar}),t=M.filter(function(a){return!a.bar});Q=g.xScale();J=n.scale();N=g.yScale();R=e.yScale();L=l.yScale();O=h.yScale();var U=M.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,c){return{x:B(a,c),y:D(a,c)}})}),ha=M.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,c){return{x:B(a,c),y:D(a,c)}})});
Q.range([0,Y]);J.domain(d3.extent(d3.merge(U.concat(ha)),function(a){return a.x})).range([0,Y]);var U=Z.selectAll("g.nv-wrap.nv-linePlusBar").data([M]),ha=U.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ka=U.select("g");ha.append("g").attr("class","nv-legendWrap");var qa=ha.append("g").attr("class","nv-focus");qa.append("g").attr("class","nv-x nv-axis");qa.append("g").attr("class","nv-y1 nv-axis");qa.append("g").attr("class","nv-y2 nv-axis");qa.append("g").attr("class",
"nv-barsWrap");qa.append("g").attr("class","nv-linesWrap");ha=ha.append("g").attr("class","nv-context");ha.append("g").attr("class","nv-x nv-axis");ha.append("g").attr("class","nv-y1 nv-axis");ha.append("g").attr("class","nv-y2 nv-axis");ha.append("g").attr("class","nv-barsWrap");ha.append("g").attr("class","nv-linesWrap");ha.append("g").attr("class","nv-brushBackground");ha.append("g").attr("class","nv-x nv-brush");K&&(x.width(Y/2),ka.select(".nv-legendWrap").datum(M.map(function(a){a.originalKey=
void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(x),y.top!=x.height()&&(y.top=x.height(),V=(p||parseInt(Z.style("height"))||400)-y.top-y.bottom-w),ka.select(".nv-legendWrap").attr("transform","translate("+Y/2+","+-y.top+")"));U.attr("transform","translate("+y.left+","+y.top+")");l.width(Y).height(ca).color(M.map(function(a,c){return a.color||F(a,c)}).filter(function(a,c){return!M[c].disabled&&M[c].bar}));h.width(Y).height(ca).color(M.map(function(a,
c){return a.color||F(a,c)}).filter(function(a,c){return!M[c].disabled&&!M[c].bar}));U=ka.select(".nv-context .nv-barsWrap").datum(aa.length?aa:[{values:[]}]);ha=ka.select(".nv-context .nv-linesWrap").datum(t[0].disabled?[{values:[]}]:t);ka.select(".nv-context").attr("transform","translate(0,"+(V+y.bottom+z.top)+")");U.transition().call(l);ha.transition().call(h);v.x(J).on("brush",S);H&&v.extent(H);var ra=ka.select(".nv-brushBackground").selectAll("g").data([H||v.extent()]),U=ra.enter().append("g");
U.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",ca);U.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",ca);U=ka.select(".nv-x.nv-brush").call(v);U.selectAll("rect").attr("height",ca);U.selectAll(".resize").append("path").attr("d",function(a){var c=(a=+("e"==a))?1:-1,e=ca/3;return"M"+0.5*c+","+e+"A6,6 0 0 "+a+" "+6.5*c+","+(e+6)+"V"+(2*e-6)+"A6,6 0 0 "+a+" "+0.5*c+","+2*e+"ZM"+2.5*c+","+(e+8)+"V"+(2*e-8)+"M"+4.5*c+","+(e+8)+"V"+(2*e-8)});n.ticks(Y/
100).tickSize(-ca,0);ka.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+L.range()[0]+")");ka.select(".nv-context .nv-x.nv-axis").transition().call(n);s.scale(L).ticks(ca/36).tickSize(-Y,0);ka.select(".nv-context .nv-y1.nv-axis").style("opacity",aa.length?1:0).attr("transform","translate(0,"+J.range()[0]+")");ka.select(".nv-context .nv-y1.nv-axis").transition().call(s);u.scale(O).ticks(ca/36).tickSize(aa.length?0:-Y,0);ka.select(".nv-context .nv-y2.nv-axis").style("opacity",t.length?
1:0).attr("transform","translate("+J.range()[1]+",0)");ka.select(".nv-context .nv-y2.nv-axis").transition().call(u);x.dispatch.on("stateChange",function(e){a.update()});I.on("tooltipShow",function(g){if(E){var h=ba.parentNode;A&&(g.pointIndex+=Math.ceil(A[0]));var k=g.pos[0]+(h.offsetLeft||0),l=g.pos[1]+(h.offsetTop||0),n=m.tickFormat()(e.x()(g.point,g.pointIndex)),p=(g.series.bar?q:r).tickFormat()(e.y()(g.point,g.pointIndex)),n=G(g.series.key,n,p,g,a);f.tooltip.show([k,l],n,0>g.value?"n":"s",null,
h)}});S()});return a}var e=f.models.line(),h=f.models.line(),g=f.models.historicalBar(),l=f.models.historicalBar(),m=f.models.axis(),n=f.models.axis(),q=f.models.axis(),r=f.models.axis(),s=f.models.axis(),u=f.models.axis(),x=f.models.legend(),v=d3.svg.brush(),y={top:30,right:30,bottom:30,left:60},z={top:0,right:30,bottom:20,left:60},k=null,p=null,w=100,B=function(a){return a.x},D=function(a){return a.y},F=f.utils.defaultColor(),K=!0,A,H=null,E=!0,G=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+
" at "+c+"</p>"},Q,J,N,R,L,O,P="No Data Available.",I=d3.dispatch("tooltipShow","tooltipHide","brush"),W=0;e.clipEdge(!0);h.interactive(!1);m.orient("bottom").tickPadding(5);q.orient("left");r.orient("right");n.orient("bottom").tickPadding(5);s.orient("left");u.orient("right");e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+y.left,a.pos[1]+y.top];I.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){I.tooltipHide(a)});g.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+y.left,a.pos[1]+y.top];I.tooltipShow(a)});g.dispatch.on("elementMouseout.tooltip",function(a){I.tooltipHide(a)});I.on("tooltipHide",function(){E&&f.tooltip.cleanup()});a.dispatch=I;a.legend=x;a.lines=e;a.lines2=h;a.bars=g;a.bars2=l;a.xAxis=m;a.x2Axis=n;a.y1Axis=q;a.y2Axis=r;a.y3Axis=s;a.y4Axis=u;d3.rebind(a,e,"defined","size","clipVoronoi","interpolate");a.options=f.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return B;B=f;e.x(f);g.x(f);return a};a.y=
function(f){if(!arguments.length)return D;D=f;e.y(f);g.y(f);return a};a.margin=function(e){if(!arguments.length)return y;y.top="undefined"!=typeof e.top?e.top:y.top;y.right="undefined"!=typeof e.right?e.right:y.right;y.bottom="undefined"!=typeof e.bottom?e.bottom:y.bottom;y.left="undefined"!=typeof e.left?e.left:y.left;return a};a.width=function(e){if(!arguments.length)return k;k=e;return a};a.height=function(e){if(!arguments.length)return p;p=e;return a};a.color=function(e){if(!arguments.length)return F;
F=f.utils.getColor(e);x.color(F);return a};a.showLegend=function(e){if(!arguments.length)return K;K=e;return a};a.tooltips=function(e){if(!arguments.length)return E;E=e;return a};a.tooltipContent=function(e){if(!arguments.length)return G;G=e;return a};a.noData=function(e){if(!arguments.length)return P;P=e;return a};a.brushExtent=function(e){if(!arguments.length)return H;H=e;return a};return a};f.models.multiBar=function(){function a(f){f.each(function(a){var c=h-e.left-e.right,f=g-e.top-e.bottom,
G=d3.select(this);z&&a.length&&(z=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:0.01}})}]);x&&(a=d3.layout.stack().offset(v).values(function(a){return a.values}).y(r)(!a.length&&z?z:a));a.forEach(function(a,c){a.values.forEach(function(a){a.series=c})});x&&a[0].values.map(function(c,e){var f=0,g=0;a.map(function(a){a=a.values[e];a.size=Math.abs(a.y);0>a.y?(a.y1=g,g-=a.size):(a.y1=a.size+f,f+=a.size)})});var L=B&&D?[]:a.map(function(a){return a.values.map(function(a,c){return{x:q(a,
c),y:r(a,c),y0:a.y0,y1:a.y1}})});l.domain(B||d3.merge(L).map(function(a){return a.x})).rangeBands(F||[0,c],A);m.domain(D||d3.extent(d3.merge(L).map(function(a){return x?0<a.y?a.y1:a.y1+a.y:a.y}).concat(s))).range(K||[f,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-0.01*l.domain()[0],l.domain()[1]+0.01*l.domain()[1]]):l.domain([-1,1]));m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+0.01*m.domain()[0],m.domain()[1]-0.01*m.domain()[1]]):m.domain([-1,
1]));E=E||m;var G=G.selectAll("g.nv-wrap.nv-multibar").data([a]),O=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),L=O.append("defs"),O=O.append("g"),P=G.select("g");O.append("g").attr("class","nv-groups");G.attr("transform","translate("+e.left+","+e.top+")");L.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect");G.select("#nv-edge-clip-"+n+" rect").attr("width",c).attr("height",f);P.attr("clip-path",u?"url(#nv-edge-clip-"+n+")":"");c=G.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,c){return c});c.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);c.exit().transition().selectAll("rect.nv-bar").delay(function(c,e){return e*w/a[0].values.length}).attr("y",function(a){return x?E(a.y0):E(0)}).attr("height",0).remove();c.attr("class",function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover}).style("fill",function(a,c){return y(a,c)}).style("stroke",function(a,c){return y(a,c)});c.transition().style("stroke-opacity",
1).style("fill-opacity",0.75);c=c.selectAll("rect.nv-bar").data(function(c){return z&&!a.length?z.values:c.values});c.exit().remove();c.enter().append("rect").attr("class",function(a,c){return 0>r(a,c)?"nv-bar negative":"nv-bar positive"}).attr("x",function(c,e,f){return x?0:f*l.rangeBand()/a.length}).attr("y",function(a){return E(x?a.y0:0)}).attr("height",0).attr("width",l.rangeBand()/(x?1:a.length)).attr("transform",function(a,c){return"translate("+l(q(a,c))+",0)"});c.style("fill",function(a,c,
e){return y(a,e,c)}).style("stroke",function(a,c,e){return y(a,e,c)}).on("mouseover",function(c,e){d3.select(this).classed("hover",!0);H.elementMouseover({value:r(c,e),point:c,series:a[c.series],pos:[l(q(c,e))+l.rangeBand()*(x?a.length/2:c.series+0.5)/a.length,m(r(c,e)+(x?c.y0:0))],pointIndex:e,seriesIndex:c.series,e:d3.event})}).on("mouseout",function(c,e){d3.select(this).classed("hover",!1);H.elementMouseout({value:r(c,e),point:c,series:a[c.series],pointIndex:e,seriesIndex:c.series,e:d3.event})}).on("click",
function(c,e){H.elementClick({value:r(c,e),point:c,series:a[c.series],pos:[l(q(c,e))+l.rangeBand()*(x?a.length/2:c.series+0.5)/a.length,m(r(c,e)+(x?c.y0:0))],pointIndex:e,seriesIndex:c.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(c,e){H.elementDblClick({value:r(c,e),point:c,series:a[c.series],pos:[l(q(c,e))+l.rangeBand()*(x?a.length/2:c.series+0.5)/a.length,m(r(c,e)+(x?c.y0:0))],pointIndex:e,seriesIndex:c.series,e:d3.event});d3.event.stopPropagation()});c.attr("class",function(a,
c){return 0>r(a,c)?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(a,c){return"translate("+l(q(a,c))+",0)"});k&&(p||(p=a.map(function(){return!0})),c.style("fill",function(a,c,e){return d3.rgb(k(a,c)).darker(p.map(function(a,c){return c}).filter(function(a,c){return!p[c]})[e]).toString()}).style("stroke",function(a,c,e){return d3.rgb(k(a,c)).darker(p.map(function(a,c){return c}).filter(function(a,c){return!p[c]})[e]).toString()}));x?c.transition().delay(function(c,e){return e*
w/a[0].values.length}).attr("y",function(a,c){return m(x?a.y1:0)}).attr("height",function(a,c){return Math.max(Math.abs(m(a.y+(x?a.y0:0))-m(x?a.y0:0)),1)}).attr("x",function(c,e){return x?0:c.series*l.rangeBand()/a.length}).attr("width",l.rangeBand()/(x?1:a.length)):c.transition().delay(function(c,e){return e*w/a[0].values.length}).attr("x",function(c,e){return c.series*l.rangeBand()/a.length}).attr("width",l.rangeBand()/a.length).attr("y",function(a,c){return 0>r(a,c)?m(0):1>m(0)-m(r(a,c))?m(0)-
1:m(r(a,c))||0}).attr("height",function(a,c){return Math.max(Math.abs(m(r(a,c))-m(0)),1)||0});l.copy();E=m.copy()});return a}var e={top:0,right:0,bottom:0,left:0},h=960,g=500,l=d3.scale.ordinal(),m=d3.scale.linear(),n=Math.floor(1E4*Math.random()),q=function(a){return a.x},r=function(a){return a.y},s=[0],u=!0,x=!1,v="zero",y=f.utils.defaultColor(),z=!1,k=null,p,w=1200,B,D,F,K,A=0.1,H=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),E;a.dispatch=H;a.options=
f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return q;q=e;return a};a.y=function(e){if(!arguments.length)return r;r=e;return a};a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;
g=e;return a};a.xScale=function(e){if(!arguments.length)return l;l=e;return a};a.yScale=function(e){if(!arguments.length)return m;m=e;return a};a.xDomain=function(e){if(!arguments.length)return B;B=e;return a};a.yDomain=function(e){if(!arguments.length)return D;D=e;return a};a.xRange=function(e){if(!arguments.length)return F;F=e;return a};a.yRange=function(e){if(!arguments.length)return K;K=e;return a};a.forceY=function(e){if(!arguments.length)return s;s=e;return a};a.stacked=function(e){if(!arguments.length)return x;
x=e;return a};a.stackOffset=function(e){if(!arguments.length)return v;v=e;return a};a.clipEdge=function(e){if(!arguments.length)return u;u=e;return a};a.color=function(e){if(!arguments.length)return y;y=f.utils.getColor(e);return a};a.barColor=function(e){if(!arguments.length)return k;k=f.utils.getColor(e);return a};a.disabled=function(e){if(!arguments.length)return p;p=e;return a};a.id=function(e){if(!arguments.length)return n;n=e;return a};a.hideable=function(e){if(!arguments.length)return z;z=
e;return a};a.delay=function(e){if(!arguments.length)return w;w=e;return a};a.groupSpacing=function(e){if(!arguments.length)return A;A=e;return a};return a};f.models.multiBarChart=function(){function a(J){J.each(function(J){var R=d3.select(this),L=this,O=(q||parseInt(R.style("width"))||960)-n.left-n.right,P=(r||parseInt(R.style("height"))||400)-n.top-n.bottom;a.update=function(){R.transition().duration(Q).call(a)};a.container=this;A.disabled=J.map(function(a){return!!a.disabled});if(!H){var I;H={};
for(I in A)H[I]=A[I]instanceof Array?A[I].slice(0):A[I]}if(J&&J.length&&J.filter(function(a){return a.values.length}).length)R.selectAll(".nv-noData").remove();else return I=R.selectAll(".nv-noData").data([E]),I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",n.left+O/2).attr("y",n.top+P/2).text(function(a){return a}),a;F=e.xScale();K=e.yScale();var W=R.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([J]),T=W.enter().append("g").attr("class",
"nvd3 nv-wrap nv-multiBarWithLegend").append("g");I=W.select("g");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y nv-axis");T.append("g").attr("class","nv-barsWrap");T.append("g").attr("class","nv-legendWrap");T.append("g").attr("class","nv-controlsWrap");x&&(l.width(O-(u?180:0)),e.barColor()&&J.forEach(function(a,c){a.color=d3.rgb("#ccc").darker(1.5*c).toString()}),I.select(".nv-legendWrap").datum(J).call(l),n.top!=l.height()&&(n.top=l.height(),P=(r||parseInt(R.style("height"))||
400)-n.top-n.bottom),I.select(".nv-legendWrap").attr("transform","translate("+(u?180:0)+","+-n.top+")"));if(u){var M=[{key:"Grouped",disabled:e.stacked()},{key:"Stacked",disabled:!e.stacked()}];m.width(u?180:0).color(["#444","#444","#444"]);I.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+-n.top+")").call(m)}W.attr("transform","translate("+n.left+","+n.top+")");z&&I.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)");e.disabled(J.map(function(a){return a.disabled})).width(O).height(P).color(J.map(function(a,
c){return a.color||s(a,c)}).filter(function(a,c){return!J[c].disabled}));I.select(".nv-barsWrap").datum(J.filter(function(a){return!a.disabled})).transition().call(e);if(v){h.scale(F).ticks(O/100).tickSize(-P,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+K.range()[0]+")");I.select(".nv-x.nv-axis").transition().call(h);W=I.select(".nv-x.nv-axis > g").selectAll("g");W.selectAll("line, text").style("opacity",1);if(p){W.selectAll("text").attr("transform",function(a,c,e){return"translate(0,"+
(0==e%2?5:17)+")"});var X=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;I.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,c){return"translate(0,"+(0===c||0!==X%2?17:5)+")"})}k&&W.filter(function(a,c){return 0!==c%Math.ceil(J[0].values.length/(O/100))}).selectAll("text, line").style("opacity",0);w&&W.selectAll(".tick text").attr("transform","rotate("+w+" 0,0)").style("text-anchor",0<w?"start":"end");I.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",
1)}y&&(g.scale(K).ticks(P/36).tickSize(-O,0),I.select(".nv-y.nv-axis").transition().call(g));l.dispatch.on("stateChange",function(e){A=e;G.stateChange(A);a.update()});m.dispatch.on("legendClick",function(f,g){if(f.disabled){M=M.map(function(a){a.disabled=!0;return a});f.disabled=!1;switch(f.key){case "Grouped":e.stacked(!1);break;case "Stacked":e.stacked(!0)}A.stacked=e.stacked();G.stateChange(A);a.update()}});G.on("tooltipShow",function(k){if(B){var l=L.parentNode,m=k.pos[0]+(l.offsetLeft||0),n=
k.pos[1]+(l.offsetTop||0),p=h.tickFormat()(e.x()(k.point,k.pointIndex)),q=g.tickFormat()(e.y()(k.point,k.pointIndex)),p=D(k.series.key,p,q,k,a);f.tooltip.show([m,n],p,0>k.value?"n":"s",null,l)}});G.on("changeState",function(f){"undefined"!==typeof f.disabled&&(J.forEach(function(a,c){a.disabled=f.disabled[c]}),A.disabled=f.disabled);"undefined"!==typeof f.stacked&&(e.stacked(f.stacked),A.stacked=f.stacked);a.update()})});return a}var e=f.models.multiBar(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend(),
m=f.models.legend(),n={top:30,right:20,bottom:50,left:60},q=null,r=null,s=f.utils.defaultColor(),u=!0,x=!0,v=!0,y=!0,z=!1,k=!0,p=!1,w=0,B=!0,D=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+" on "+c+"</p>"},F,K,A={stacked:!1},H=null,E="No Data Available.",G=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),Q=250;e.stacked(!1);h.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(a){return a});g.orient(z?"right":"left").tickFormat(d3.format(",.1f"));
m.updateState(!1);e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+n.left,a.pos[1]+n.top];G.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){G.tooltipHide(a)});G.on("tooltipHide",function(){B&&f.tooltip.cleanup()});a.dispatch=G;a.multibar=e;a.legend=l;a.xAxis=h;a.yAxis=g;d3.rebind(a,e,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");a.options=f.utils.optionsFunc.bind(a);
a.margin=function(e){if(!arguments.length)return n;n.top="undefined"!=typeof e.top?e.top:n.top;n.right="undefined"!=typeof e.right?e.right:n.right;n.bottom="undefined"!=typeof e.bottom?e.bottom:n.bottom;n.left="undefined"!=typeof e.left?e.left:n.left;return a};a.width=function(e){if(!arguments.length)return q;q=e;return a};a.height=function(e){if(!arguments.length)return r;r=e;return a};a.color=function(e){if(!arguments.length)return s;s=f.utils.getColor(e);l.color(s);return a};a.showControls=function(e){if(!arguments.length)return u;
u=e;return a};a.showLegend=function(e){if(!arguments.length)return x;x=e;return a};a.showXAxis=function(e){if(!arguments.length)return v;v=e;return a};a.showYAxis=function(e){if(!arguments.length)return y;y=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return z;z=e;g.orient(e?"right":"left");return a};a.reduceXTicks=function(e){if(!arguments.length)return k;k=e;return a};a.rotateLabels=function(e){if(!arguments.length)return w;w=e;return a};a.staggerLabels=function(e){if(!arguments.length)return p;
p=e;return a};a.tooltip=function(e){if(!arguments.length)return D;D=e;return a};a.tooltips=function(e){if(!arguments.length)return B;B=e;return a};a.tooltipContent=function(e){if(!arguments.length)return D;D=e;return a};a.state=function(e){if(!arguments.length)return A;A=e;return a};a.defaultState=function(e){if(!arguments.length)return H;H=e;return a};a.noData=function(e){if(!arguments.length)return E;E=e;return a};a.transitionDuration=function(e){if(!arguments.length)return Q;Q=e;return a};return a};
f.models.multiBarHorizontal=function(){function a(f){f.each(function(a){var c=h-e.left-e.right,f=g-e.top-e.bottom;d3.select(this);y&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(r)(a));a.forEach(function(a,c){a.values.forEach(function(a){a.series=c})});y&&a[0].values.map(function(c,e){var f=0,g=0;a.map(function(a){a=a.values[e];a.size=Math.abs(a.y);0>a.y?(a.y1=g-a.size,g-=a.size):(a.y1=f,f+=a.size)})});var l=D&&F?[]:a.map(function(a){return a.values.map(function(a,c){return{x:q(a,
c),y:r(a,c),y0:a.y0,y1:a.y1}})});m.domain(D||d3.merge(l).map(function(a){return a.x})).rangeBands(K||[0,f],0.1);n.domain(F||d3.extent(d3.merge(l).map(function(a){return y?0<a.y?a.y1+a.y:a.y1:a.y}).concat(s)));z&&!y?n.range(A||[0>n.domain()[0]?p:0,c-(0<n.domain()[1]?p:0)]):n.range(A||[0,c]);E=E||d3.scale.linear().domain(n.domain()).range([n(0),n(0)]);c=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);f=c.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");f.append("defs");
f=f.append("g");c.select("g");f.append("g").attr("class","nv-groups");c.attr("transform","translate("+e.left+","+e.top+")");c=c.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,c){return c});c.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);c.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();c.attr("class",function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover}).style("fill",
function(a,c){return u(a,c)}).style("stroke",function(a,c){return u(a,c)});c.transition().style("stroke-opacity",1).style("fill-opacity",0.75);c=c.selectAll("g.nv-bar").data(function(a){return a.values});c.exit().remove();f=c.enter().append("g").attr("transform",function(c,e,f){return"translate("+E(y?c.y0:0)+","+(y?0:f*m.rangeBand()/a.length+m(q(c,e)))+")"});f.append("rect").attr("width",0).attr("height",m.rangeBand()/(y?1:a.length));c.on("mouseover",function(c,e){d3.select(this).classed("hover",
!0);H.elementMouseover({value:r(c,e),point:c,series:a[c.series],pos:[n(r(c,e)+(y?c.y0:0)),m(q(c,e))+m.rangeBand()*(y?a.length/2:c.series+0.5)/a.length],pointIndex:e,seriesIndex:c.series,e:d3.event})}).on("mouseout",function(c,e){d3.select(this).classed("hover",!1);H.elementMouseout({value:r(c,e),point:c,series:a[c.series],pointIndex:e,seriesIndex:c.series,e:d3.event})}).on("click",function(c,e){H.elementClick({value:r(c,e),point:c,series:a[c.series],pos:[m(q(c,e))+m.rangeBand()*(y?a.length/2:c.series+
0.5)/a.length,n(r(c,e)+(y?c.y0:0))],pointIndex:e,seriesIndex:c.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(c,e){H.elementDblClick({value:r(c,e),point:c,series:a[c.series],pos:[m(q(c,e))+m.rangeBand()*(y?a.length/2:c.series+0.5)/a.length,n(r(c,e)+(y?c.y0:0))],pointIndex:e,seriesIndex:c.series,e:d3.event});d3.event.stopPropagation()});f.append("text");z&&!y?(c.select("text").attr("text-anchor",function(a,c){return 0>r(a,c)?"end":"start"}).attr("y",m.rangeBand()/(2*a.length)).attr("dy",
".32em").text(function(a,c){return w(r(a,c))}),c.transition().select("text").attr("x",function(a,c){return 0>r(a,c)?-4:n(r(a,c))-n(0)+4})):c.selectAll("text").text("");k&&!y?(f.append("text").classed("nv-bar-label",!0),c.select("text.nv-bar-label").attr("text-anchor",function(a,c){return 0>r(a,c)?"start":"end"}).attr("y",m.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,c){return q(a,c)}),c.transition().select("text.nv-bar-label").attr("x",function(a,c){return 0>r(a,c)?n(0)-n(r(a,c))+
4:-4})):c.selectAll("text.nv-bar-label").text("");c.attr("class",function(a,c){return 0>r(a,c)?"nv-bar negative":"nv-bar positive"});x&&(v||(v=a.map(function(){return!0})),c.style("fill",function(a,c,e){return d3.rgb(x(a,c)).darker(v.map(function(a,c){return c}).filter(function(a,c){return!v[c]})[e]).toString()}).style("stroke",function(a,c,e){return d3.rgb(x(a,c)).darker(v.map(function(a,c){return c}).filter(function(a,c){return!v[c]})[e]).toString()}));y?c.transition().attr("transform",function(a,
c){return"translate("+n(a.y1)+","+m(q(a,c))+")"}).select("rect").attr("width",function(a,c){return Math.abs(n(r(a,c)+a.y0)-n(a.y0))}).attr("height",m.rangeBand()):c.transition().attr("transform",function(c,e){return"translate("+(0>r(c,e)?n(r(c,e)):n(0))+","+(c.series*m.rangeBand()/a.length+m(q(c,e)))+")"}).select("rect").attr("height",m.rangeBand()/a.length).attr("width",function(a,c){return Math.max(Math.abs(n(r(a,c))-n(0)),1)});m.copy();E=n.copy()});return a}var e={top:0,right:0,bottom:0,left:0},
h=960,g=500,l=Math.floor(1E4*Math.random()),m=d3.scale.ordinal(),n=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=[0],u=f.utils.defaultColor(),x=null,v,y=!1,z=!1,k=!1,p=60,w=d3.format(",.2f"),B=1200,D,F,K,A,H=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),E;a.dispatch=H;a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return q;q=e;return a};a.y=function(e){if(!arguments.length)return r;r=e;return a};
a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.xScale=function(e){if(!arguments.length)return m;m=e;return a};a.yScale=function(e){if(!arguments.length)return n;
n=e;return a};a.xDomain=function(e){if(!arguments.length)return D;D=e;return a};a.yDomain=function(e){if(!arguments.length)return F;F=e;return a};a.xRange=function(e){if(!arguments.length)return K;K=e;return a};a.yRange=function(e){if(!arguments.length)return A;A=e;return a};a.forceY=function(e){if(!arguments.length)return s;s=e;return a};a.stacked=function(e){if(!arguments.length)return y;y=e;return a};a.color=function(e){if(!arguments.length)return u;u=f.utils.getColor(e);return a};a.barColor=function(e){if(!arguments.length)return x;
x=f.utils.getColor(e);return a};a.disabled=function(e){if(!arguments.length)return v;v=e;return a};a.id=function(e){if(!arguments.length)return l;l=e;return a};a.delay=function(e){if(!arguments.length)return B;B=e;return a};a.showValues=function(e){if(!arguments.length)return z;z=e;return a};a.showBarLabels=function(e){if(!arguments.length)return k;k=e;return a};a.valueFormat=function(e){if(!arguments.length)return w;w=e;return a};a.valuePadding=function(e){if(!arguments.length)return p;p=e;return a};
return a};f.models.multiBarHorizontalChart=function(){function a(H){H.each(function(E){var G=d3.select(this),H=this,J=(q||parseInt(G.style("width"))||960)-n.left-n.right,N=(r||parseInt(G.style("height"))||400)-n.top-n.bottom;a.update=function(){G.transition().duration(A).call(a)};a.container=this;B.disabled=E.map(function(a){return!!a.disabled});if(!D){var R;D={};for(R in B)D[R]=B[R]instanceof Array?B[R].slice(0):B[R]}if(E&&E.length&&E.filter(function(a){return a.values.length}).length)G.selectAll(".nv-noData").remove();
else return R=G.selectAll(".nv-noData").data([F]),R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",n.left+J/2).attr("y",n.top+N/2).text(function(a){return a}),a;p=e.xScale();w=e.yScale();R=G.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([E]);var L=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),O=R.select("g");L.append("g").attr("class","nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis").append("g").attr("class",
"nv-zeroLine").append("line");L.append("g").attr("class","nv-barsWrap");L.append("g").attr("class","nv-legendWrap");L.append("g").attr("class","nv-controlsWrap");x&&(l.width(J-(u?180:0)),e.barColor()&&E.forEach(function(a,c){a.color=d3.rgb("#ccc").darker(1.5*c).toString()}),O.select(".nv-legendWrap").datum(E).call(l),n.top!=l.height()&&(n.top=l.height(),N=(r||parseInt(G.style("height"))||400)-n.top-n.bottom),O.select(".nv-legendWrap").attr("transform","translate("+(u?180:0)+","+-n.top+")"));if(u){var P=
[{key:"Grouped",disabled:e.stacked()},{key:"Stacked",disabled:!e.stacked()}];m.width(u?180:0).color(["#444","#444","#444"]);O.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-n.top+")").call(m)}R.attr("transform","translate("+n.left+","+n.top+")");e.disabled(E.map(function(a){return a.disabled})).width(J).height(N).color(E.map(function(a,c){return a.color||s(a,c)}).filter(function(a,c){return!E[c].disabled}));O.select(".nv-barsWrap").datum(E.filter(function(a){return!a.disabled})).transition().call(e);
v&&(h.scale(p).ticks(N/24).tickSize(-J,0),O.select(".nv-x.nv-axis").transition().call(h),O.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));y&&(g.scale(w).ticks(J/100).tickSize(-N,0),O.select(".nv-y.nv-axis").attr("transform","translate(0,"+N+")"),O.select(".nv-y.nv-axis").transition().call(g));O.select(".nv-zeroLine line").attr("x1",w(0)).attr("x2",w(0)).attr("y1",0).attr("y2",-N);l.dispatch.on("stateChange",function(e){B=e;K.stateChange(B);a.update()});m.dispatch.on("legendClick",
function(f,g){if(f.disabled){P=P.map(function(a){a.disabled=!0;return a});f.disabled=!1;switch(f.key){case "Grouped":e.stacked(!1);break;case "Stacked":e.stacked(!0)}B.stacked=e.stacked();K.stateChange(B);a.update()}});K.on("tooltipShow",function(l){if(z){var m=H.parentNode,n=l.pos[0]+(m.offsetLeft||0),p=l.pos[1]+(m.offsetTop||0),q=h.tickFormat()(e.x()(l.point,l.pointIndex)),r=g.tickFormat()(e.y()(l.point,l.pointIndex)),q=k(l.series.key,q,r,l,a);f.tooltip.show([n,p],q,0>l.value?"e":"w",null,m)}});
K.on("changeState",function(f){"undefined"!==typeof f.disabled&&(E.forEach(function(a,c){a.disabled=f.disabled[c]}),B.disabled=f.disabled);"undefined"!==typeof f.stacked&&(e.stacked(f.stacked),B.stacked=f.stacked);a.update()})});return a}var e=f.models.multiBarHorizontal(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend().height(30),m=f.models.legend().height(30),n={top:30,right:20,bottom:50,left:60},q=null,r=null,s=f.utils.defaultColor(),u=!0,x=!0,v=!0,y=!0,z=!0,k=function(a,c,e,f,g){return"<h3>"+
a+" - "+c+"</h3><p>"+e+"</p>"},p,w,B={stacked:!1},D=null,F="No Data Available.",K=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=250;e.stacked(!1);h.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});g.orient("bottom").tickFormat(d3.format(",.1f"));m.updateState(!1);e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+n.left,a.pos[1]+n.top];K.tooltipShow(a)});e.dispatch.on("elementMouseout.tooltip",function(a){K.tooltipHide(a)});
K.on("tooltipHide",function(){z&&f.tooltip.cleanup()});a.dispatch=K;a.multibar=e;a.legend=l;a.xAxis=h;a.yAxis=g;d3.rebind(a,e,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return n;n.top="undefined"!=typeof e.top?e.top:n.top;n.right="undefined"!=typeof e.right?e.right:n.right;n.bottom="undefined"!=typeof e.bottom?
e.bottom:n.bottom;n.left="undefined"!=typeof e.left?e.left:n.left;return a};a.width=function(e){if(!arguments.length)return q;q=e;return a};a.height=function(e){if(!arguments.length)return r;r=e;return a};a.color=function(e){if(!arguments.length)return s;s=f.utils.getColor(e);l.color(s);return a};a.showControls=function(e){if(!arguments.length)return u;u=e;return a};a.showLegend=function(e){if(!arguments.length)return x;x=e;return a};a.showXAxis=function(e){if(!arguments.length)return v;v=e;return a};
a.showYAxis=function(e){if(!arguments.length)return y;y=e;return a};a.tooltip=function(e){if(!arguments.length)return k;k=e;return a};a.tooltips=function(e){if(!arguments.length)return z;z=e;return a};a.tooltipContent=function(e){if(!arguments.length)return k;k=e;return a};a.state=function(e){if(!arguments.length)return B;B=e;return a};a.defaultState=function(e){if(!arguments.length)return D;D=e;return a};a.noData=function(e){if(!arguments.length)return F;F=e;return a};a.transitionDuration=function(e){if(!arguments.length)return A;
A=e;return a};return a};f.models.multiChart=function(){function a(E){E.each(function(E){var Q=d3.select(this),J=this;a.update=function(){Q.transition().call(a)};a.container=this;var N=(g||parseInt(Q.style("width"))||960)-e.left-e.right,R=(l||parseInt(Q.style("height"))||400)-e.top-e.bottom,L=E.filter(function(a){return!a.disabled&&"line"==a.type&&1==a.yAxis}),O=E.filter(function(a){return!a.disabled&&"line"==a.type&&2==a.yAxis}),P=E.filter(function(a){return!a.disabled&&"bar"==a.type&&1==a.yAxis}),
I=E.filter(function(a){return!a.disabled&&"bar"==a.type&&2==a.yAxis}),W=E.filter(function(a){return!a.disabled&&"area"==a.type&&1==a.yAxis}),T=E.filter(function(a){return!a.disabled&&"area"==a.type&&2==a.yAxis}),M=E.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,c){return{x:a.x,y:a.y}})}),X=E.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,c){return{x:a.x,y:a.y}})});r.domain(d3.extent(d3.merge(M.concat(X)),
function(a){return a.x})).range([0,N]);var S=Q.selectAll("g.wrap.multiChart").data([E]),Z=S.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Z.append("g").attr("class","x axis");Z.append("g").attr("class","y1 axis");Z.append("g").attr("class","y2 axis");Z.append("g").attr("class","lines1Wrap");Z.append("g").attr("class","lines2Wrap");Z.append("g").attr("class","bars1Wrap");Z.append("g").attr("class","bars2Wrap");Z.append("g").attr("class","stack1Wrap");Z.append("g").attr("class",
"stack2Wrap");Z.append("g").attr("class","legendWrap");S=S.select("g");m&&(A.width(N/2),S.select(".legendWrap").datum(E.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":" (right axis)");return a})).call(A),e.top!=A.height()&&(e.top=A.height(),R=(l||parseInt(Q.style("height"))||400)-e.top-e.bottom),S.select(".legendWrap").attr("transform","translate("+N/2+","+-e.top+")"));y.width(N).height(R).interpolate("monotone").color(E.map(function(a,
c){return a.color||h[c%h.length]}).filter(function(a,c){return!E[c].disabled&&1==E[c].yAxis&&"line"==E[c].type}));z.width(N).height(R).interpolate("monotone").color(E.map(function(a,c){return a.color||h[c%h.length]}).filter(function(a,c){return!E[c].disabled&&2==E[c].yAxis&&"line"==E[c].type}));k.width(N).height(R).color(E.map(function(a,c){return a.color||h[c%h.length]}).filter(function(a,c){return!E[c].disabled&&1==E[c].yAxis&&"bar"==E[c].type}));p.width(N).height(R).color(E.map(function(a,c){return a.color||
h[c%h.length]}).filter(function(a,c){return!E[c].disabled&&2==E[c].yAxis&&"bar"==E[c].type}));w.width(N).height(R).color(E.map(function(a,c){return a.color||h[c%h.length]}).filter(function(a,c){return!E[c].disabled&&1==E[c].yAxis&&"area"==E[c].type}));B.width(N).height(R).color(E.map(function(a,c){return a.color||h[c%h.length]}).filter(function(a,c){return!E[c].disabled&&2==E[c].yAxis&&"area"==E[c].type}));S.attr("transform","translate("+e.left+","+e.top+")");var Z=S.select(".lines1Wrap").datum(L),
ba=S.select(".bars1Wrap").datum(P),Y=S.select(".stack1Wrap").datum(W),V=S.select(".lines2Wrap").datum(O),ca=S.select(".bars2Wrap").datum(I),U=S.select(".stack2Wrap").datum(T),aa=W.length?W.map(function(a){return a.values}).reduce(function(a,c){return a.map(function(a,e){return{x:a.x,y:a.y+c[e].y}})}).concat([{x:0,y:0}]):[],t=T.length?T.map(function(a){return a.values}).reduce(function(a,c){return a.map(function(a,e){return{x:a.x,y:a.y+c[e].y}})}).concat([{x:0,y:0}]):[];x.domain(s||d3.extent(d3.merge(M).concat(aa),
function(a){return a.y})).range([0,R]);v.domain(u||d3.extent(d3.merge(X).concat(t),function(a){return a.y})).range([0,R]);y.yDomain(x.domain());k.yDomain(x.domain());w.yDomain(x.domain());z.yDomain(v.domain());p.yDomain(v.domain());B.yDomain(v.domain());W.length&&d3.transition(Y).call(w);T.length&&d3.transition(U).call(B);P.length&&d3.transition(ba).call(k);I.length&&d3.transition(ca).call(p);L.length&&d3.transition(Z).call(y);O.length&&d3.transition(V).call(z);D.ticks(N/100).tickSize(-R,0);S.select(".x.axis").attr("transform",
"translate(0,"+R+")");d3.transition(S.select(".x.axis")).call(D);F.ticks(R/36).tickSize(-N,0);d3.transition(S.select(".y1.axis")).call(F);K.ticks(R/36).tickSize(-N,0);d3.transition(S.select(".y2.axis")).call(K);S.select(".y2.axis").style("opacity",X.length?1:0).attr("transform","translate("+r.range()[1]+",0)");A.dispatch.on("stateChange",function(e){a.update()});H.on("tooltipShow",function(e){if(n){var g=J.parentNode,h=e.pos[0]+(g.offsetLeft||0),k=e.pos[1]+(g.offsetTop||0),l=D.tickFormat()(y.x()(e.point,
e.pointIndex)),m=(2==e.series.yAxis?K:F).tickFormat()(y.y()(e.point,e.pointIndex));e=q(e.series.key,l,m,e,a);f.tooltip.show([h,k],e,void 0,void 0,g.offsetParent)}})});return a}var e={top:30,right:20,bottom:50,left:60},h=d3.scale.category20().range(),g=null,l=null,m=!0,n=!0,q=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+" at "+c+"</p>"},r,s,u;r=d3.scale.linear();var x=d3.scale.linear(),v=d3.scale.linear(),y=f.models.line().yScale(x),z=f.models.line().yScale(v),k=f.models.multiBar().stacked(!1).yScale(x),
p=f.models.multiBar().stacked(!1).yScale(v),w=f.models.stackedArea().yScale(x),B=f.models.stackedArea().yScale(v),D=f.models.axis().scale(r).orient("bottom").tickPadding(5),F=f.models.axis().scale(x).orient("left"),K=f.models.axis().scale(v).orient("right"),A=f.models.legend().height(30),H=d3.dispatch("tooltipShow","tooltipHide");y.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});y.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});
z.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});z.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});k.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});k.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",
function(a){H.tooltipHide(a)});w.dispatch.on("tooltipShow",function(a){if(!Math.round(100*w.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});w.dispatch.on("tooltipHide",function(a){H.tooltipHide(a)});B.dispatch.on("tooltipShow",function(a){if(!Math.round(100*B.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];
H.tooltipShow(a)});B.dispatch.on("tooltipHide",function(a){H.tooltipHide(a)});y.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});y.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});z.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];H.tooltipShow(a)});z.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});H.on("tooltipHide",function(){n&&f.tooltip.cleanup()});a.dispatch=
H;a.lines1=y;a.lines2=z;a.bars1=k;a.bars2=p;a.stack1=w;a.stack2=B;a.xAxis=D;a.yAxis1=F;a.yAxis2=K;a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return getX;getX=e;y.x(e);k.x(e);return a};a.y=function(e){if(!arguments.length)return getY;getY=e;y.y(e);k.y(e);return a};a.yDomain1=function(e){if(!arguments.length)return s;s=e;return a};a.yDomain2=function(e){if(!arguments.length)return u;u=e;return a};a.margin=function(f){if(!arguments.length)return e;e=f;return a};a.width=
function(e){if(!arguments.length)return g;g=e;return a};a.height=function(e){if(!arguments.length)return l;l=e;return a};a.color=function(e){if(!arguments.length)return h;h=e;A.color(e);return a};a.showLegend=function(e){if(!arguments.length)return m;m=e;return a};a.tooltips=function(e){if(!arguments.length)return n;n=e;return a};a.tooltipContent=function(e){if(!arguments.length)return q;q=e;return a};return a};f.models.ohlcBar=function(){function a(f){f.each(function(a){var c=h-e.left-e.right,f=
g-e.top-e.bottom,w=d3.select(this);m.domain(B||d3.extent(a[0].values.map(q).concat(y)));k?m.range(F||[0.5*c/a[0].values.length,c*(a[0].values.length-0.5)/a[0].values.length]):m.range(F||[0,c]);n.domain(D||[d3.min(a[0].values.map(v).concat(z)),d3.max(a[0].values.map(x).concat(z))]).range(K||[f,0]);m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-0.01*m.domain()[0],m.domain()[1]+0.01*m.domain()[1]]):m.domain([-1,1]));n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+
0.01*n.domain()[0],n.domain()[1]-0.01*n.domain()[1]]):n.domain([-1,1]));var H=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),R=H.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),L=R.append("defs"),R=R.append("g"),O=H.select("g");R.append("g").attr("class","nv-ticks");H.attr("transform","translate("+e.left+","+e.top+")");w.on("click",function(a,c){A.chartClick({data:a,index:c,pos:d3.event,id:l})});L.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect");
H.select("#nv-chart-clip-path-"+l+" rect").attr("width",c).attr("height",f);O.attr("clip-path",p?"url(#nv-chart-clip-path-"+l+")":"");f=H.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});f.exit().remove();f.enter().append("path").attr("class",function(a,c,e){return(s(a,c)>u(a,c)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+e+"-"+c}).attr("d",function(e,f){var g=c/a[0].values.length*0.9;return"m0,0l0,"+(n(s(e,f))-n(x(e,f)))+"l"+-g/2+",0l"+g/2+",0l0,"+(n(v(e,f))-n(s(e,f)))+
"l0,"+(n(u(e,f))-n(v(e,f)))+"l"+g/2+",0l"+-g/2+",0z"}).attr("transform",function(a,c){return"translate("+m(q(a,c))+","+n(x(a,c))+")"}).on("mouseover",function(c,e){d3.select(this).classed("hover",!0);A.elementMouseover({point:c,series:a[0],pos:[m(q(c,e)),n(r(c,e))],pointIndex:e,seriesIndex:0,e:d3.event})}).on("mouseout",function(c,e){d3.select(this).classed("hover",!1);A.elementMouseout({point:c,series:a[0],pointIndex:e,seriesIndex:0,e:d3.event})}).on("click",function(a,c){A.elementClick({value:r(a,
c),data:a,index:c,pos:[m(q(a,c)),n(r(a,c))],e:d3.event,id:l});d3.event.stopPropagation()}).on("dblclick",function(a,c){A.elementDblClick({value:r(a,c),data:a,index:c,pos:[m(q(a,c)),n(r(a,c))],e:d3.event,id:l});d3.event.stopPropagation()});f.attr("class",function(a,c,e){return(s(a,c)>u(a,c)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+e+"-"+c});d3.transition(f).attr("transform",function(a,c){return"translate("+m(q(a,c))+","+n(x(a,c))+")"}).attr("d",function(e,f){var g=c/a[0].values.length*0.9;
return"m0,0l0,"+(n(s(e,f))-n(x(e,f)))+"l"+-g/2+",0l"+g/2+",0l0,"+(n(v(e,f))-n(s(e,f)))+"l0,"+(n(u(e,f))-n(v(e,f)))+"l"+g/2+",0l"+-g/2+",0z"})});return a}var e={top:0,right:0,bottom:0,left:0},h=960,g=500,l=Math.floor(1E4*Math.random()),m=d3.scale.linear(),n=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=function(a){return a.open},u=function(a){return a.close},x=function(a){return a.high},v=function(a){return a.low},y=[],z=[],k=!1,p=!0,w=f.utils.defaultColor(),B,D,F,K,A=d3.dispatch("chartClick",
"elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=A;a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return q;q=e;return a};a.y=function(e){if(!arguments.length)return r;r=e;return a};a.open=function(e){if(!arguments.length)return s;s=e;return a};a.close=function(e){if(!arguments.length)return u;u=e;return a};a.high=function(e){if(!arguments.length)return x;x=e;return a};a.low=function(e){if(!arguments.length)return v;v=e;return a};a.margin=
function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.xScale=function(e){if(!arguments.length)return m;m=e;return a};a.yScale=function(e){if(!arguments.length)return n;n=e;
return a};a.xDomain=function(e){if(!arguments.length)return B;B=e;return a};a.yDomain=function(e){if(!arguments.length)return D;D=e;return a};a.xRange=function(e){if(!arguments.length)return F;F=e;return a};a.yRange=function(e){if(!arguments.length)return K;K=e;return a};a.forceX=function(e){if(!arguments.length)return y;y=e;return a};a.forceY=function(e){if(!arguments.length)return z;z=e;return a};a.padData=function(e){if(!arguments.length)return k;k=e;return a};a.clipEdge=function(e){if(!arguments.length)return p;
p=e;return a};a.color=function(e){if(!arguments.length)return w;w=f.utils.getColor(e);return a};a.id=function(e){if(!arguments.length)return l;l=e;return a};return a};f.models.pie=function(){function a(f){f.each(function(a){var c=h-e.left-e.right,f=g-e.top-e.bottom,n=Math.min(c,f)/2,s=n-n/5,K=d3.select(this);a=K.selectAll(".nv-wrap.nv-pie").data(a);var N=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+q).append("g"),R=a.select("g");N.append("g").attr("class","nv-pie");N.append("g").attr("class",
"nv-pieLabels");a.attr("transform","translate("+e.left+","+e.top+")");R.select(".nv-pie").attr("transform","translate("+c/2+","+f/2+")");R.select(".nv-pieLabels").attr("transform","translate("+c/2+","+f/2+")");K.on("click",function(a,c){F.chartClick({data:a,index:c,pos:d3.event,id:q})});var L=d3.svg.arc().outerRadius(s);w&&L.startAngle(w);B&&L.endAngle(B);k&&L.innerRadius(n*D);f=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:m(a)});c=a.select(".nv-pie").selectAll(".nv-slice").data(f);
a=a.select(".nv-pieLabels").selectAll(".nv-label").data(f);c.exit().remove();a.exit().remove();f=c.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,c){d3.select(this).classed("hover",!0);F.elementMouseover({label:l(a.data),value:m(a.data),point:a.data,pointIndex:c,pos:[d3.event.pageX,d3.event.pageY],id:q})}).on("mouseout",function(a,c){d3.select(this).classed("hover",!1);F.elementMouseout({label:l(a.data),value:m(a.data),point:a.data,index:c,id:q})}).on("click",function(a,c){F.elementClick({label:l(a.data),
value:m(a.data),point:a.data,index:c,pos:d3.event,id:q});d3.event.stopPropagation()}).on("dblclick",function(a,c){F.elementDblClick({label:l(a.data),value:m(a.data),point:a.data,index:c,pos:d3.event,id:q});d3.event.stopPropagation()});c.attr("fill",function(a,c){return r(a,c)}).attr("stroke",function(a,c){return r(a,c)});f.append("path").each(function(a){this._current=a});c.select("path").transition().attr("d",L).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?
0:a.startAngle;k||(a.innerRadius=0);var c=d3.interpolate(this._current,a);this._current=c(0);return function(a){return L(c(a))}});if(u){var O=d3.svg.arc().innerRadius(0);x&&(O=L);v&&(O=d3.svg.arc().outerRadius(L.outerRadius()));a.enter().append("g").classed("nv-label",!0).each(function(a,c){var e=d3.select(this);e.attr("transform",function(a){if(p){a.outerRadius=s+10;a.innerRadius=s+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+
O.centroid(a)+") rotate("+c+")"}a.outerRadius=n+10;a.innerRadius=n+15;return"translate("+O.centroid(a)+")"});e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);e.append("text").style("text-anchor",p?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var P={},I=function(a){return 140*Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};a.transition().attr("transform",function(a){if(p){a.outerRadius=s+10;a.innerRadius=s+15;var c=(a.startAngle+
a.endAngle)/2*(180/Math.PI),c=(a.startAngle+a.endAngle)/2<Math.PI?c-90:c+90;return"translate("+O.centroid(a)+") rotate("+c+")"}a.outerRadius=n+10;a.innerRadius=n+15;a=O.centroid(a);c=I(a);P[c]&&(a[1]-=14);P[I(a)]=!0;return"translate("+a+")"});a.select(".nv-label text").style("text-anchor",p?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a,c){var e=(a.endAngle-a.startAngle)/(2*Math.PI),f={key:l(a.data),value:m(a.data),percent:d3.format("%")(e)};return a.value&&e>z?f[y]:""})}});
return a}var e={top:0,right:0,bottom:0,left:0},h=500,g=500,l=function(a){return a.x},m=function(a){return a.y},n=function(a){return a.description},q=Math.floor(1E4*Math.random()),r=f.utils.defaultColor(),s=d3.format(",.2f"),u=!0,x=!0,v=!1,y="key",z=0.02,k=!1,p=!1,w=!1,B=!1,D=0.5,F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=F;a.options=f.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?
f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.values=function(e){f.log("pie.values() is no longer supported.");return a};a.x=function(e){if(!arguments.length)return l;l=e;return a};a.y=function(e){if(!arguments.length)return m;m=d3.functor(e);
return a};a.description=function(e){if(!arguments.length)return n;n=e;return a};a.showLabels=function(e){if(!arguments.length)return u;u=e;return a};a.labelSunbeamLayout=function(e){if(!arguments.length)return p;p=e;return a};a.donutLabelsOutside=function(e){if(!arguments.length)return v;v=e;return a};a.pieLabelsOutside=function(e){if(!arguments.length)return x;x=e;return a};a.labelType=function(e){if(!arguments.length)return y;y=(y=e)||"key";return a};a.donut=function(e){if(!arguments.length)return k;
k=e;return a};a.donutRatio=function(e){if(!arguments.length)return D;D=e;return a};a.startAngle=function(e){if(!arguments.length)return w;w=e;return a};a.endAngle=function(e){if(!arguments.length)return B;B=e;return a};a.id=function(e){if(!arguments.length)return q;q=e;return a};a.color=function(e){if(!arguments.length)return r;r=f.utils.getColor(e);return a};a.valueFormat=function(e){if(!arguments.length)return s;s=e;return a};a.labelThreshold=function(e){if(!arguments.length)return z;z=e;return a};
return a};f.models.pieChart=function(){function a(f){f.each(function(f){var p=d3.select(this),q=(l||parseInt(p.style("width"))||960)-g.left-g.right,r=(m||parseInt(p.style("height"))||400)-g.top-g.bottom;a.update=function(){p.transition().call(a)};a.container=this;u.disabled=f.map(function(a){return!!a.disabled});if(!x){var s;x={};for(s in u)x[s]=u[s]instanceof Array?u[s].slice(0):u[s]}if(f&&f.length)p.selectAll(".nv-noData").remove();else return s=p.selectAll(".nv-noData").data([v]),s.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),s.attr("x",g.left+q/2).attr("y",g.top+r/2).text(function(a){return a}),a;s=p.selectAll("g.nv-wrap.nv-pieChart").data([f]);var z=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),K=s.select("g");z.append("g").attr("class","nv-pieWrap");z.append("g").attr("class","nv-legendWrap");n&&(h.width(q).key(e.x()),s.select(".nv-legendWrap").datum(f).call(h),g.top!=h.height()&&(g.top=h.height(),r=(m||parseInt(p.style("height"))||
400)-g.top-g.bottom),s.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")"));s.attr("transform","translate("+g.left+","+g.top+")");e.width(q).height(r);q=K.select(".nv-pieWrap").datum([f]);d3.transition(q).call(e);h.dispatch.on("stateChange",function(e){u=e;y.stateChange(u);a.update()});e.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});y.on("changeState",function(e){"undefined"!==typeof e.disabled&&(f.forEach(function(a,c){a.disabled=e.disabled[c]}),u.disabled=
e.disabled);a.update()})});return a}var e=f.models.pie(),h=f.models.legend(),g={top:30,right:20,bottom:20,left:20},l=null,m=null,n=!0,q=f.utils.defaultColor(),r=!0,s=function(a,c,e,f){return"<h3>"+a+"</h3><p>"+c+"</p>"},u={},x=null,v="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+g.left,a.pos[1]+g.top];y.tooltipShow(a)});y.on("tooltipShow",function(g){if(r){var h=e.description()(g.point)||
e.x()(g.point),l=g.pos[0]+0,m=g.pos[1]+0,n=e.valueFormat()(e.y()(g.point)),h=s(h,n,g,a);f.tooltip.show([l,m],h,0>g.value?"n":"s",null,void 0)}});y.on("tooltipHide",function(){r&&f.tooltip.cleanup()});a.legend=h;a.dispatch=y;a.pie=e;d3.rebind(a,e,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return g;g.top="undefined"!=
typeof e.top?e.top:g.top;g.right="undefined"!=typeof e.right?e.right:g.right;g.bottom="undefined"!=typeof e.bottom?e.bottom:g.bottom;g.left="undefined"!=typeof e.left?e.left:g.left;return a};a.width=function(e){if(!arguments.length)return l;l=e;return a};a.height=function(e){if(!arguments.length)return m;m=e;return a};a.color=function(g){if(!arguments.length)return q;q=f.utils.getColor(g);h.color(q);e.color(q);return a};a.showLegend=function(e){if(!arguments.length)return n;n=e;return a};a.tooltips=
function(e){if(!arguments.length)return r;r=e;return a};a.tooltipContent=function(e){if(!arguments.length)return s;s=e;return a};a.state=function(e){if(!arguments.length)return u;u=e;return a};a.defaultState=function(e){if(!arguments.length)return x;x=e;return a};a.noData=function(e){if(!arguments.length)return v;v=e;return a};return a};f.models.scatter=function(){function a(S){S.each(function(a){var c=h-e.left-e.right,S=g-e.top-e.bottom,V=d3.select(this);a.forEach(function(a,c){a.values.forEach(function(a){a.series=
c})});var ca=G&&Q&&R?[]:d3.merge(a.map(function(a){return a.values.map(function(a,c){return{x:s(a,c),y:u(a,c),size:x(a,c)}})}));n.domain(G||d3.extent(ca.map(function(a){return a.x}).concat(z)));F&&a[0]?n.range(J||[(c*K+c)/(2*a[0].values.length),c-c*(1+K)/(2*a[0].values.length)]):n.range(J||[0,c]);q.domain(Q||d3.extent(ca.map(function(a){return a.y}).concat(k))).range(N||[S,0]);r.domain(R||d3.extent(ca.map(function(a){return a.size}).concat(p))).range(L||[16,256]);if(n.domain()[0]===n.domain()[1]||
q.domain()[0]===q.domain()[1])O=!0;n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-0.01*n.domain()[0],n.domain()[1]+0.01*n.domain()[1]]):n.domain([-1,1]));q.domain()[0]===q.domain()[1]&&(q.domain()[0]?q.domain([q.domain()[0]-0.01*q.domain()[0],q.domain()[1]+0.01*q.domain()[1]]):q.domain([-1,1]));isNaN(n.domain()[0])&&n.domain([-1,1]);isNaN(q.domain()[0])&&q.domain([-1,1]);W=W||n;T=T||q;var U=V.selectAll("g.nv-wrap.nv-scatter").data([a]),ca=U.enter().append("g").attr("class",
"nvd3 nv-wrap nv-scatter nv-chart-"+m+(O?" nv-single-point":"")),V=ca.append("defs"),ca=ca.append("g"),aa=U.select("g");ca.append("g").attr("class","nv-groups");ca.append("g").attr("class","nv-point-paths");U.attr("transform","translate("+e.left+","+e.top+")");V.append("clipPath").attr("id","nv-edge-clip-"+m).append("rect");U.select("#nv-edge-clip-"+m+" rect").attr("width",c).attr("height",0<S?S:0);aa.attr("clip-path",A?"url(#nv-edge-clip-"+m+")":"");X=!0;c=U.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});c.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);c.exit().remove();c.attr("class",function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover});c.transition().style("fill",function(a,c){return l(a,c)}).style("stroke",function(a,c){return l(a,c)}).style("stroke-opacity",1).style("fill-opacity",0.5);y?(S=c.selectAll("circle.nv-point").data(function(a){return a.values},B),S.enter().append("circle").style("fill",function(a,
c){return a.color}).style("stroke",function(a,c){return a.color}).attr("cx",function(a,c){return f.utils.NaNtoZero(W(s(a,c)))}).attr("cy",function(a,c){return f.utils.NaNtoZero(T(u(a,c)))}).attr("r",function(a,c){return Math.sqrt(r(x(a,c))/Math.PI)}),S.exit().remove(),c.exit().selectAll("path.nv-point").transition().attr("cx",function(a,c){return f.utils.NaNtoZero(n(s(a,c)))}).attr("cy",function(a,c){return f.utils.NaNtoZero(q(u(a,c)))}).remove(),S.each(function(a,c){d3.select(this).classed("nv-point",
!0).classed("nv-point-"+c,!0).classed("hover",!1)}),S.transition().attr("cx",function(a,c){return f.utils.NaNtoZero(n(s(a,c)))}).attr("cy",function(a,c){return f.utils.NaNtoZero(q(u(a,c)))}).attr("r",function(a,c){return Math.sqrt(r(x(a,c))/Math.PI)})):(S=c.selectAll("path.nv-point").data(function(a){return a.values}),S.enter().append("path").style("fill",function(a,c){return a.color}).style("stroke",function(a,c){return a.color}).attr("transform",function(a,c){return"translate("+W(s(a,c))+","+T(u(a,
c))+")"}).attr("d",d3.svg.symbol().type(v).size(function(a,c){return r(x(a,c))})),S.exit().remove(),c.exit().selectAll("path.nv-point").transition().attr("transform",function(a,c){return"translate("+n(s(a,c))+","+q(u(a,c))+")"}).remove(),S.each(function(a,c){d3.select(this).classed("nv-point",!0).classed("nv-point-"+c,!0).classed("hover",!1)}),S.transition().attr("transform",function(a,c){return"translate("+n(s(a,c))+","+q(u(a,c))+")"}).attr("d",d3.svg.symbol().type(v).size(function(a,c){return r(x(a,
c))})));clearTimeout(M);M=setTimeout(function(){if(!w)return!1;var c=d3.merge(a.map(function(a,c){return a.values.map(function(a,e){var f=s(a,e),g=u(a,e);return[n(f)+1E-7*Math.random(),q(g)+1E-7*Math.random(),c,e,a]}).filter(function(a,c){return D(a[4],c)})}));if(!0===I){if(H){U.select("defs").selectAll(".nv-point-clips").data([m]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+m);var f=U.select("#nv-points-clip-"+m).selectAll("circle").data(c);f.enter().append("circle").attr("r",
E);f.exit().remove();f.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});U.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+m+")")}c.length&&(c.push([n.range()[0]-20,q.range()[0]-20,null,null]),c.push([n.range()[1]+20,q.range()[1]+20,null,null]),c.push([n.range()[0]-20,q.range()[0]+20,null,null]),c.push([n.range()[1]+20,q.range()[1]-20,null,null]));var k=d3.geom.polygon([[-10,-10],[-10,g+10],[h+10,g+10],[h+10,-10]]),f=d3.geom.voronoi(c).map(function(a,e){return{data:k.clip(a),
series:c[e][2],point:c[e][3]}}),f=U.select(".nv-point-paths").selectAll("path").data(f);f.enter().append("path").attr("class",function(a,c){return"nv-path-"+c});f.exit().remove();f.attr("d",function(a){return 0===a.data.length?"M 0 0":"M"+a.data.join("L")+"Z"});var l=function(c,f){if(X)return 0;var g=a[c.series];if("undefined"!==typeof g){var h=g.values[c.point];f({point:h,series:g,pos:[n(s(h,c.point))+e.left,q(u(h,c.point))+e.top],seriesIndex:c.series,pointIndex:c.point})}};f.on("click",function(a){l(a,
P.elementClick)}).on("mouseover",function(a){l(a,P.elementMouseover)}).on("mouseout",function(a,c){l(a,P.elementMouseout)})}else U.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,f){if(X||!a[c.series])return 0;var g=a[c.series],h=g.values[f];P.elementClick({point:h,series:g,pos:[n(s(h,f))+e.left,q(u(h,f))+e.top],seriesIndex:c.series,pointIndex:f})}).on("mouseover",function(c,f){if(X||!a[c.series])return 0;var g=a[c.series],h=g.values[f];P.elementMouseover({point:h,
series:g,pos:[n(s(h,f))+e.left,q(u(h,f))+e.top],seriesIndex:c.series,pointIndex:f})}).on("mouseout",function(c,e){if(X||!a[c.series])return 0;var f=a[c.series];P.elementMouseout({point:f.values[e],series:f,seriesIndex:c.series,pointIndex:e})});X=!1},300);W=n.copy();T=q.copy();r.copy()});return a}var e={top:0,right:0,bottom:0,left:0},h=960,g=500,l=f.utils.defaultColor(),m=Math.floor(1E5*Math.random()),n=d3.scale.linear(),q=d3.scale.linear(),r=d3.scale.linear(),s=function(a){return a.x},u=function(a){return a.y},
x=function(a){return a.size||1},v=function(a){return a.shape||"circle"},y=!0,z=[],k=[],p=[],w=!0,B=null,D=function(a){return!a.notActive},F=!1,K=0.1,A=!1,H=!0,E=function(){return 25},G=null,Q=null,J=null,N=null,R=null,L=null,O=!1,P=d3.dispatch("elementClick","elementMouseover","elementMouseout"),I=!0,W,T,M,X=!1;a.clearHighlights=function(){d3.selectAll(".nv-chart-"+m+" .nv-point.hover").classed("hover",!1)};a.highlightPoint=function(a,c,e){d3.select(".nv-chart-"+m+" .nv-series-"+a+" .nv-point-"+c).classed("hover",
e)};P.on("elementMouseover.point",function(e){w&&a.highlightPoint(e.seriesIndex,e.pointIndex,!0)});P.on("elementMouseout.point",function(e){w&&a.highlightPoint(e.seriesIndex,e.pointIndex,!1)});a.dispatch=P;a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return s;s=d3.functor(e);return a};a.y=function(e){if(!arguments.length)return u;u=d3.functor(e);return a};a.size=function(e){if(!arguments.length)return x;x=d3.functor(e);return a};a.margin=function(f){if(!arguments.length)return e;
e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.xScale=function(e){if(!arguments.length)return n;n=e;return a};a.yScale=function(e){if(!arguments.length)return q;q=e;return a};a.zScale=function(e){if(!arguments.length)return r;
r=e;return a};a.xDomain=function(e){if(!arguments.length)return G;G=e;return a};a.yDomain=function(e){if(!arguments.length)return Q;Q=e;return a};a.sizeDomain=function(e){if(!arguments.length)return R;R=e;return a};a.xRange=function(e){if(!arguments.length)return J;J=e;return a};a.yRange=function(e){if(!arguments.length)return N;N=e;return a};a.sizeRange=function(e){if(!arguments.length)return L;L=e;return a};a.forceX=function(e){if(!arguments.length)return z;z=e;return a};a.forceY=function(e){if(!arguments.length)return k;
k=e;return a};a.forceSize=function(e){if(!arguments.length)return p;p=e;return a};a.interactive=function(e){if(!arguments.length)return w;w=e;return a};a.pointKey=function(e){if(!arguments.length)return B;B=e;return a};a.pointActive=function(e){if(!arguments.length)return D;D=e;return a};a.padData=function(e){if(!arguments.length)return F;F=e;return a};a.padDataOuter=function(e){if(!arguments.length)return K;K=e;return a};a.clipEdge=function(e){if(!arguments.length)return A;A=e;return a};a.clipVoronoi=
function(e){if(!arguments.length)return H;H=e;return a};a.useVoronoi=function(e){if(!arguments.length)return I;I=e;!1===I&&(H=!1);return a};a.clipRadius=function(e){if(!arguments.length)return E;E=e;return a};a.color=function(e){if(!arguments.length)return l;l=f.utils.getColor(e);return a};a.shape=function(e){if(!arguments.length)return v;v=e;return a};a.onlyCircles=function(e){if(!arguments.length)return y;y=e;return a};a.id=function(e){if(!arguments.length)return m;m=e;return a};a.singlePoint=function(e){if(!arguments.length)return O;
O=e;return a};return a};f.models.scatterChart=function(){function a(T){T.each(function(M){function T(){if(E)return U.select(".nv-point-paths").style("pointer-events","all"),!1;U.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);v.distortion(H).focus(a[0]);y.distortion(H).focus(a[1]);U.select(".nv-scatterWrap").call(e);D&&U.select(".nv-x.nv-axis").call(h);F&&U.select(".nv-y.nv-axis").call(g);U.select(".nv-distributionX").datum(M.filter(function(a){return!a.disabled})).call(n);
U.select(".nv-distributionY").datum(M.filter(function(a){return!a.disabled})).call(q)}var S=d3.select(this),Z=this,ba=(s||parseInt(S.style("width"))||960)-r.left-r.right,Y=(u||parseInt(S.style("height"))||400)-r.top-r.bottom;a.update=function(){S.transition().duration(I).call(a)};a.container=this;R.disabled=M.map(function(a){return!!a.disabled});if(!L){var V;L={};for(V in R)L[V]=R[V]instanceof Array?R[V].slice(0):R[V]}if(M&&M.length&&M.filter(function(a){return a.values.length}).length)S.selectAll(".nv-noData").remove();
else return V=S.selectAll(".nv-noData").data([P]),V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",r.left+ba/2).attr("y",r.top+Y/2).text(function(a){return a}),a;V=S.selectAll("g.nv-wrap.nv-scatterChart").data([M]);var ca=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()).append("g"),U=V.select("g");ca.append("rect").attr("class","nvd3 nv-background");ca.append("g").attr("class","nv-x nv-axis");ca.append("g").attr("class",
"nv-y nv-axis");ca.append("g").attr("class","nv-scatterWrap");ca.append("g").attr("class","nv-distWrap");ca.append("g").attr("class","nv-legendWrap");ca.append("g").attr("class","nv-controlsWrap");if(B){var aa=A?ba/2:ba;l.width(aa);V.select(".nv-legendWrap").datum(M).call(l);r.top!=l.height()&&(r.top=l.height(),Y=(u||parseInt(S.style("height"))||400)-r.top-r.bottom);V.select(".nv-legendWrap").attr("transform","translate("+(ba-aa)+","+-r.top+")")}A&&(m.width(180).color(["#444"]),U.select(".nv-controlsWrap").datum(W).attr("transform",
"translate(0,"+-r.top+")").call(m));V.attr("transform","translate("+r.left+","+r.top+")");K&&U.select(".nv-y.nv-axis").attr("transform","translate("+ba+",0)");e.width(ba).height(Y).color(M.map(function(a,c){return a.color||x(a,c)}).filter(function(a,c){return!M[c].disabled}));0!==z&&e.xDomain(null);0!==k&&e.yDomain(null);V.select(".nv-scatterWrap").datum(M.filter(function(a){return!a.disabled})).call(e);0!==z&&(aa=v.domain()[1]-v.domain()[0],e.xDomain([v.domain()[0]-z*aa,v.domain()[1]+z*aa]));0!==
k&&(aa=y.domain()[1]-y.domain()[0],e.yDomain([y.domain()[0]-k*aa,y.domain()[1]+k*aa]));0===k&&0===z||V.select(".nv-scatterWrap").datum(M.filter(function(a){return!a.disabled})).call(e);D&&(h.scale(v).ticks(h.ticks()&&h.ticks().length?h.ticks():ba/100).tickSize(-Y,0),U.select(".nv-x.nv-axis").attr("transform","translate(0,"+y.range()[0]+")").call(h));F&&(g.scale(y).ticks(g.ticks()&&g.ticks().length?g.ticks():Y/36).tickSize(-ba,0),U.select(".nv-y.nv-axis").call(g));p&&(n.getData(e.x()).scale(v).width(ba).color(M.map(function(a,
c){return a.color||x(a,c)}).filter(function(a,c){return!M[c].disabled})),ca.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),U.select(".nv-distributionX").attr("transform","translate(0,"+y.range()[0]+")").datum(M.filter(function(a){return!a.disabled})).call(n));w&&(q.getData(e.y()).scale(y).width(Y).color(M.map(function(a,c){return a.color||x(a,c)}).filter(function(a,c){return!M[c].disabled})),ca.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),U.select(".nv-distributionY").attr("transform",
"translate("+(K?ba:-q.size())+",0)").datum(M.filter(function(a){return!a.disabled})).call(q));d3.fisheye&&(U.select(".nv-background").attr("width",ba).attr("height",Y),U.select(".nv-background").on("mousemove",T),U.select(".nv-background").on("click",function(){E=!E}),e.dispatch.on("elementClick.freezeFisheye",function(){E=!E}));m.dispatch.on("legendClick",function(f,k){f.disabled=!f.disabled;H=f.disabled?0:2.5;U.select(".nv-background").style("pointer-events",f.disabled?"none":"all");U.select(".nv-point-paths").style("pointer-events",
f.disabled?"all":"none");f.disabled?(v.distortion(H).focus(0),y.distortion(H).focus(0),U.select(".nv-scatterWrap").call(e),U.select(".nv-x.nv-axis").call(h),U.select(".nv-y.nv-axis").call(g)):E=!1;a.update()});l.dispatch.on("stateChange",function(e){R.disabled=e.disabled;O.stateChange(R);a.update()});e.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",function(c,e){return a.pos[1]-Y});d3.select(".nv-chart-"+
e.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+n.size());a.pos=[a.pos[0]+r.left,a.pos[1]+r.top];O.tooltipShow(a)});O.on("tooltipShow",function(k){if(G){var l=Z.parentNode,m=k.pos[0]+(l.offsetLeft||0),n=k.pos[1]+(l.offsetTop||0),p=k.pos[0]+(l.offsetLeft||0),q=y.range()[0]+r.top+(l.offsetTop||0),s=v.range()[0]+r.left+(l.offsetLeft||0),u=k.pos[1]+(l.offsetTop||0),w=h.tickFormat()(e.x()(k.point,k.pointIndex)),z=g.tickFormat()(e.y()(k.point,k.pointIndex));null!=Q&&f.tooltip.show([p,
q],Q(k.series.key,w,z,k,a),"n",1,l,"x-nvtooltip");null!=J&&f.tooltip.show([s,u],J(k.series.key,w,z,k,a),"e",1,l,"y-nvtooltip");null!=N&&f.tooltip.show([m,n],N(k.series.key,w,z,k,a),0>k.value?"n":"s",null,l)}});O.on("changeState",function(e){"undefined"!==typeof e.disabled&&(M.forEach(function(a,c){a.disabled=e.disabled[c]}),R.disabled=e.disabled);a.update()});v.copy();y.copy()});return a}var e=f.models.scatter(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend(),m=f.models.legend(),n=f.models.distribution(),
q=f.models.distribution(),r={top:30,right:20,bottom:50,left:75},s=null,u=null,x=f.utils.defaultColor(),v=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),y=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),z=0,k=0,p=!1,w=!1,B=!0,D=!0,F=!0,K=!1,A=!!d3.fisheye,H=0,E=!1,G=!0,Q=function(a,c,e){return"<strong>"+c+"</strong>"},J=function(a,c,e){return"<strong>"+e+"</strong>"},N=null,R={},L=null,O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),
P="No Data Available.",I=250;e.xScale(v).yScale(y);h.orient("bottom").tickPadding(10);g.orient(K?"right":"left").tickPadding(10);n.axis("x");q.axis("y");m.updateState(!1);var W=[{key:"Magnify",disabled:!0}];e.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a);d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",q.size())});O.on("tooltipHide",
function(){G&&f.tooltip.cleanup()});a.dispatch=O;a.scatter=e;a.legend=l;a.controls=m;a.xAxis=h;a.yAxis=g;a.distX=n;a.distY=q;d3.rebind(a,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return r;r.top="undefined"!=typeof e.top?e.top:r.top;r.right="undefined"!=
typeof e.right?e.right:r.right;r.bottom="undefined"!=typeof e.bottom?e.bottom:r.bottom;r.left="undefined"!=typeof e.left?e.left:r.left;return a};a.width=function(e){if(!arguments.length)return s;s=e;return a};a.height=function(e){if(!arguments.length)return u;u=e;return a};a.color=function(e){if(!arguments.length)return x;x=f.utils.getColor(e);l.color(x);n.color(x);q.color(x);return a};a.showDistX=function(e){if(!arguments.length)return p;p=e;return a};a.showDistY=function(e){if(!arguments.length)return w;
w=e;return a};a.showControls=function(e){if(!arguments.length)return A;A=e;return a};a.showLegend=function(e){if(!arguments.length)return B;B=e;return a};a.showXAxis=function(e){if(!arguments.length)return D;D=e;return a};a.showYAxis=function(e){if(!arguments.length)return F;F=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return K;K=e;g.orient(e?"right":"left");return a};a.fisheye=function(e){if(!arguments.length)return H;H=e;return a};a.xPadding=function(e){if(!arguments.length)return z;
z=e;return a};a.yPadding=function(e){if(!arguments.length)return k;k=e;return a};a.tooltips=function(e){if(!arguments.length)return G;G=e;return a};a.tooltipContent=function(e){if(!arguments.length)return N;N=e;return a};a.tooltipXContent=function(e){if(!arguments.length)return Q;Q=e;return a};a.tooltipYContent=function(e){if(!arguments.length)return J;J=e;return a};a.state=function(e){if(!arguments.length)return R;R=e;return a};a.defaultState=function(e){if(!arguments.length)return L;L=e;return a};
a.noData=function(e){if(!arguments.length)return P;P=e;return a};a.transitionDuration=function(e){if(!arguments.length)return I;I=e;return a};return a};f.models.scatterPlusLineChart=function(){function a(I){I.each(function(I){function T(){if(A)return V.select(".nv-point-paths").style("pointer-events","all"),!1;V.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);v.distortion(K).focus(a[0]);y.distortion(K).focus(a[1]);V.select(".nv-scatterWrap").datum(I.filter(function(a){return!a.disabled})).call(e);
w&&V.select(".nv-x.nv-axis").call(h);B&&V.select(".nv-y.nv-axis").call(g);V.select(".nv-distributionX").datum(I.filter(function(a){return!a.disabled})).call(n);V.select(".nv-distributionY").datum(I.filter(function(a){return!a.disabled})).call(q)}var M=d3.select(this),X=this,S=(s||parseInt(M.style("width"))||960)-r.left-r.right,Z=(u||parseInt(M.style("height"))||400)-r.top-r.bottom;a.update=function(){M.transition().duration(O).call(a)};a.container=this;J.disabled=I.map(function(a){return!!a.disabled});
if(!N){var ba;N={};for(ba in J)N[ba]=J[ba]instanceof Array?J[ba].slice(0):J[ba]}if(I&&I.length&&I.filter(function(a){return a.values.length}).length)M.selectAll(".nv-noData").remove();else return ba=M.selectAll(".nv-noData").data([L]),ba.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ba.attr("x",r.left+S/2).attr("y",r.top+Z/2).text(function(a){return a}),a;v=e.xScale();y=e.yScale();var Y=M.selectAll("g.nv-wrap.nv-scatterChart").data([I]);ba=
Y.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()).append("g");var V=Y.select("g");ba.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");ba.append("g").attr("class","nv-x nv-axis");ba.append("g").attr("class","nv-y nv-axis");ba.append("g").attr("class","nv-scatterWrap");ba.append("g").attr("class","nv-regressionLinesWrap");ba.append("g").attr("class","nv-distWrap");ba.append("g").attr("class","nv-legendWrap");ba.append("g").attr("class",
"nv-controlsWrap");Y.attr("transform","translate("+r.left+","+r.top+")");D&&V.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)");p&&(l.width(S/2),Y.select(".nv-legendWrap").datum(I).call(l),r.top!=l.height()&&(r.top=l.height(),Z=(u||parseInt(M.style("height"))||400)-r.top-r.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+S/2+","+-r.top+")"));F&&(m.width(180).color(["#444"]),V.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-r.top+")").call(m));e.width(S).height(Z).color(I.map(function(a,
c){return a.color||x(a,c)}).filter(function(a,c){return!I[c].disabled}));Y.select(".nv-scatterWrap").datum(I.filter(function(a){return!a.disabled})).call(e);Y.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");Y=Y.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});Y.enter().append("g").attr("class","nv-regLines");Y=Y.selectAll(".nv-regLine").data(function(a){return[a]});Y.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",
0);Y.transition().attr("x1",v.range()[0]).attr("x2",v.range()[1]).attr("y1",function(a,c){return y(v.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,c){return y(v.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,c,e){return x(a,e)}).style("stroke-opacity",function(a,c){return a.disabled||"undefined"===typeof a.slope||"undefined"===typeof a.intercept?0:1});w&&(h.scale(v).ticks(h.ticks()?h.ticks():S/100).tickSize(-Z,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+y.range()[0]+
")").call(h));B&&(g.scale(y).ticks(g.ticks()?g.ticks():Z/36).tickSize(-S,0),V.select(".nv-y.nv-axis").call(g));z&&(n.getData(e.x()).scale(v).width(S).color(I.map(function(a,c){return a.color||x(a,c)}).filter(function(a,c){return!I[c].disabled})),ba.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),V.select(".nv-distributionX").attr("transform","translate(0,"+y.range()[0]+")").datum(I.filter(function(a){return!a.disabled})).call(n));k&&(q.getData(e.y()).scale(y).width(Z).color(I.map(function(a,
c){return a.color||x(a,c)}).filter(function(a,c){return!I[c].disabled})),ba.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),V.select(".nv-distributionY").attr("transform","translate("+(D?S:-q.size())+",0)").datum(I.filter(function(a){return!a.disabled})).call(q));d3.fisheye&&(V.select(".nv-background").attr("width",S).attr("height",Z),V.select(".nv-background").on("mousemove",T),V.select(".nv-background").on("click",function(){A=!A}),e.dispatch.on("elementClick.freezeFisheye",
function(){A=!A}));m.dispatch.on("legendClick",function(f,k){f.disabled=!f.disabled;K=f.disabled?0:2.5;V.select(".nv-background").style("pointer-events",f.disabled?"none":"all");V.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(v.distortion(K).focus(0),y.distortion(K).focus(0),V.select(".nv-scatterWrap").call(e),V.select(".nv-x.nv-axis").call(h),V.select(".nv-y.nv-axis").call(g)):A=!1;a.update()});l.dispatch.on("stateChange",function(e){J=e;R.stateChange(J);a.update()});
e.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-Z);d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+n.size());a.pos=[a.pos[0]+r.left,a.pos[1]+r.top];R.tooltipShow(a)});R.on("tooltipShow",function(k){if(H){var l=X.parentNode,m=k.pos[0]+(l.offsetLeft||0),n=k.pos[1]+(l.offsetTop||0),p=k.pos[0]+(l.offsetLeft||0),q=y.range()[0]+r.top+(l.offsetTop||
0),s=v.range()[0]+r.left+(l.offsetLeft||0),u=k.pos[1]+(l.offsetTop||0),w=h.tickFormat()(e.x()(k.point,k.pointIndex)),z=g.tickFormat()(e.y()(k.point,k.pointIndex));null!=E&&f.tooltip.show([p,q],E(k.series.key,w,z,k,a),"n",1,l,"x-nvtooltip");null!=G&&f.tooltip.show([s,u],G(k.series.key,w,z,k,a),"e",1,l,"y-nvtooltip");null!=Q&&f.tooltip.show([m,n],Q(k.series.key,w,z,k.point.tooltip,k,a),0>k.value?"n":"s",null,l)}});R.on("changeState",function(e){"undefined"!==typeof e.disabled&&(I.forEach(function(a,
c){a.disabled=e.disabled[c]}),J.disabled=e.disabled);a.update()});v.copy();y.copy()});return a}var e=f.models.scatter(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend(),m=f.models.legend(),n=f.models.distribution(),q=f.models.distribution(),r={top:30,right:20,bottom:50,left:75},s=null,u=null,x=f.utils.defaultColor(),v=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),y=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),z=!1,k=!1,p=!0,w=!0,B=!0,D=!1,F=
!!d3.fisheye,K=0,A=!1,H=!0,E=function(a,c,e){return"<strong>"+c+"</strong>"},G=function(a,c,e){return"<strong>"+e+"</strong>"},Q=function(a,c,e,f){return"<h3>"+a+"</h3><p>"+f+"</p>"},J={},N=null,R=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),L="No Data Available.",O=250;e.xScale(v).yScale(y);h.orient("bottom").tickPadding(10);g.orient(D?"right":"left").tickPadding(10);n.axis("x");q.axis("y");m.updateState(!1);var P=[{key:"Magnify",disabled:!0}];e.dispatch.on("elementMouseout.tooltip",
function(a){R.tooltipHide(a);d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+e.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",q.size())});R.on("tooltipHide",function(){H&&f.tooltip.cleanup()});a.dispatch=R;a.scatter=e;a.legend=l;a.controls=m;a.xAxis=h;a.yAxis=g;a.distX=n;a.distY=q;d3.rebind(a,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange",
"yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return r;r.top="undefined"!=typeof e.top?e.top:r.top;r.right="undefined"!=typeof e.right?e.right:r.right;r.bottom="undefined"!=typeof e.bottom?e.bottom:r.bottom;r.left="undefined"!=typeof e.left?e.left:r.left;return a};a.width=function(e){if(!arguments.length)return s;s=e;return a};a.height=function(e){if(!arguments.length)return u;
u=e;return a};a.color=function(e){if(!arguments.length)return x;x=f.utils.getColor(e);l.color(x);n.color(x);q.color(x);return a};a.showDistX=function(e){if(!arguments.length)return z;z=e;return a};a.showDistY=function(e){if(!arguments.length)return k;k=e;return a};a.showControls=function(e){if(!arguments.length)return F;F=e;return a};a.showLegend=function(e){if(!arguments.length)return p;p=e;return a};a.showXAxis=function(e){if(!arguments.length)return w;w=e;return a};a.showYAxis=function(e){if(!arguments.length)return B;
B=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return D;D=e;g.orient(e?"right":"left");return a};a.fisheye=function(e){if(!arguments.length)return K;K=e;return a};a.tooltips=function(e){if(!arguments.length)return H;H=e;return a};a.tooltipContent=function(e){if(!arguments.length)return Q;Q=e;return a};a.tooltipXContent=function(e){if(!arguments.length)return E;E=e;return a};a.tooltipYContent=function(e){if(!arguments.length)return G;G=e;return a};a.state=function(e){if(!arguments.length)return J;
J=e;return a};a.defaultState=function(e){if(!arguments.length)return N;N=e;return a};a.noData=function(e){if(!arguments.length)return L;L=e;return a};a.transitionDuration=function(e){if(!arguments.length)return O;O=e;return a};return a};f.models.sparkline=function(){function a(f){f.each(function(a){var c=h-e.left-e.right,f=g-e.top-e.bottom,l=d3.select(this);m.domain(u||d3.extent(a,q)).range(v||[0,c]);n.domain(x||d3.extent(a,r)).range(y||[f,0]);a=l.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class",
"nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+e.left+","+e.top+")");c=a.selectAll("path").data(function(a){return[a]});c.enter().append("path");c.exit().remove();c.style("stroke",function(a,c){return a.color||s(a,c)}).attr("d",d3.svg.line().x(function(a,c){return m(q(a,c))}).y(function(a,c){return n(r(a,c))}));a=a.selectAll("circle.nv-point").data(function(a){function c(e){if(-1!=e){var f=a[e];f.pointIndex=e;return f}return null}var e=a.map(function(a,c){return r(a,
c)}),f=c(e.lastIndexOf(n.domain()[1])),g=c(e.indexOf(n.domain()[0])),e=c(e.length-1);return[g,f,e].filter(function(a){return null!=a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,c){return m(q(a,a.pointIndex))}).attr("cy",function(a,c){return n(r(a,a.pointIndex))}).attr("r",2).attr("class",function(a,c){return q(a,a.pointIndex)==m.domain()[1]?"nv-point nv-currentValue":r(a,a.pointIndex)==n.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var e={top:2,
right:0,bottom:2,left:0},h=400,g=32,l=!0,m=d3.scale.linear(),n=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=f.utils.getColor(["#000"]),u,x,v,y;a.options=f.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:e.left;return a};a.width=function(e){if(!arguments.length)return h;
h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.x=function(e){if(!arguments.length)return q;q=d3.functor(e);return a};a.y=function(e){if(!arguments.length)return r;r=d3.functor(e);return a};a.xScale=function(e){if(!arguments.length)return m;m=e;return a};a.yScale=function(e){if(!arguments.length)return n;n=e;return a};a.xDomain=function(e){if(!arguments.length)return u;u=e;return a};a.yDomain=function(e){if(!arguments.length)return x;x=e;return a};a.xRange=function(e){if(!arguments.length)return v;
v=e;return a};a.yRange=function(e){if(!arguments.length)return y;y=e;return a};a.animate=function(e){if(!arguments.length)return l;l=e;return a};a.color=function(e){if(!arguments.length)return s;s=f.utils.getColor(e);return a};return a};f.models.sparklinePlus=function(){function a(f){f.each(function(p){function w(){if(!r){var a=H.selectAll(".nv-hoverValue").data(q),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",
0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+m(e.x()(p[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);q.length&&(c.append("line").attr("x1",0).attr("y1",-h.top).attr("x2",0).attr("y2",F),c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-h.top).attr("text-anchor","end").attr("dy",".9em"),H.select(".nv-hoverValue .nv-xValue").text(s(e.x()(p[q[0]],q[0]))),c.append("text").attr("class","nv-yValue").attr("x",
6).attr("y",-h.top).attr("text-anchor","start").attr("dy",".9em"),H.select(".nv-hoverValue .nv-yValue").text(u(e.y()(p[q[0]],q[0]))))}}var x=d3.select(this),D=(g||parseInt(x.style("width"))||960)-h.left-h.right,F=(l||parseInt(x.style("height"))||400)-h.top-h.bottom;a.update=function(){a(f)};a.container=this;if(p&&p.length)x.selectAll(".nv-noData").remove();else{var K=x.selectAll(".nv-noData").data([z]);K.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor",
"middle");K.attr("x",h.left+D/2).attr("y",h.top+F/2).text(function(a){return a});return a}K=e.y()(p[p.length-1],p.length-1);m=e.xScale();n=e.yScale();var A=x.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),x=A.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),H=A.select("g");x.append("g").attr("class","nv-sparklineWrap");x.append("g").attr("class","nv-valueWrap");x.append("g").attr("class","nv-hoverArea");A.attr("transform","translate("+h.left+","+h.top+")");A=H.select(".nv-sparklineWrap");
e.width(D).height(F);A.call(e);A=H.select(".nv-valueWrap").selectAll(".nv-currentValue").data([K]);A.enter().append("text").attr("class","nv-currentValue").attr("dx",y?-8:8).attr("dy",".9em").style("text-anchor",y?"end":"start");A.attr("x",D+(y?h.right:0)).attr("y",v?function(a){return n(a)}:0).style("fill",e.color()(p[p.length-1],p.length-1)).text(u(K));x.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!r){for(var a=d3.mouse(this)[0]-h.left,c=p,a=Math.round(m.invert(a)),f=Math.abs(e.x()(c[0],
0)-a),g=0,k=0;k<c.length;k++)Math.abs(e.x()(c[k],k)-a)<f&&(f=Math.abs(e.x()(c[k],k)-a),g=k);q=[g];w()}}).on("click",function(){r=!r}).on("mouseout",function(){q=[];w()});H.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-h.left+","+-h.top+")"}).attr("width",D+h.left+h.right).attr("height",F+h.top)});return a}var e=f.models.sparkline(),h={top:15,right:100,bottom:10,left:50},g=null,l=null,m,n,q=[],r=!1,s=d3.format(",r"),u=d3.format(",.2f"),x=!0,v=!0,y=!1,z="No Data Available.";
a.sparkline=e;d3.rebind(a,e,"x","y","xScale","yScale","color");a.options=f.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return h;h.top="undefined"!=typeof e.top?e.top:h.top;h.right="undefined"!=typeof e.right?e.right:h.right;h.bottom="undefined"!=typeof e.bottom?e.bottom:h.bottom;h.left="undefined"!=typeof e.left?e.left:h.left;return a};a.width=function(e){if(!arguments.length)return g;g=e;return a};a.height=function(e){if(!arguments.length)return l;l=e;return a};a.xTickFormat=
function(e){if(!arguments.length)return s;s=e;return a};a.yTickFormat=function(e){if(!arguments.length)return u;u=e;return a};a.showValue=function(e){if(!arguments.length)return x;x=e;return a};a.alignValue=function(e){if(!arguments.length)return v;v=e;return a};a.rightAlignValue=function(e){if(!arguments.length)return y;y=e;return a};a.noData=function(e){if(!arguments.length)return z;z=e;return a};return a};f.models.stackedArea=function(){function a(f){f.each(function(f){var r=h-e.left-e.right,w=
g-e.top-e.bottom,K=d3.select(this);y=k.xScale();z=k.yScale();var A=f;f.forEach(function(a,c){a.seriesIndex=c;a.values=a.values.map(function(a,e){a.index=e;a.seriesIndex=c;return a})});f=f.filter(function(a){return!a.disabled});f=d3.layout.stack().order(u).offset(s).values(function(a){return a.values}).x(n).y(q).out(function(a,c,e){e=0===q(a)?0:e;a.display={y:e,y0:c}})(f);var K=K.selectAll("g.nv-wrap.nv-stackedarea").data([f]),H=K.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),E=H.append("defs"),
H=H.append("g"),G=K.select("g");H.append("g").attr("class","nv-areaWrap");H.append("g").attr("class","nv-scatterWrap");K.attr("transform","translate("+e.left+","+e.top+")");k.width(r).height(w).x(n).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(f.map(function(a,c){return a.color||l(a,a.seriesIndex)}));G.select(".nv-scatterWrap").datum(f).call(k);E.append("clipPath").attr("id","nv-edge-clip-"+m).append("rect");K.select("#nv-edge-clip-"+m+" rect").attr("width",r).attr("height",w);
G.attr("clip-path",v?"url(#nv-edge-clip-"+m+")":"");var Q=d3.svg.area().x(function(a,c){return y(n(a,c))}).y0(function(a){return z(a.display.y0)}).y1(function(a){return z(a.display.y+a.display.y0)}).interpolate(x),J=d3.svg.area().x(function(a,c){return y(n(a,c))}).y0(function(a){return z(a.display.y0)}).y1(function(a){return z(a.display.y0)}),r=G.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});r.enter().append("path").attr("class",function(a,c){return"nv-area nv-area-"+
c}).attr("d",function(a,c){return J(a.values,a.seriesIndex)}).on("mouseover",function(a,c){d3.select(this).classed("hover",!0);p.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,c){d3.select(this).classed("hover",!1);p.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,c){d3.select(this).classed("hover",!1);p.areaClick({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})});r.exit().remove();r.style("fill",function(a,c){return a.color||l(a,a.seriesIndex)}).style("stroke",function(a,c){return a.color||l(a,a.seriesIndex)});r.transition().attr("d",function(a,c){return Q(a.values,c)});k.dispatch.on("elementMouseover.area",function(a){G.select(".nv-chart-"+m+" .nv-area-"+a.seriesIndex).classed("hover",!0)});k.dispatch.on("elementMouseout.area",function(a){G.select(".nv-chart-"+m+" .nv-area-"+a.seriesIndex).classed("hover",!1)});
a.d3_stackedOffset_stackPercent=function(a){var c=a.length,e=a[0].length,f=1/c,g,h,k,l=[];for(h=0;h<e;++h){for(k=g=0;g<A.length;g++)k+=q(A[g].values[h]);if(k)for(g=0;g<c;g++)a[g][h][1]/=k;else for(g=0;g<c;g++)a[g][h][1]=f}for(h=0;h<e;++h)l[h]=0;return l}});return a}var e={top:0,right:0,bottom:0,left:0},h=960,g=500,l=f.utils.defaultColor(),m=Math.floor(1E5*Math.random()),n=function(a){return a.x},q=function(a){return a.y},r="stack",s="zero",u="default",x="linear",v=!1,y,z,k=f.models.scatter(),p=d3.dispatch("tooltipShow",
"tooltipHide","areaClick","areaMouseover","areaMouseout");k.size(2.2).sizeDomain([2.2,2.2]);k.dispatch.on("elementClick.area",function(a){p.areaClick(a)});k.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];p.tooltipShow(a)});k.dispatch.on("elementMouseout.tooltip",function(a){p.tooltipHide(a)});a.dispatch=p;a.scatter=k;d3.rebind(a,k,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize",
"clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");a.options=f.utils.optionsFunc.bind(a);a.x=function(e){if(!arguments.length)return n;n=d3.functor(e);return a};a.y=function(e){if(!arguments.length)return q;q=d3.functor(e);return a};a.margin=function(f){if(!arguments.length)return e;e.top="undefined"!=typeof f.top?f.top:e.top;e.right="undefined"!=typeof f.right?f.right:e.right;e.bottom="undefined"!=typeof f.bottom?f.bottom:e.bottom;e.left="undefined"!=typeof f.left?f.left:
e.left;return a};a.width=function(e){if(!arguments.length)return h;h=e;return a};a.height=function(e){if(!arguments.length)return g;g=e;return a};a.clipEdge=function(e){if(!arguments.length)return v;v=e;return a};a.color=function(e){if(!arguments.length)return l;l=f.utils.getColor(e);return a};a.offset=function(e){if(!arguments.length)return s;s=e;return a};a.order=function(e){if(!arguments.length)return u;u=e;return a};a.style=function(e){if(!arguments.length)return r;r=e;switch(r){case "stack":a.offset("zero");
a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}return a};a.interpolate=function(e){if(!arguments.length)return x;x=e;return a};return a};f.models.stackedAreaChart=function(){function a(L){L.each(function(L){var P=d3.select(this),I=this,W=(r||parseInt(P.style("width"))||
960)-q.left-q.right,T=(s||parseInt(P.style("height"))||400)-q.top-q.bottom;a.update=function(){P.transition().duration(R).call(a)};a.container=this;A.disabled=L.map(function(a){return!!a.disabled});if(!H){var M;H={};for(M in A)H[M]=A[M]instanceof Array?A[M].slice(0):A[M]}if(L&&L.length&&L.filter(function(a){return a.values.length}).length)P.selectAll(".nv-noData").remove();else return M=P.selectAll(".nv-noData").data([E]),M.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor",
"middle"),M.attr("x",q.left+W/2).attr("y",q.top+T/2).text(function(a){return a}),a;D=e.xScale();F=e.yScale();M=P.selectAll("g.nv-wrap.nv-stackedAreaChart").data([L]);var X=M.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),S=M.select("g");X.append("rect").style("opacity",0);X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y nv-axis");X.append("g").attr("class","nv-stackedWrap");X.append("g").attr("class","nv-legendWrap");X.append("g").attr("class",
"nv-controlsWrap");X.append("g").attr("class","nv-interactive");S.select("rect").attr("width",W).attr("height",T);v&&(X=x?W-Q:W,l.width(X),S.select(".nv-legendWrap").datum(L).call(l),q.top!=l.height()&&(q.top=l.height(),T=(s||parseInt(P.style("height"))||400)-q.top-q.bottom),S.select(".nv-legendWrap").attr("transform","translate("+(W-X)+","+-q.top+")"));if(x){var Z=[{key:N.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=e.style(),style:"stack"},{key:N.stream||"Stream",metaKey:"Stream",disabled:"stream"!=
e.style(),style:"stream"},{key:N.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=e.style(),style:"expand"},{key:N.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=e.style(),style:"stack_percent"}];Q=J.length/3*260;Z=Z.filter(function(a){return-1!==J.indexOf(a.metaKey)});m.width(Q).color(["#444","#444","#444"]);S.select(".nv-controlsWrap").datum(Z).call(m);q.top!=Math.max(m.height(),l.height())&&(q.top=Math.max(m.height(),l.height()),T=(s||parseInt(P.style("height"))||
400)-q.top-q.bottom);S.select(".nv-controlsWrap").attr("transform","translate(0,"+-q.top+")")}M.attr("transform","translate("+q.left+","+q.top+")");k&&S.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)");p&&(n.width(W).height(T).margin({left:q.left,top:q.top}).svgContainer(P).xScale(D),M.select(".nv-interactive").call(n));e.width(W).height(T);S.select(".nv-stackedWrap").datum(L).transition().call(e);y&&(h.scale(D).ticks(W/100).tickSize(-T,0),S.select(".nv-x.nv-axis").attr("transform",
"translate(0,"+T+")"),S.select(".nv-x.nv-axis").transition().duration(0).call(h));z&&(g.scale(F).ticks("wiggle"==e.offset()?0:T/36).tickSize(-W,0).setTickFormat("expand"==e.style()||"stack_percent"==e.style()?d3.format("%"):K),S.select(".nv-y.nv-axis").transition().duration(0).call(g));e.dispatch.on("areaClick.toggle",function(e){1===L.filter(function(a){return!a.disabled}).length?L.forEach(function(a){a.disabled=!1}):L.forEach(function(a,c){a.disabled=c!=e.seriesIndex});A.disabled=L.map(function(a){return!!a.disabled});
G.stateChange(A);a.update()});l.dispatch.on("stateChange",function(e){A.disabled=e.disabled;G.stateChange(A);a.update()});m.dispatch.on("legendClick",function(f,g){f.disabled&&(Z=Z.map(function(a){a.disabled=!0;return a}),f.disabled=!1,e.style(f.style),A.style=e.style(),G.stateChange(A),a.update())});n.dispatch.on("elementMousemove",function(k){e.clearHighlights();var l,m,p,r=[];L.filter(function(a,c){a.seriesIndex=c;return!a.disabled}).forEach(function(g,h){m=f.interactiveBisect(g.values,k.pointXValue,
a.x());e.highlightPoint(h,m,!0);var n=g.values[m];if("undefined"!==typeof n){"undefined"===typeof l&&(l=n);"undefined"===typeof p&&(p=a.xScale()(a.x()(n,m)));var q="expand"==e.style()?n.display.y:a.y()(n,m);r.push({key:g.key,value:q,color:u(g,g.seriesIndex),stackedValue:n.display})}});r.reverse();if(2<r.length){var s=a.yScale().invert(k.mouseY),t=null;r.forEach(function(a,c){s=Math.abs(s);var e=Math.abs(a.stackedValue.y0),f=Math.abs(a.stackedValue.y);s>=e&&s<=f+e&&(t=c)});null!=t&&(r[t].highlight=
!0)}var v=h.tickFormat()(a.x()(l,m)),z="expand"==e.style()?function(a,c){return d3.format(".1%")(a)}:function(a,c){return g.tickFormat()(a)};n.tooltip.position({left:p+q.left,top:k.mouseY+q.top}).chartContainer(I.parentNode).enabled(w).valueFormatter(z).data({value:v,series:r})();n.renderGuideLine(p)});n.dispatch.on("elementMouseout",function(a){G.tooltipHide();e.clearHighlights()});G.on("tooltipShow",function(k){if(w){var l=I.parentNode,m=k.pos[0]+(l.offsetLeft||0),n=k.pos[1]+(l.offsetTop||0),p=
h.tickFormat()(e.x()(k.point,k.pointIndex)),q=g.tickFormat()(e.y()(k.point,k.pointIndex)),p=B(k.series.key,p,q,k,a);f.tooltip.show([m,n],p,0>k.value?"n":"s",null,l)}});G.on("changeState",function(f){"undefined"!==typeof f.disabled&&L.length===f.disabled.length&&(L.forEach(function(a,c){a.disabled=f.disabled[c]}),A.disabled=f.disabled);"undefined"!==typeof f.style&&e.style(f.style);a.update()})});return a}var e=f.models.stackedArea(),h=f.models.axis(),g=f.models.axis(),l=f.models.legend(),m=f.models.legend(),
n=f.interactiveGuideline(),q={top:30,right:25,bottom:50,left:60},r=null,s=null,u=f.utils.defaultColor(),x=!0,v=!0,y=!0,z=!0,k=!1,p=!1,w=!0,B=function(a,c,e,f,g){return"<h3>"+a+"</h3><p>"+e+" on "+c+"</p>"},D,F,K=d3.format(",.2f"),A={style:e.style()},H=null,E="No Data Available.",G=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),Q=250,J=["Stacked","Stream","Expanded"],N={},R=250;h.orient("bottom").tickPadding(7);g.orient(k?"right":"left");m.updateState(!1);e.dispatch.on("tooltipShow",
function(a){a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];G.tooltipShow(a)});e.dispatch.on("tooltipHide",function(a){G.tooltipHide(a)});G.on("tooltipHide",function(){w&&f.tooltip.cleanup()});a.dispatch=G;a.stacked=e;a.legend=l;a.controls=m;a.xAxis=h;a.yAxis=g;a.interactiveLayer=n;d3.rebind(a,e,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");a.options=f.utils.optionsFunc.bind(a);
a.margin=function(e){if(!arguments.length)return q;q.top="undefined"!=typeof e.top?e.top:q.top;q.right="undefined"!=typeof e.right?e.right:q.right;q.bottom="undefined"!=typeof e.bottom?e.bottom:q.bottom;q.left="undefined"!=typeof e.left?e.left:q.left;return a};a.width=function(e){if(!arguments.length)return r;r=e;return a};a.height=function(e){if(!arguments.length)return s;s=e;return a};a.color=function(g){if(!arguments.length)return u;u=f.utils.getColor(g);l.color(u);e.color(u);return a};a.showControls=
function(e){if(!arguments.length)return x;x=e;return a};a.showLegend=function(e){if(!arguments.length)return v;v=e;return a};a.showXAxis=function(e){if(!arguments.length)return y;y=e;return a};a.showYAxis=function(e){if(!arguments.length)return z;z=e;return a};a.rightAlignYAxis=function(e){if(!arguments.length)return k;k=e;g.orient(e?"right":"left");return a};a.useInteractiveGuideline=function(e){if(!arguments.length)return p;p=e;!0===e&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltip=function(e){if(!arguments.length)return B;
B=e;return a};a.tooltips=function(e){if(!arguments.length)return w;w=e;return a};a.tooltipContent=function(e){if(!arguments.length)return B;B=e;return a};a.state=function(e){if(!arguments.length)return A;A=e;return a};a.defaultState=function(e){if(!arguments.length)return H;H=e;return a};a.noData=function(e){if(!arguments.length)return E;E=e;return a};a.transitionDuration=function(e){if(!arguments.length)return R;R=e;return a};a.controlsData=function(e){if(!arguments.length)return J;J=e;return a};
a.controlLabels=function(e){if(!arguments.length||"object"!==typeof e)return N;N=e;return a};g.setTickFormat=g.tickFormat;g.tickFormat=function(a){if(!arguments.length)return K;K=a;return g};return a}})();define("qui/ui/graphics/nv.d3",function(){});
(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(s){var f;f=c&&c.series&&0<c.series.length?!0:!1;if(f){if(n){f=d3.select(n);"svg"!==f.node().tagName&&(f=f.select("svg"));var p=f.node()?f.attr("viewBox"):null;p&&(p=p.split(" "),f=parseInt(f.style("width"))/p[2],r.left*=f,r.top*=f)}f=r.left;var p=null!=l?l:r.top,v;v=z(c);var y;y=n?d3.select(n):d3.select("body");var D=y.select(".nvtooltip");null===D.node()&&(D=y.append("div").attr("class","nvtooltip "+(m?m:"xy-tooltip")).attr("id",
u));D.node().innerHTML=v;D.style("top",0).style("left",0).style("opacity",0);D.selectAll("div, table, td, tr").classed(x,!0);D.classed(x,!0);q=v=D.node();if(n){(D=n.getElementsByTagName("svg")[0])?D.getBoundingClientRect():n.getBoundingClientRect();var F=0;y=0;if(D){D=D.getBoundingClientRect();F=n.getBoundingClientRect();y=D.top;if(0>y){var K=n.getBoundingClientRect();y=Math.abs(y)>K.height?0:y}y=Math.abs(y-F.top);F=Math.abs(D.left-F.left)}f+=n.offsetLeft+F-2*n.scrollLeft;p+=n.offsetTop+y-2*n.scrollTop}g&&
0<g&&(p=Math.floor(p/g)*g);nv.tooltip.calcTooltipPosition([f,p],e,h,v);return a}}}var f=null,c=null,e="w",h=50,g=25,l=null,m=null,n=null,q=null,r={left:null,top:null},s=!0,u="nvtooltip-"+Math.floor(1E5*Math.random()),x="nv-pointer-events-none",v=function(a,c){return a},y=function(a){return a},z=function(a){if(null!=f)return f;if(null==a)return"";var c=d3.select(document.createElement("table"));c.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",
!0).html(y(a.value));var e=c.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});e.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});e.append("td").classed("key",!0).html(function(a){return a.key});e.append("td").classed("value",!0).html(function(a,c){return v(a.value,c)});e.selectAll("td").each(function(a){a.highlight&&
(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(0.6)).style("border-top-color",a(0.6)))});c=c.node().outerHTML;void 0!==a.footer&&(c+="<div class='footer'>"+a.footer+"</div>");return c};a.nvPointerEventsClass=x;a.content=function(c){if(!arguments.length)return f;f=c;return a};a.tooltipElem=function(){return q};a.contentGenerator=function(c){if(!arguments.length)return z;"function"===typeof c&&(z=c);return a};a.data=function(e){if(!arguments.length)return c;
c=e;return a};a.gravity=function(c){if(!arguments.length)return e;e=c;return a};a.distance=function(c){if(!arguments.length)return h;h=c;return a};a.snapDistance=function(c){if(!arguments.length)return g;g=c;return a};a.classes=function(c){if(!arguments.length)return m;m=c;return a};a.chartContainer=function(c){if(!arguments.length)return n;n=c;return a};a.position=function(c){if(!arguments.length)return r;r.left="undefined"!==typeof c.left?c.left:r.left;r.top="undefined"!==typeof c.top?c.top:r.top;
return a};a.fixedTop=function(c){if(!arguments.length)return l;l=c;return a};a.enabled=function(c){if(!arguments.length)return s;s=c;return a};a.valueFormatter=function(c){if(!arguments.length)return v;"function"===typeof c&&(v=c);return a};a.headerFormatter=function(c){if(!arguments.length)return y;"function"===typeof c&&(y=c);return a};a.id=function(){return u};return a};nv.tooltip.show=function(a,f,c,e,h,g){var l=document.createElement("div");l.className="nvtooltip "+(g?g:"xy-tooltip");g=h;if(!h||
h.tagName.match(/g|svg/i))g=document.getElementsByTagName("body")[0];l.style.left=0;l.style.top=0;l.style.opacity=0;l.innerHTML=f;g.appendChild(l);h&&(a[0]-=h.scrollLeft,a[1]-=h.scrollTop);nv.tooltip.calcTooltipPosition(a,c,e,l)};nv.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a};nv.tooltip.findTotalOffsetTop=function(a,f){var c=f;do isNaN(a.offsetTop)||(c+=a.offsetTop);while(a=a.offsetParent);return c};nv.tooltip.findTotalOffsetLeft=function(a,
f){var c=f;do isNaN(a.offsetLeft)||(c+=a.offsetLeft);while(a=a.offsetParent);return c};nv.tooltip.calcTooltipPosition=function(a,f,c,e){var h=parseInt(e.offsetHeight),g=parseInt(e.offsetWidth),l=nv.utils.windowSize().width,m=nv.utils.windowSize().height,n=window.pageYOffset,q=window.pageXOffset,r,s,m=window.innerWidth>=document.body.scrollWidth?m:m-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16;c=c||20;var u=function(a){return nv.tooltip.findTotalOffsetTop(a,s)},x=function(a){return nv.tooltip.findTotalOffsetLeft(a,
r)};switch(f||"s"){case "e":r=a[0]-g-c;s=a[1]-h/2;f=x(e);u=u(e);f<q&&(r=a[0]+c>q?a[0]+c:q-f+r);u<n&&(s=n-u+s);u+h>n+m&&(s=n+m-u+s-h);break;case "w":r=a[0]+c;s=a[1]-h/2;f=x(e);u=u(e);f+g>l&&(r=a[0]-g-c);u<n&&(s=n+5);u+h>n+m&&(s=n+m-u+s-h);break;case "n":r=a[0]-g/2-5;s=a[1]+c;f=x(e);u=u(e);f<q&&(r=q+5);f+g>l&&(r=r-g/2+5);u+h>n+m&&(s=n+m-u+s-h);break;case "s":r=a[0]-g/2;s=a[1]-h-c;f=x(e);u=u(e);f<q&&(r=q+5);f+g>l&&(r=r-g/2+5);n>u&&(s=n);break;case "none":r=a[0],s=a[1]-c,f=x(e),u=u(e)}e.style.left=r+
"px";e.style.top=s+"px";e.style.opacity=1;e.style.position="absolute";return e};nv.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),f=[];a.length;)f.push(a[0]),a[0].style.transitionDelay="0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;f.length;){var a=f.pop();a.parentNode.removeChild(a)}},500)}})();define("qui/ui/graphics/tooltip",function(){});
nv.utils.windowSize=function(){var a={width:640,height:480};document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight);window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight);return a};
nv.utils.windowResize=function(a){if(void 0!==a){var f=window.onresize;window.onresize=function(c){"function"==typeof f&&f(c);a(c)}}};nv.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(f,c){return f.color||a[c%a.length]}:a:nv.utils.defaultColor()};nv.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(f,c){return f.color||a[c%a.length]}};
nv.utils.customTheme=function(a,f,c){f=f||function(a){return a.key};c=c||d3.scale.category20().range();var e=c.length;return function(h,g){var l=f(h);e||(e=c.length);return"undefined"!==typeof a[l]?"function"===typeof a[l]?a[l]():a[l]:c[--e]}};
nv.utils.pjax=function(a,f){function c(c){d3.html(c,function(c){var e=d3.select(f).node();e.parentNode.replaceChild(d3.select(c).select(f).node(),e);nv.utils.pjax(a,f)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href);c(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&c(d3.event.state)})};
nv.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var f=parseInt(a.style("font-size").replace("px",""));return a.text().length*f*0.5}return 0};nv.utils.NaNtoZero=function(a){return"number"!==typeof a||isNaN(a)||null===a||Infinity===a?0:a};nv.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,c){if("function"===typeof this[a])this[a](c)}.bind(this));return this};define("qui/ui/graphics/utils",function(){});
nv.models.legend=function(){function a(s){s.each(function(a){var s=c-f.left-f.right,v=d3.select(this).selectAll("g.nv-legend").data([a]);v.enter().append("g").attr("class","nvd3 nv-legend").append("g");var y=v.select("g");v.attr("transform","translate("+f.left+","+f.top+")");var v=y.selectAll(".nv-series").data(function(a){return a}),z=v.enter().append("g").attr("class","nv-series").on("mouseover",function(a,c){r.legendMouseover(a,c)}).on("mouseout",function(a,c){r.legendMouseout(a,c)}).on("click",
function(c,e){r.legendClick(c,e);n&&(q?(a.forEach(function(a){a.disabled=!0}),c.disabled=!1):(c.disabled=!c.disabled,a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=!1})),r.stateChange({disabled:a.map(function(a){return!!a.disabled})}))}).on("dblclick",function(c,e){r.legendDblclick(c,e);n&&(a.forEach(function(a){a.disabled=!0}),c.disabled=!1,r.stateChange({disabled:a.map(function(a){return!!a.disabled})}))});z.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",
5);z.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");v.classed("disabled",function(a){return a.disabled});v.exit().remove();v.select("circle").style("fill",function(a,c){return a.color||g(a,c)}).style("stroke",function(a,c){return a.color||g(a,c)});v.select("text").text(h);if(l){var k=[];v.each(function(a,c){var e=d3.select(this).select("text"),f;try{if(f=e.node().getComputedTextLength(),0>=f)throw Error();}catch(g){f=nv.utils.calcApproxTextWidth(e)}k.push(f+
28)});for(var p=0,w=0,z=[];w<s&&p<k.length;)z[p]=k[p],w+=k[p++];for(0===p&&(p=1);w>s&&1<p;){z=[];p--;for(w=0;w<k.length;w++)k[w]>(z[w%p]||0)&&(z[w%p]=k[w]);w=z.reduce(function(a,c,e,f){return a+c})}for(var B=[],D=s=0;s<p;s++)B[s]=D,D+=z[s];v.attr("transform",function(a,c){return"translate("+B[c%p]+","+(5+20*Math.floor(c/p))+")"});m?y.attr("transform","translate("+(c-f.right-w)+","+f.top+")"):y.attr("transform","translate(0,"+f.top+")");e=f.top+f.bottom+20*Math.ceil(k.length/p)}else{var F=5,K=5,A=
0,H;v.attr("transform",function(a,e){var g=d3.select(this).select("text").node().getComputedTextLength()+28;H=K;c<f.left+f.right+H+g&&(K=H=5,F+=20);K+=g;K>A&&(A=K);return"translate("+H+","+F+")"});y.attr("transform","translate("+(c-f.right-A)+","+f.top+")");e=f.top+f.bottom+F+15}});return a}var f={top:5,right:0,bottom:5,left:0},c=400,e=20,h=function(a){return a.key},g=nv.utils.defaultColor(),l=!0,m=!0,n=!0,q=!1,r=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");
a.dispatch=r;a.options=nv.utils.optionsFunc.bind(a);a.margin=function(c){if(!arguments.length)return f;f.top="undefined"!=typeof c.top?c.top:f.top;f.right="undefined"!=typeof c.right?c.right:f.right;f.bottom="undefined"!=typeof c.bottom?c.bottom:f.bottom;f.left="undefined"!=typeof c.left?c.left:f.left;return a};a.width=function(e){if(!arguments.length)return c;c=e;return a};a.height=function(c){if(!arguments.length)return e;e=c;return a};a.key=function(c){if(!arguments.length)return h;h=c;return a};
a.color=function(c){if(!arguments.length)return g;g=nv.utils.getColor(c);return a};a.align=function(c){if(!arguments.length)return l;l=c;return a};a.rightAlign=function(c){if(!arguments.length)return m;m=c;return a};a.updateState=function(c){if(!arguments.length)return n;n=c;return a};a.radioButtonMode=function(c){if(!arguments.length)return q;q=c;return a};return a};define("qui/ui/graphics/legend",function(){});
nv.models.axis=function(){function a(h){h.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var h=a.select("g");null!==x?f.ticks(x):"top"!=f.orient()&&"bottom"!=f.orient()||f.ticks(Math.abs(g.range()[1]-g.range()[0])/100);h.transition().call(f);y=y||f.scale();var w=f.tickFormat();null==w&&(w=y.tickFormat());var z=h.selectAll("text.nv-axislabel").data([l||null]);z.exit().remove();switch(f.orient()){case "top":z.enter().append("text").attr("class",
"nv-axislabel");var D=2==g.range().length?g.range()[1]:g.range()[g.range().length-1]+(g.range()[1]-g.range()[0]);z.attr("text-anchor","middle").attr("y",0).attr("x",D/2);m&&(D=a.selectAll("g.nv-axisMaxMin").data(g.domain()),D.enter().append("g").attr("class","nv-axisMaxMin").append("text"),D.exit().remove(),D.attr("transform",function(a,c){return"translate("+g(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-f.tickPadding()).attr("text-anchor","middle").text(function(a,c){var e=w(a);return(""+
e).match("NaN")?"":e}),D.transition().attr("transform",function(a,c){return"translate("+g.range()[c]+",0)"}));break;case "bottom":var F=36,K=30,A=h.selectAll("g").select("text");q%360&&(A.each(function(a,c){var e=this.getBBox().width;e>K&&(K=e)}),D=Math.abs(Math.sin(q*Math.PI/180)),F=(D?D*K:K)+30,A.attr("transform",function(a,c,e){return"rotate("+q+" 0,0)"}).style("text-anchor",0<q%360?"start":"end"));z.enter().append("text").attr("class","nv-axislabel");D=2==g.range().length?g.range()[1]:g.range()[g.range().length-
1]+(g.range()[1]-g.range()[0]);z.attr("text-anchor","middle").attr("y",F).attr("x",D/2);m&&(D=a.selectAll("g.nv-axisMaxMin").data([g.domain()[0],g.domain()[g.domain().length-1]]),D.enter().append("g").attr("class","nv-axisMaxMin").append("text"),D.exit().remove(),D.attr("transform",function(a,c){return"translate("+(g(a)+(u?g.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",f.tickPadding()).attr("transform",function(a,c,e){return"rotate("+q+" 0,0)"}).style("text-anchor",q?0<q%360?
"start":"end":"middle").text(function(a,c){var e=w(a);return(""+e).match("NaN")?"":e}),D.transition().attr("transform",function(a,c){return"translate("+(g(a)+(u?g.rangeBand()/2:0))+",0)"}));s&&A.attr("transform",function(a,c){return"translate(0,"+(0==c%2?"0":"12")+")"});break;case "right":z.enter().append("text").attr("class","nv-axislabel");z.style("text-anchor",r?"middle":"begin").attr("transform",r?"rotate(90)":"").attr("y",r?-Math.max(c.right,e)+12:-10).attr("x",r?g.range()[0]/2:f.tickPadding());
m&&(D=a.selectAll("g.nv-axisMaxMin").data(g.domain()),D.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),D.exit().remove(),D.attr("transform",function(a,c){return"translate(0,"+g(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",f.tickPadding()).style("text-anchor","start").text(function(a,c){var e=w(a);return(""+e).match("NaN")?"":e}),D.transition().attr("transform",function(a,c){return"translate(0,"+g.range()[c]+")"}).select("text").style("opacity",
1));break;case "left":z.enter().append("text").attr("class","nv-axislabel"),z.style("text-anchor",r?"middle":"end").attr("transform",r?"rotate(-90)":"").attr("y",r?-Math.max(c.left,e)+v:-10).attr("x",r?-g.range()[0]/2:-f.tickPadding()),m&&(D=a.selectAll("g.nv-axisMaxMin").data(g.domain()),D.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),D.exit().remove(),D.attr("transform",function(a,c){return"translate(0,"+y(a)+")"}).select("text").attr("dy",".32em").attr("y",
0).attr("x",-f.tickPadding()).attr("text-anchor","end").text(function(a,c){var e=w(a);return(""+e).match("NaN")?"":e}),D.transition().attr("transform",function(a,c){return"translate(0,"+g.range()[c]+")"}).select("text").style("opacity",1))}z.text(function(a){return a});!m||"left"!==f.orient()&&"right"!==f.orient()||(h.selectAll("g").each(function(a,c){d3.select(this).select("text").attr("opacity",1);if(g(a)<g.range()[1]+10||g(a)>g.range()[0]-10)(1E-10<a||-1E-10>a)&&d3.select(this).attr("opacity",
0),d3.select(this).select("text").attr("opacity",0)}),g.domain()[0]==g.domain()[1]&&0==g.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,c){return c?0:1}));if(m&&("top"===f.orient()||"bottom"===f.orient())){var H=[];a.selectAll("g.nv-axisMaxMin").each(function(a,c){try{c?H.push(g(a)-this.getBBox().width-4):H.push(g(a)+this.getBBox().width+4)}catch(e){c?H.push(g(a)-4):H.push(g(a)+4)}});h.selectAll("g").each(function(a,c){if(g(a)<H[0]||g(a)>H[1])1E-10<a||-1E-10>a?d3.select(this).remove():
d3.select(this).select("text").remove()})}n&&h.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a.__data__)/1E6)&&void 0!==a.__data__}).classed("zero",!0);y=g.copy()});return a}var f=d3.svg.axis(),c={top:0,right:0,bottom:0,left:0},e=75,h=60,g=d3.scale.linear(),l=null,m=!0,n=!0,q=0,r=!0,s=!1,u=!1,x=null,v=12;f.scale(g).orient("bottom").tickFormat(function(a){return a});var y;a.axis=f;d3.rebind(a,f,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(a,
g,"domain","range","rangeBand","rangeBands");a.options=nv.utils.optionsFunc.bind(a);a.margin=function(e){if(!arguments.length)return c;c.top="undefined"!=typeof e.top?e.top:c.top;c.right="undefined"!=typeof e.right?e.right:c.right;c.bottom="undefined"!=typeof e.bottom?e.bottom:c.bottom;c.left="undefined"!=typeof e.left?e.left:c.left;return a};a.width=function(c){if(!arguments.length)return e;e=c;return a};a.ticks=function(c){if(!arguments.length)return x;x=c;return a};a.height=function(c){if(!arguments.length)return h;
h=c;return a};a.axisLabel=function(c){if(!arguments.length)return l;l=c;return a};a.showMaxMin=function(c){if(!arguments.length)return m;m=c;return a};a.highlightZero=function(c){if(!arguments.length)return n;n=c;return a};a.scale=function(c){if(!arguments.length)return g;g=c;f.scale(g);u="function"===typeof g.rangeBands;d3.rebind(a,g,"domain","range","rangeBand","rangeBands");return a};a.rotateYLabel=function(c){if(!arguments.length)return r;r=c;return a};a.rotateLabels=function(c){if(!arguments.length)return q;
q=c;return a};a.staggerLabels=function(c){if(!arguments.length)return s;s=c;return a};a.axisLabelDistance=function(c){if(!arguments.length)return v;v=c;return a};return a};define("qui/ui/graphics/axis",function(){});
nv.models.scatter=function(){function a(M){M.each(function(a){var M=c-f.left-f.right,Z=e-f.top-f.bottom,ba=d3.select(this);a.forEach(function(a,c){a.values.forEach(function(a){a.series=c})});var Y=H&&E&&J?[]:d3.merge(a.map(function(a){return a.values.map(function(a,c){return{x:q(a,c),y:r(a,c),size:s(a,c)}})}));l.domain(H||d3.extent(Y.map(function(a){return a.x}).concat(v)));B&&a[0]?l.range(G||[(M*D+M)/(2*a[0].values.length),M-M*(1+D)/(2*a[0].values.length)]):l.range(G||[0,M]);m.domain(E||d3.extent(Y.map(function(a){return a.y}).concat(y))).range(Q||
[Z,0]);n.domain(J||d3.extent(Y.map(function(a){return a.size}).concat(z))).range(N||[16,256]);if(l.domain()[0]===l.domain()[1]||m.domain()[0]===m.domain()[1])R=!0;l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-0.01*l.domain()[0],l.domain()[1]+0.01*l.domain()[1]]):l.domain([-1,1]));m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-0.01*m.domain()[0],m.domain()[1]+0.01*m.domain()[1]]):m.domain([-1,1]));isNaN(l.domain()[0])&&l.domain([-1,1]);isNaN(m.domain()[0])&&
m.domain([-1,1]);P=P||l;I=I||m;var V=ba.selectAll("g.nv-wrap.nv-scatter").data([a]),Y=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+g+(R?" nv-single-point":"")),ba=Y.append("defs"),Y=Y.append("g"),ca=V.select("g");Y.append("g").attr("class","nv-groups");Y.append("g").attr("class","nv-point-paths");V.attr("transform","translate("+f.left+","+f.top+")");ba.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");V.select("#nv-edge-clip-"+g+" rect").attr("width",M).attr("height",
0<Z?Z:0);ca.attr("clip-path",F?"url(#nv-edge-clip-"+g+")":"");T=!0;M=V.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});M.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);M.exit().remove();M.attr("class",function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover});M.transition().style("fill",function(a,c){return h(a,c)}).style("stroke",function(a,c){return h(a,c)}).style("stroke-opacity",1).style("fill-opacity",
0.5);x?(Z=M.selectAll("circle.nv-point").data(function(a){return a.values},p),Z.enter().append("circle").style("fill",function(a,c){return a.color}).style("stroke",function(a,c){return a.color}).attr("cx",function(a,c){return nv.utils.NaNtoZero(P(q(a,c)))}).attr("cy",function(a,c){return nv.utils.NaNtoZero(I(r(a,c)))}).attr("r",function(a,c){return Math.sqrt(n(s(a,c))/Math.PI)}),Z.exit().remove(),M.exit().selectAll("path.nv-point").transition().attr("cx",function(a,c){return nv.utils.NaNtoZero(l(q(a,
c)))}).attr("cy",function(a,c){return nv.utils.NaNtoZero(m(r(a,c)))}).remove(),Z.each(function(a,c){d3.select(this).classed("nv-point",!0).classed("nv-point-"+c,!0).classed("hover",!1)}),Z.transition().attr("cx",function(a,c){return nv.utils.NaNtoZero(l(q(a,c)))}).attr("cy",function(a,c){return nv.utils.NaNtoZero(m(r(a,c)))}).attr("r",function(a,c){return Math.sqrt(n(s(a,c))/Math.PI)})):(Z=M.selectAll("path.nv-point").data(function(a){return a.values}),Z.enter().append("path").style("fill",function(a,
c){return a.color}).style("stroke",function(a,c){return a.color}).attr("transform",function(a,c){return"translate("+P(q(a,c))+","+I(r(a,c))+")"}).attr("d",d3.svg.symbol().type(u).size(function(a,c){return n(s(a,c))})),Z.exit().remove(),M.exit().selectAll("path.nv-point").transition().attr("transform",function(a,c){return"translate("+l(q(a,c))+","+m(r(a,c))+")"}).remove(),Z.each(function(a,c){d3.select(this).classed("nv-point",!0).classed("nv-point-"+c,!0).classed("hover",!1)}),Z.transition().attr("transform",
function(a,c){return"translate("+l(q(a,c))+","+m(r(a,c))+")"}).attr("d",d3.svg.symbol().type(u).size(function(a,c){return n(s(a,c))})));clearTimeout(W);W=setTimeout(function(){if(!k)return!1;var h=d3.merge(a.map(function(a,c){return a.values.map(function(a,e){var f=q(a,e),g=r(a,e);return[l(f)+1E-7*Math.random(),m(g)+1E-7*Math.random(),c,e,a]}).filter(function(a,c){return w(a[4],c)})}));if(!0===O){if(K){V.select("defs").selectAll(".nv-point-clips").data([g]).enter().append("clipPath").attr("class",
"nv-point-clips").attr("id","nv-points-clip-"+g);var n=V.select("#nv-points-clip-"+g).selectAll("circle").data(h);n.enter().append("circle").attr("r",A);n.exit().remove();n.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});V.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+g+")")}h.length&&(h.push([l.range()[0]-20,m.range()[0]-20,null,null]),h.push([l.range()[1]+20,m.range()[1]+20,null,null]),h.push([l.range()[0]-20,m.range()[0]+20,null,null]),h.push([l.range()[1]+
20,m.range()[1]-20,null,null]));var p=d3.geom.polygon([[-10,-10],[-10,e+10],[c+10,e+10],[c+10,-10]]),n=d3.geom.voronoi(h).map(function(a,c){return{data:p.clip(a),series:h[c][2],point:h[c][3]}}),n=V.select(".nv-point-paths").selectAll("path").data(n);n.enter().append("path").attr("class",function(a,c){return"nv-path-"+c});n.exit().remove();n.attr("d",function(a){return 0===a.data.length?"M 0 0":"M"+a.data.join("L")+"Z"});var s=function(c,e){if(T)return 0;var g=a[c.series];if("undefined"!==typeof g){var h=
g.values[c.point];e({point:h,series:g,pos:[l(q(h,c.point))+f.left,m(r(h,c.point))+f.top],seriesIndex:c.series,pointIndex:c.point})}};n.on("click",function(a){s(a,L.elementClick)}).on("mouseover",function(a){s(a,L.elementMouseover)}).on("mouseout",function(a,c){s(a,L.elementMouseout)})}else V.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(c,e){if(T||!a[c.series])return 0;var g=a[c.series],h=g.values[e];L.elementClick({point:h,series:g,pos:[l(q(h,e))+f.left,m(r(h,
e))+f.top],seriesIndex:c.series,pointIndex:e})}).on("mouseover",function(c,e){if(T||!a[c.series])return 0;var g=a[c.series],h=g.values[e];L.elementMouseover({point:h,series:g,pos:[l(q(h,e))+f.left,m(r(h,e))+f.top],seriesIndex:c.series,pointIndex:e})}).on("mouseout",function(c,e){if(T||!a[c.series])return 0;var f=a[c.series];L.elementMouseout({point:f.values[e],series:f,seriesIndex:c.series,pointIndex:e})});T=!1},300);P=l.copy();I=m.copy();n.copy()});return a}var f={top:0,right:0,bottom:0,left:0},
c=960,e=500,h=nv.utils.defaultColor(),g=Math.floor(1E5*Math.random()),l=d3.scale.linear(),m=d3.scale.linear(),n=d3.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=function(a){return a.size||1},u=function(a){return a.shape||"circle"},x=!0,v=[],y=[],z=[],k=!0,p=null,w=function(a){return!a.notActive},B=!1,D=0.1,F=!1,K=!0,A=function(){return 25},H=null,E=null,G=null,Q=null,J=null,N=null,R=!1,L=d3.dispatch("elementClick","elementMouseover","elementMouseout"),O=!0,P,I,W,T=!1;a.clearHighlights=
function(){d3.selectAll(".nv-chart-"+g+" .nv-point.hover").classed("hover",!1)};a.highlightPoint=function(a,c,e){d3.select(".nv-chart-"+g+" .nv-series-"+a+" .nv-point-"+c).classed("hover",e)};L.on("elementMouseover.point",function(c){k&&a.highlightPoint(c.seriesIndex,c.pointIndex,!0)});L.on("elementMouseout.point",function(c){k&&a.highlightPoint(c.seriesIndex,c.pointIndex,!1)});a.dispatch=L;a.options=nv.utils.optionsFunc.bind(a);a.x=function(c){if(!arguments.length)return q;q=d3.functor(c);return a};
a.y=function(c){if(!arguments.length)return r;r=d3.functor(c);return a};a.size=function(c){if(!arguments.length)return s;s=d3.functor(c);return a};a.margin=function(c){if(!arguments.length)return f;f.top="undefined"!=typeof c.top?c.top:f.top;f.right="undefined"!=typeof c.right?c.right:f.right;f.bottom="undefined"!=typeof c.bottom?c.bottom:f.bottom;f.left="undefined"!=typeof c.left?c.left:f.left;return a};a.width=function(e){if(!arguments.length)return c;c=e;return a};a.height=function(c){if(!arguments.length)return e;
e=c;return a};a.xScale=function(c){if(!arguments.length)return l;l=c;return a};a.yScale=function(c){if(!arguments.length)return m;m=c;return a};a.zScale=function(c){if(!arguments.length)return n;n=c;return a};a.xDomain=function(c){if(!arguments.length)return H;H=c;return a};a.yDomain=function(c){if(!arguments.length)return E;E=c;return a};a.sizeDomain=function(c){if(!arguments.length)return J;J=c;return a};a.xRange=function(c){if(!arguments.length)return G;G=c;return a};a.yRange=function(c){if(!arguments.length)return Q;
Q=c;return a};a.sizeRange=function(c){if(!arguments.length)return N;N=c;return a};a.forceX=function(c){if(!arguments.length)return v;v=c;return a};a.forceY=function(c){if(!arguments.length)return y;y=c;return a};a.forceSize=function(c){if(!arguments.length)return z;z=c;return a};a.interactive=function(c){if(!arguments.length)return k;k=c;return a};a.pointKey=function(c){if(!arguments.length)return p;p=c;return a};a.pointActive=function(c){if(!arguments.length)return w;w=c;return a};a.padData=function(c){if(!arguments.length)return B;
B=c;return a};a.padDataOuter=function(c){if(!arguments.length)return D;D=c;return a};a.clipEdge=function(c){if(!arguments.length)return F;F=c;return a};a.clipVoronoi=function(c){if(!arguments.length)return K;K=c;return a};a.useVoronoi=function(c){if(!arguments.length)return O;O=c;!1===O&&(K=!1);return a};a.clipRadius=function(c){if(!arguments.length)return A;A=c;return a};a.color=function(c){if(!arguments.length)return h;h=nv.utils.getColor(c);return a};a.shape=function(c){if(!arguments.length)return u;
u=c;return a};a.onlyCircles=function(c){if(!arguments.length)return x;x=c;return a};a.id=function(c){if(!arguments.length)return g;g=c;return a};a.singlePoint=function(c){if(!arguments.length)return R;R=c;return a};return a};define("qui/ui/graphics/scatter",function(){});
nv.models.line=function(){function a(z){z.each(function(a){var p=e-c.left-c.right,w=h-c.top-c.bottom,z=d3.select(this);s=f.xScale();u=f.yScale();v=v||s;y=y||u;a=z.selectAll("g.nv-wrap.nv-line").data([a]);var D=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),z=D.append("defs"),F=D.append("g"),D=a.select("g");F.append("g").attr("class","nv-groups");F.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+c.left+","+c.top+")");f.width(p).height(w);F=a.select(".nv-scatterWrap");
F.transition().call(f);z.append("clipPath").attr("id","nv-edge-clip-"+f.id()).append("rect");a.select("#nv-edge-clip-"+f.id()+" rect").attr("width",p).attr("height",0<w?w:0);D.attr("clip-path",r?"url(#nv-edge-clip-"+f.id()+")":"");F.attr("clip-path",r?"url(#nv-edge-clip-"+f.id()+")":"");p=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});p.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);p.exit().remove();p.attr("class",
function(a,c){return"nv-group nv-series-"+c}).classed("hover",function(a){return a.hover}).style("fill",function(a,c){return g(a,c)}).style("stroke",function(a,c){return g(a,c)});p.transition().style("stroke-opacity",1).style("fill-opacity",0.5);w=p.selectAll("path.nv-area").data(function(a){return q(a)?[a]:[]});w.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(x).defined(n).x(function(a,c){return nv.utils.NaNtoZero(v(l(a,c)))}).y0(function(a,c){return nv.utils.NaNtoZero(y(m(a,
c)))}).y1(function(a,c){return y(0>=u.domain()[0]?0<=u.domain()[1]?0:u.domain()[1]:u.domain()[0])}).apply(this,[a.values])});p.exit().selectAll("path.nv-area").remove();w.transition().attr("d",function(a){return d3.svg.area().interpolate(x).defined(n).x(function(a,c){return nv.utils.NaNtoZero(s(l(a,c)))}).y0(function(a,c){return nv.utils.NaNtoZero(u(m(a,c)))}).y1(function(a,c){return u(0>=u.domain()[0]?0<=u.domain()[1]?0:u.domain()[1]:u.domain()[0])}).apply(this,[a.values])});p=p.selectAll("path.nv-line").data(function(a){return[a.values]});
p.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(x).defined(n).x(function(a,c){return nv.utils.NaNtoZero(v(l(a,c)))}).y(function(a,c){return nv.utils.NaNtoZero(y(m(a,c)))}));p.transition().attr("d",d3.svg.line().interpolate(x).defined(n).x(function(a,c){return nv.utils.NaNtoZero(s(l(a,c)))}).y(function(a,c){return nv.utils.NaNtoZero(u(m(a,c)))}));v=s.copy();y=u.copy()});return a}var f=nv.models.scatter(),c={top:0,right:0,bottom:0,left:0},e=960,h=500,g=nv.utils.defaultColor(),
l=function(a){return a.x},m=function(a){return a.y},n=function(a,c){return!isNaN(m(a,c))&&null!==m(a,c)},q=function(a){return a.area},r=!1,s,u,x="linear";f.size(16).sizeDomain([16,256]);var v,y;a.dispatch=f.dispatch;a.scatter=f;d3.rebind(a,f,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=nv.utils.optionsFunc.bind(a);
a.margin=function(e){if(!arguments.length)return c;c.top="undefined"!=typeof e.top?e.top:c.top;c.right="undefined"!=typeof e.right?e.right:c.right;c.bottom="undefined"!=typeof e.bottom?e.bottom:c.bottom;c.left="undefined"!=typeof e.left?e.left:c.left;return a};a.width=function(c){if(!arguments.length)return e;e=c;return a};a.height=function(c){if(!arguments.length)return h;h=c;return a};a.x=function(c){if(!arguments.length)return l;l=c;f.x(c);return a};a.y=function(c){if(!arguments.length)return m;
m=c;f.y(c);return a};a.clipEdge=function(c){if(!arguments.length)return r;r=c;return a};a.color=function(c){if(!arguments.length)return g;g=nv.utils.getColor(c);f.color(g);return a};a.interpolate=function(c){if(!arguments.length)return x;x=c;return a};a.defined=function(c){if(!arguments.length)return n;n=c;return a};a.isArea=function(c){if(!arguments.length)return q;q=d3.functor(c);return a};return a};define("qui/ui/graphics/line",function(){});
$.widget("custom.linechart",{options:{data:[],titles:[],digits:[]},_init:function(){var a=this.options.data,f=this.options.titles,c=[],e=this;f.length!=a.length?alert("\u6807\u9898\u9879\u7684\u6570\u636e\u548c\u6570\u636e\u9879\u7684\u6570\u76ee\u4e0d\u76f8\u7b49\uff01"):($.each(f,function(e,f){var l={};l.key=f;l.values=[];$.each(a[e],function(a,c){l.values.push(c)});c.push(l)}),console.log(c),nv.addGraph(function(){var a=nv.models.lineWithFocusChart(),f=e.element.attr("id");a.xAxis.tickFormat(d3.format(",.1f"));
a.x2Axis.tickFormat(d3.format(",.1f"));a.yAxis.tickFormat(d3.format(",.2f"));a.y2Axis.tickFormat(d3.format(",.2f"));d3.select("#"+f).datum(c).call(a);nv.utils.windowResize(a.update);return a}))}});define("qui/ui/jquery.linechart",function(){});
(function(a,f){a.widget("qui.qwidget",{version:"0.0.1",role:"qui.qwidget",className:"qui-qwidget",baseClass:"qui-widget-container",tmpl:"",options:{tmpl:""},_precreate:function(){},_postcreate:function(){},_create:function(){var c=this.options.tmpl||this.tmpl;this._precreate.apply(this,arguments);this._trigger("precreate",null);this.element.html(a(c).tmpl(this.options)).attr("data-qui-role",this.role).addClass(this.className).addClass(this.baseClass);this._postcreate.apply(this,arguments);this._trigger("postcreate",
null)}})})(jQuery);define("qui/ui/jquery.qui.qwidget",function(){});
(function(a){a.Jcrop=function(f,c){function e(a){return Math.round(a)+"px"}function h(c){c=a(c).offset();return[c.left,c.top]}function g(a){return[a.pageX-H[0],a.pageY-H[1]]}function l(c){"object"!==typeof c&&(c={});A=a.extend(A,c);a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,c){"function"!==typeof A[c]&&(A[c]=function(){})})}function m(a,c,e){H=h(L);sa.setCursor("move"===a?a:a+"-resize");if("move"===a)return sa.activateHandlers(q(c),v,e);c=pa.getFixed();var f=r(a),g=pa.getCorner(r(f));
pa.setPressed(pa.getCorner(f));pa.setCurrent(g);sa.activateHandlers(n(a,c),v,e)}function n(a,c){return function(e){if(A.aspectRatio)switch(a){case "e":e[1]=c.y+1;break;case "w":e[1]=c.y+1;break;case "n":e[0]=c.x+1;break;case "s":e[0]=c.x+1}else switch(a){case "e":e[1]=c.y2;break;case "w":e[1]=c.y2;break;case "n":e[0]=c.x2;break;case "s":e[0]=c.x2}pa.setCurrent(e);da.update()}}function q(a){var c=a;ma.watchKeys();return function(a){pa.moveOffset([a[0]-c[0],a[1]-c[1]]);c=a;da.update()}}function r(a){switch(a){case "n":return"sw";
case "s":return"nw";case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function s(a){return function(c){if(A.disabled||"move"===a&&!A.allowMove)return!1;H=h(L);ka=!0;m(a,g(c));c.stopPropagation();c.preventDefault();return!1}}function u(a,c,e){var f=a.width(),g=a.height();f>c&&0<c&&(f=c,g=c/a.width()*a.height());g>e&&0<e&&(g=e,f=e/a.height()*a.width());t=a.width()/f;ha=a.height()/g;a.width(f).height(g)}function x(a){return{x:a.x*
t,y:a.y*ha,x2:a.x2*t,y2:a.y2*ha,w:a.w*t,h:a.h*ha}}function v(a){a=pa.getFixed();a.w>A.minSelect[0]&&a.h>A.minSelect[1]?(da.enableHandles(),da.done()):da.release();sa.setCursor(A.allowSelect?"crosshair":"default")}function y(a){if(A.disabled||!A.allowSelect)return!1;ka=!0;H=h(L);da.disableHandles();sa.setCursor("crosshair");var c=g(a);pa.setPressed(c);da.update();sa.activateHandlers(z,v,"touch"===a.type.substring(0,5));ma.watchKeys();a.stopPropagation();a.preventDefault();return!1}function z(a){pa.setCurrent(a);
da.update()}function k(){var c=a("<div></div>").addClass(A.baseClass+"-tracker");G&&c.css({opacity:0,backgroundColor:"white"});return c}function p(a){w([a[0]/t,a[1]/ha,a[2]/t,a[3]/ha]);A.onSelect.call(ua,x(pa.getFixed()));da.enableHandles()}function w(a){pa.setPressed([a[0],a[1]]);pa.setCurrent([a[2],a[3]]);da.update()}function B(){A.disabled=!0;da.disableHandles();da.setCursor("default");sa.setCursor("default")}function D(){A.disabled=!1;K()}function F(c,e,f){e=e||A.bgColor;A.bgFade&&a.fx.step.hasOwnProperty("backgroundColor")&&
A.fadeTime&&!f?c.animate({backgroundColor:e},{queue:!1,duration:A.fadeTime}):c.css("backgroundColor",e)}function K(a){A.allowResize?a?da.enableOnly():da.enableHandles():da.disableHandles();sa.setCursor(A.allowSelect?"crosshair":"default");da.setCursor(A.allowMove?"move":"default");A.hasOwnProperty("trueSize")&&(t=A.trueSize[0]/O,ha=A.trueSize[1]/P);A.hasOwnProperty("setSelect")&&(p(A.setSelect),da.done(),delete A.setSelect);wa.refresh();A.bgColor!=ba&&(F(A.shade?wa.getShades():I,A.shade?A.shadeColor||
A.bgColor:A.bgColor),ba=A.bgColor);Y!=A.bgOpacity&&(Y=A.bgOpacity,A.shade?wa.refresh():da.setBgOpacity(Y));V=A.maxSize[0]||0;ca=A.maxSize[1]||0;U=A.minSize[0]||0;aa=A.minSize[1]||0;A.hasOwnProperty("outerImage")&&(L.attr("src",A.outerImage),delete A.outerImage);da.refresh()}var A=a.extend({},a.Jcrop.defaults),H,E=navigator.userAgent.toLowerCase(),G=/msie/.test(E),Q=/msie [1-6]\./.test(E);"object"!==typeof f&&(f=a(f)[0]);"object"!==typeof c&&(c={});l(c);var E={border:"none",visibility:"visible",margin:0,
padding:0,position:"absolute",top:0,left:0},J=a(f),N=!0;if("IMG"==f.tagName){if(0!=J[0].width&&0!=J[0].height)J.width(J[0].width),J.height(J[0].height);else{var R=new Image;R.src=J[0].src;J.width(R.width);J.height(R.height)}var L=J.clone().removeAttr("id").css(E).show();L.width(J.width());L.height(J.height());J.after(L).hide()}else L=J.css(E).show(),N=!1,null===A.shade&&(A.shade=!0);u(L,A.boxWidth,A.boxHeight);var O=L.width(),P=L.height(),I=a("<div />").width(O).height(P).addClass(A.baseClass+"-holder").css({position:"relative",
backgroundColor:A.bgColor}).insertAfter(J).append(L);A.addClass&&I.addClass(A.addClass);var W=a("<div />"),T=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),M=a("<div />").width("100%").height("100%").css("zIndex",320),X=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=pa.getFixed();A.onDblClick.call(ua,a)}).insertBefore(L).append(T,M);N&&(W=a("<img />").attr("src",L.attr("src")).css(E).width(O).height(P),T.append(W));Q&&
X.css({overflowY:"hidden"});var S=A.boundary,Z=k().width(O+2*S).height(P+2*S).css({position:"absolute",top:e(-S),left:e(-S),zIndex:290}).mousedown(y),ba=A.bgColor,Y=A.bgOpacity,V,ca,U,aa,t,ha,ka,qa,ra;H=h(L);var ia=function(){function a(){var c={},e=["touchstart","touchmove","touchend"],f=document.createElement("div"),g;try{for(g=0;g<e.length;g++){var h=e[g],h="on"+h,k=h in f;k||(f.setAttribute(h,"return;"),k="function"==typeof f[h]);c[e[g]]=k}return c.touchstart&&c.touchend&&c.touchmove}catch(l){return!1}}
var c;c=!0===A.touchSupport||!1===A.touchSupport?A.touchSupport:a();return{createDragger:function(a){return function(c){if(A.disabled||"move"===a&&!A.allowMove)return!1;H=h(L);ka=!0;m(a,g(ia.cfilter(c)),!0);c.stopPropagation();c.preventDefault();return!1}},newSelection:function(a){return y(ia.cfilter(a))},cfilter:function(a){a.pageX=a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return a},isSupported:a,support:c}}(),pa=function(){function a(){if(!A.aspectRatio){var c=
k-g,m=l-h;V&&Math.abs(c)>V&&(k=0<c?g+V:g-V);ca&&Math.abs(m)>ca&&(l=0<m?h+ca:h-ca);aa/ha&&Math.abs(m)<aa/ha&&(l=0<m?h+aa/ha:h-aa/ha);U/t&&Math.abs(c)<U/t&&(k=0<c?g+U/t:g-U/t);0>g&&(k-=g,g-=g);0>h&&(l-=h,h-=h);0>k&&(g-=k,k-=k);0>l&&(h-=l,l-=l);k>O&&(c=k-O,g-=c,k-=c);l>P&&(c=l-P,h-=c,l-=c);g>O&&(c=g-P,l-=c,h-=c);h>P&&(c=h-P,l-=c,h-=c);return f(e(g,h,k,l))}var c=A.aspectRatio,m=A.minSize[0]/t,n=A.maxSize[0]/t,p=k-g,q=l-h,r=Math.abs(p),s=Math.abs(q);0===n&&(n=10*O);r/s<c?(r=l,s*=c,s=0>p?g-s:s+g,0>s?(s=
0,r=Math.abs((s-g)/c),r=0>q?h-r:r+h):s>O&&(s=O,r=Math.abs((s-g)/c),r=0>q?h-r:r+h)):(s=k,r/=c,r=0>q?h-r:h+r,0>r?(r=0,s=Math.abs((r-h)*c),s=0>p?g-s:s+g):r>P&&(r=P,s=Math.abs(r-h)*c,s=0>p?g-s:s+g));s>g?(s-g<m?s=g+m:s-g>n&&(s=g+n),r=r>h?h+(s-g)/c:h-(s-g)/c):s<g&&(g-s<m?s=g-m:g-s>n&&(s=g-n),r=r>h?h+(g-s)/c:h-(g-s)/c);0>s?(g-=s,s=0):s>O&&(g-=s-O,s=O);0>r?(h-=r,r=0):r>P&&(h-=r-P,r=P);return f(e(g,h,s,r))}function c(a){0>a[0]&&(a[0]=0);0>a[1]&&(a[1]=0);a[0]>O&&(a[0]=O);a[1]>P&&(a[1]=P);return[Math.round(a[0]),
Math.round(a[1])]}function e(a,c,f,g){var h=a,k=f,l=c,m=g;f<a&&(h=f,k=a);g<c&&(l=g,m=c);return[h,l,k,m]}function f(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var g=0,h=0,k=0,l=0,m,n;return{flipCoords:e,setPressed:function(a){a=c(a);k=g=a[0];l=h=a[1]},setCurrent:function(a){a=c(a);m=a[0]-k;n=a[1]-l;k=a[0];l=a[1]},getOffset:function(){return[m,n]},moveOffset:function(a){var c=a[0];a=a[1];0>g+c&&(c-=c+g);0>h+a&&(a-=a+h);P<l+a&&(a+=P-(l+a));O<k+c&&(c+=O-(k+c));g+=c;k+=c;h+=a;l+=
a},getCorner:function(c){var e=a();switch(c){case "ne":return[e.x2,e.y];case "nw":return[e.x,e.y];case "se":return[e.x2,e.y2];case "sw":return[e.x,e.y2]}},getFixed:a}}(),wa=function(){function c(){return f(pa.getFixed())}function f(a){r.top.css({left:e(a.x),width:e(a.w),height:e(a.y)});r.bottom.css({top:e(a.y2),left:e(a.x),width:e(a.w),height:e(P-a.y2)});r.right.css({left:e(a.x2),width:e(O-a.x2)});r.left.css({width:e(a.x)})}function g(){return a("<div />").css({position:"absolute",backgroundColor:A.shadeColor||
A.bgColor}).appendTo(q)}function h(){p||(p=!0,q.insertBefore(L),c(),da.setBgOpacity(1,0,1),W.hide(),k(A.shadeColor||A.bgColor,1),da.isAwake()?m(A.bgOpacity,1):m(1,1))}function k(a,c){F(n(),a,c)}function l(){p&&(q.remove(),W.show(),p=!1,da.isAwake()?da.setBgOpacity(A.bgOpacity,1,1):(da.setBgOpacity(1,1,1),da.disableHandles()),F(I,0,1))}function m(a,c){p&&(A.bgFade&&!c?q.animate({opacity:1-a},{queue:!1,duration:A.fadeTime}):q.css({opacity:1-a}))}function n(){return q.children()}var p=!1,q=a("<div />").css({position:"absolute",
zIndex:240,opacity:0}),r={top:g(),left:g().height(P),right:g().height(P),bottom:g()};return{update:c,updateRaw:f,getShades:n,setBgColor:k,enable:h,disable:l,resize:function(a,c){r.left.css({height:e(c)});r.right.css({height:e(c)})},refresh:function(){A.shade?h():l();da.isAwake()&&m(A.bgOpacity)},opacity:m}}(),da=function(){function c(e,f){var g=a("<div />").mousedown(s(e)).css({cursor:e+"-resize",position:"absolute",zIndex:f}).addClass("ord-"+e);ia.support&&g.bind("touchstart.jcrop",ia.createDragger(e));
M.append(g);return g}function f(a){var e;for(e=0;e<a.length;e++)c(a[e],v++).addClass("jcrop-dragbar")}function g(c){var e,f;for(f=0;f<c.length;f++){switch(c[f]){case "n":e="hline";break;case "s":e="hline bottom";break;case "e":e="vline right";break;case "w":e="vline"}var h=w,k=c[f],l=e,l=a("<div />").css({position:"absolute",opacity:A.borderOpacity}).addClass(A.baseClass+"-"+l);T.append(l);h[k]=l}}function h(a){var e;for(e=0;e<a.length;e++){var f=y,g=a[e],k=A.handleSize,l=c(a[e],v++).css({opacity:A.handleOpacity}).addClass(A.baseClass+
"-handle");k&&l.width(k).height(k);f[g]=l}}function l(){var a=pa.getFixed();pa.setPressed([a.x,a.y]);pa.setCurrent([a.x2,a.y2]);m()}function m(a){if(u)return n(a)}function n(a){var c=pa.getFixed(),f=c.h;X.width(Math.round(c.w)).height(Math.round(f));var f=c.x,g=c.y;A.shade||W.css({top:e(-g),left:e(-f)});X.css({top:e(g),left:e(f)});A.shade&&wa.updateRaw(c);u||(X.show(),A.shade?wa.opacity(Y):p(Y,!0),u=!0);a?A.onSelect.call(ua,x(c)):A.onChange.call(ua,x(c))}function p(a,c,e){if(u||c)A.bgFade&&!e?L.animate({opacity:a},
{queue:!1,duration:A.fadeTime}):L.css("opacity",a)}function q(){z=!0;if(A.allowResize)return M.show(),!0}function r(){z=!1;M.hide()}function t(a){a?(qa=!0,r()):(qa=!1,q())}var u,v=370,w={},y={},z=!1;A.dragEdges&&a.isArray(A.createDragbars)&&f(A.createDragbars);a.isArray(A.createHandles)&&h(A.createHandles);A.drawBorders&&a.isArray(A.createBorders)&&g(A.createBorders);a(document).bind("touchstart.jcrop-ios",function(c){a(c.currentTarget).hasClass("jcrop-tracker")&&c.stopPropagation()});var B=k().mousedown(s("move")).css({cursor:"move",
position:"absolute",zIndex:360});ia.support&&B.bind("touchstart.jcrop",ia.createDragger("move"));T.append(B);r();return{updateVisible:m,update:n,release:function(){r();X.hide();A.shade?wa.opacity(1):p(1);u=!1;A.onRelease.call(ua)},refresh:l,isAwake:function(){return u},setCursor:function(a){B.css("cursor",a)},enableHandles:q,enableOnly:function(){z=!0},showHandles:function(){z&&M.show()},disableHandles:r,animMode:t,setBgOpacity:p,done:function(){t(!1);l()}}}(),sa=function(){function c(a){k(g(a));
return!1}function e(c){c.preventDefault();c.stopPropagation();ka&&(ka=!1,l(g(c)),da.isAwake()&&A.onSelect.call(ua,x(pa.getFixed())),Z.css({zIndex:290}),a(document).unbind(".jcrop"),k=function(){},l=function(){});return!1}function f(a){k(g(ia.cfilter(a)));return!1}function h(a){return e(ia.cfilter(a))}var k=function(){},l=function(){},m=A.trackDocument;m||Z.mousemove(c).mouseup(e).mouseout(e);L.before(Z);return{activateHandlers:function(g,n,p){ka=!0;k=g;l=n;Z.css({zIndex:450});p?a(document).bind("touchmove.jcrop",
f).bind("touchend.jcrop",h):m&&a(document).bind("mousemove.jcrop",c).bind("mouseup.jcrop",e);return!1},setCursor:function(a){Z.css("cursor",a)}}}(),ma=function(){function c(a){g.hide()}function e(a,c,f){A.allowMove&&(pa.moveOffset([c,f]),da.updateVisible(!0));a.preventDefault();a.stopPropagation()}function f(a){if(a.ctrlKey||a.metaKey)return!0;var c=(ra=a.shiftKey?!0:!1)?10:1;switch(a.keyCode){case 37:e(a,-c,0);break;case 39:e(a,c,0);break;case 38:e(a,0,-c);break;case 40:e(a,0,c);break;case 27:A.allowSelect&&
da.release();break;case 9:return!0}return!1}var g=a('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),h=a("<div />").css({position:"absolute",overflow:"hidden"}).append(g);A.keySupport&&(g.keydown(f).blur(c),Q||!A.fixedSupport?(g.css({position:"absolute",left:"-20px"}),h.append(g).insertBefore(L)):g.insertBefore(L));return{watchKeys:function(){A.keySupport&&(g.show(),g.focus())}}}();ia.support&&Z.bind("touchstart.jcrop",ia.newSelection);M.hide();
K(!0);var ua={setImage:function(a,c){da.release();B();var e=new Image;e.onload=function(){var f=e.height,g=A.boxWidth,h=A.boxHeight;L.width(e.width).height(f);L.attr("src",a);W.attr("src",a);u(L,g,h);O=L.width();P=L.height();W.width(O).height(P);Z.width(O+2*S).height(P+2*S);I.width(O).height(P);wa.resize(O,P);D();"function"===typeof c&&c.call(ua)};e.src=a},animateTo:function(a,c){var e=a[0]/t,f=a[1]/ha,g=a[2]/t,h=a[3]/ha;if(!qa){var k=pa.flipCoords(e,f,g,h),l=pa.getFixed(),m=[l.x,l.y,l.x2,l.y2],n=
A.animationDelay,p=k[0]-m[0],q=k[1]-m[1],r=k[2]-m[2],s=k[3]-m[3],u=0,v=A.swingSpeed,e=m[0],f=m[1],g=m[2],h=m[3];da.animMode(!0);var y=function(){return function(){u+=(100-u)/v;m[0]=Math.round(e+u/100*p);m[1]=Math.round(f+u/100*q);m[2]=Math.round(g+u/100*r);m[3]=Math.round(h+u/100*s);99.8<=u&&(u=100);100>u?(w(m),window.setTimeout(y,n)):(da.done(),da.animMode(!1),"function"===typeof c&&c.call(ua))}}();window.setTimeout(y,n)}},setSelect:p,setOptions:function(a){l(a);K()},tellSelect:function(){return x(pa.getFixed())},
tellScaled:function(){return pa.getFixed()},setClass:function(a){I.removeClass().addClass(A.baseClass+"-holder").addClass(a)},disable:B,enable:D,cancel:function(){da.done();sa.activateHandlers(null,null)},release:da.release,destroy:function(){I.remove();J.show();J.css("visibility","visible");a(f).removeData("Jcrop")},focus:ma.watchKeys,getBounds:function(){return[O*t,P*ha]},getWidgetSize:function(){return[O,P]},getScaleFactor:function(){return[t,ha]},getOptions:function(){return A},ui:{holder:I,selection:X}};
G&&I.bind("selectstart",function(){return!1});J.data("Jcrop",ua);return ua};a.fn.Jcrop=function(f,c){var e;this.each(function(){if(a(this).data("Jcrop")){if("api"===f)return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(f)}else"IMG"==this.tagName?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"});e=a.Jcrop(this,f);a.isFunction(c)&&c.call(e)}):(a(this).css({display:"block",visibility:"hidden"}),e=a.Jcrop(this,f),a.isFunction(c)&&c.call(e))});return this};a.Jcrop.Loader=
function(f,c,e){function h(){l.complete?(g.unbind(".jcloader"),a.isFunction(c)&&c.call(l)):window.setTimeout(h,50)}var g=a(f),l=g[0];g.bind("load.jcloader",h).bind("error.jcloader",function(c){g.unbind(".jcloader");a.isFunction(e)&&e.call(l)});l.complete&&a.isFunction(c)&&(g.unbind(".jcloader"),c.call(l))};a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:0.6,bgFade:!1,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,
aspectRatio:0,keySupport:!0,createHandles:"n s e w nw ne se sw".split(" "),createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);define("qui/ui/jquery.Jcrop",function(){});
(function(a){var f=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c;if(c=a.Blob)try{c=Boolean(new Blob)}catch(e){c=!1}var h=c;if(c=h)if(c=a.Uint8Array)try{c=100===(new Blob([new Uint8Array(100)])).size}catch(g){c=!1}var l=c,m=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,n=(h||m)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var c,e,f,g;c=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]);e=new ArrayBuffer(c.length);f=new Uint8Array(e);
for(g=0;g<c.length;g+=1)f[g]=c.charCodeAt(g);a=a.split(",")[0].split(":")[1].split(";")[0];if(h)return new Blob([l?f:e],{type:a});f=new m;f.append(e);return f.getBlob(a)};a.HTMLCanvasElement&&!f.toBlob&&(f.mozGetAsFile?f.toBlob=function(a,c,e){e&&f.toDataURL&&n?a(n(this.toDataURL(c,e))):a(this.mozGetAsFile("blob",c))}:f.toDataURL&&n&&(f.toBlob=function(a,c,e){a(n(this.toDataURL(c,e)))}));"function"===typeof define&&define.amd?define("qui/ui/canvas-to-blob",[],function(){return n}):a.dataURLtoBlob=
n})(this);
(function(a,f){a.widget("qui.cropuploader",a.qui.qwidget,{version:"0.0.1",role:"qui.cropuploader",className:"qui-cropuploader",id:0,optionTemplate:'<script type="text/x-jquery-tmpl"><label class="radio-inline"><input {{if (selected)}}checked{{/if}} type="radio" data-qui-width="${w}" data-qui-height="${h}" data-qui-type="${type}" name="${name}"/>{{if (type == "absolute")}}${w} * ${h}{{else}} {{if (type == "custom") }} ${label} {{else}} ${w} : ${h} {{/if}} {{/if}}</label>\x3c/script>',tmpl:'<script type="text/x-jquery-tmpl"><div class="qui-cropuploader-msgcontainer" style="display:none;"><div class="qui-cropuploader-closemsg">X</div><div class="qui-cropuploader-msgbody"></div></div><label>{{html label}}</label><div class="input-group"><input type="text" class="form-control qui-croploader-imageurl" name="${inputName}" placeholder="${placeholder}" readonly><span class="input-group-btn"><a class="btn qui-cropuploader-browser qui-btn-file">&nbsp;&nbsp;&nbsp;\u6d4f&nbsp;\u89c8&hellip;&nbsp;&nbsp;<input type="file" multiple></a><a disabled class="btn qui-cropuploader-upload">&nbsp;&nbsp;&nbsp;<span class="glyphicon glyphicon-upload"></span>&nbsp;&nbsp;\u4e0a&nbsp;\u4f20&nbsp;&nbsp;</a></span></div><hr/><div class="row qui-cropuploader-imagepanel"><div class="col-md-4 qui-cropuploader-preview"><div class="qui-cropuploader-previewcontainer"><canvas class="qui-cropuploader-previewcanvas"></canvas></div><span class="qui-croploader-previewtitle">\u9884 \u89c8</span><br/><span class="qui-croploader-previewsize"></span></div><div class="col-md-8 qui-cropuploader-imagecontainer"></div></div><div class="qui-croploader-sizes"></div><div class="help-block">{{html hint}}</div>\x3c/script>',options:{hint:"",
label:"",imgUrl:"",postUrl:"",imageFieldName:"",fileName:"",dataType:"json",inputName:"",autoselect:!1,resize:null,onUploadBegin:function(a){return!0},onUploadComplete:function(a){return""},onUploadError:function(a){},placeholder:"",tmpl:"",jcrop:{}},showMsg:function(a,e,f){var g=this;g.$msgBody.html(a);g.imgJcropApi&&(g.imgJcropApi.disable(),g.imgJcropApi.release());f&&setTimeout(function(){g.hideMsg()},f);e?g.$closeMsg.css("display","none"):g.$closeMsg.css("display","block");g.$msgContainer.fadeIn("500")},
hideMsg:function(){var a=this,e=a.previewSelect;a.$msgContainer.fadeOut("500",function(){a.imgJcropApi&&(a.imgJcropApi.enable(),a.imgJcropApi.setSelect([e.x,e.y,e.x2,e.y2]))})},getImageSize:function(){return{iw:this.imageWidth,ih:this.imageHeight}},getSelection:function(){return this.selection?this.selection:null},getSizeOption:function(){return this.selectedSizeOption},setSizeOption:function(a){a.w&&a.h?("absolute"===a.type?(this.options.resize={w:a.w,h:a.h},this.resized=!0):this.resized=!1,this.selectedSizeOption=
a,this.imgJcropApi&&(this.imgJcropApi.setOptions({aspectRatio:a.w/a.h}),this.options.autoselect&&this._autoselect())):"custom"===a.type&&this.imgJcropApi&&(this.resized=!1,this.imgJcropApi.setOptions({aspectRatio:a.w/a.h}))},_showPreview:function(c){var e=this.ctx,f=this.img,g=null,l=g=null;0<c.w&&0<c.h&&0<this.imageCanvasWidth&&0<this.imageCanvasHeight&&(g=this.imageWidth/this.imageCanvasWidth,l=this.imageHeight/this.imageCanvasHeight,this.selection=g={x:g*c.x,y:l*c.y,w:g*c.w,h:l*c.h,iw:this.imageWidth,
ih:this.imageHeight},this.previewSelect=c,this.resized?(e.canvas.width=this.options.resize.w,e.canvas.height=this.options.resize.h):(e.canvas.width=g.w,e.canvas.height=g.h),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(f,g.x,g.y,g.w,g.h,0,0,e.canvas.width,e.canvas.height),this.$upload.removeAttr("disabled"),this.cropSelection=a.extend(!0,{},this.selection),this.resized?(this.cropSelection.w=parseInt(e.canvas.width,10),this.cropSelection.h=parseInt(e.canvas.height,10)):(this.cropSelection.w=
parseInt(g.w,10),this.cropSelection.h=parseInt(g.h,10),this.$previewSize.text([this.cropSelection.w," * ",this.cropSelection.h].join(""))),this.$previewSize.text([this.cropSelection.w," * ",this.cropSelection.h].join("")),this._trigger("preview",null,[this.cropSelection]))},_upload:function(){var c=this,e=c.options,f,g=e.params;!1!==c.options.onUploadBegin.call(c,c.selection)&&e.postUrl&&e.imageFieldName&&(c.showMsg("\u56fe\u7247\u4e0a\u4f20\u4e2d...",!0),c.ctx.canvas.toBlob(function(l){f=new FormData;
f.append(e.imageFieldName,l,c.filename);if(g)for(var m in g)"function"===a.type(g[m])?f.append(m,g[m]()):f.append(m,g[m]);c._trigger("upload",null);a.ajax({type:"post",url:e.postUrl,data:f,contentType:!1,processData:!1}).done(function(a){c.$imageUrl.val(c.options.onUploadComplete.call(c,a));c._trigger("complete",null);c.showMsg('<span class="text-success">\u4e0a\u4f20\u6210\u529f!</span>',!1,500)}).fail(function(a){console.error(a);c.options.onUploadError.call(c,a);c._trigger("error",null);c.showMsg('<span class="text-error">\u4e0a\u4f20\u5931\u8d25!</span>',
!1,5E3)})},"image/jpeg"))},_autoselect:function(){var a=0,e=0,f=this.imageCanvasWidth,g=this.imageCanvasHeight,l=this.imageCanvasWidth,m=this.imageCanvasHeight,n;this.imgJcropApi&&(n=this.selectedSizeOption?this.selectedSizeOption.w/this.selectedSizeOption.h:this.options.resize?this.options.resize.w/this.options.resize.h:-1,m*n>l?(m=l/n,e=(this.imageCanvasHeight-m)/2,g=e+m):-1!==n&&(l=m*n,a=(this.imageCanvasWidth-l)/2,f=a+l),this.imgJcropApi.setSelect([a,e,f,g]))},_initImg:function(c,e,f,g){var l=
this;l.$img&&l.$img.remove();l.filename=e;l.img=new Image;l.$img=a(l.img).addClass("qui-cropuploader-originalimage");l.img.onload=function(){var c=a.extend(!0,{},l.options.jcrop,{onChange:a.proxy(l._showPreview,l),onSelect:a.proxy(l._showPreview,l)});l.options.resize&&l.options.resize.w&&l.options.resize.h&&(c.aspectRatio=l.options.resize.w/l.options.resize.h,l.resized=!0);l.$img.Jcrop(c,function(){l.imgJcropApi=this;l.imageWidth=l.img.width;l.imageHeight=l.img.height;l.imageCanvasWidth=l.$img.width();
l.imageCanvasHeight=l.$img.height();l.selectedSizeOption&&l.setSizeOption(l.selectedSizeOption);g?(l.imgJcropApi.disable(),l.element.find(".jcrop-tracker").append(a('<div class="qui-cropuploader-remoteflag">\u8fdc\u7a0b\u56fe\u7247</div>'))):l.options.autoselect&&l._autoselect()})};l.img.onerror=function(){l.$imgContainer.html('<span class="text-danger">\u56fe\u7247\u52a0\u8f7d\u5931\u8d25</span>')};l.$imgContainer.html("");l.$imgContainer.append(l.$img);l.img.src=c;f&&l.$imageUrl.val(c)},_postcreate:function(){var c=
this,e={absolute:1,aspectRatio:1};c.$imgContainer=c.element.find(".qui-cropuploader-imagecontainer");c.$previewContainer=c.element.find(".qui-cropuploader-imagecontainer");c.$upload=c.element.find(".qui-cropuploader-upload");c.$imageUrl=c.element.find(".qui-croploader-imageurl");c.$msgContainer=c.element.find(".qui-cropuploader-msgcontainer");c.$msgBody=c.element.find(".qui-cropuploader-msgbody");c.$closeMsg=c.element.find(".qui-cropuploader-closemsg");c.$previewSize=c.element.find(".qui-croploader-previewsize");
c.$sizes=c.element.find(".qui-croploader-sizes");c.canvas=c.element.find(".qui-cropuploader-previewcanvas")[0];c.ctx=c.canvas.getContext("2d");c.id=c.className+"-"+ ++a.qui.cropuploader.prototype.id;c.ctx?(c.$upload.on("click",a.proxy(c._upload,c)),c.element.on("change",'input[type="file"]',function(a){a=this.files[0];var e=c._getObjectUrl(a);c._initImg(e,a.name)}),c.$closeMsg.on("click",function(){c.hideMsg()}),c.element.on("change",'.qui-croploader-sizes input[type="radio"]',function(){c.setSizeOption(a(this).closest("label").data("data"))}),
c.options.sizes&&c.options.sizes.forEach(function(f,g,l){f.w&&f.h&&e[f.type]||"custom"===f.type?(g=a.extend(f,{name:c.id}),c.$sizes.append(a(c.optionTemplate).tmpl(g).data("data",g)),f.selected&&(c.selectedSizeOption=f)):console.warn("Warning: unrecongnized size option",f)}),c.options.imgUrl&&c._initImg(c.options.imgUrl,c.options.imgUrl.split("/").pop().split("?")[0],!0,!0)):c.$imgContainer.html('<span type="text-danger">Fatal Error: Canvas is not supported on this browser</span>')},_getObjectUrl:function(a){var e;
window.createObjectURL!==f?e=window.createObjectURL(a):window.URL!==f?e=window.URL.createObjectURL(a):window.webkitURL!==f&&(e=window.webkitURL.createObjectURL(a));return e}})})(jQuery);define("qui/ui/jquery.qui.cropuploader",function(){});
if(require&&require.hasOwnProperty("config")){require.config({baseUrl:"object"===typeof require&&"string"===typeof require.baseUrl?require.baseUrl:".",shim:{bootstrap:["jquery"],jqueryui:["jquery"],"qui/lib/arm":["jquery"],"qui/ui/jquery.qui.qwidget":["jqueryui"],"qui/ui/jquery-ui-sliderAccess-addon":["jqueryui"],"qui/ui/jquery-ui-timepicker-addon":["jqueryui"],"qui/ui/jquery.ui.datepicker-zh-cn":["jqueryui","qui/ui/jquery-ui-timepicker-addon"],"qui/ui/jquery.jqgrid.locale":["jqueryui"],"qui/ui/jquery.jqgrid":["jqueryui",
"qui/ui/jquery.jqgrid.locale"],"qui/ui/jquery.jqgrid.default":["jqueryui","qui/ui/jquery.jqgrid"],"qui/ui/jquery.jqgrid.scrolling":["jqueryui","qui/ui/jquery.jqgrid.default"],"qui/ui/jquery-ui.gallery":["jqueryui","qui/ui/jquery.jqgrid.scrolling"],"qui/ui/jquery.Jcrop":["jqueryui"],"qui/ui/jquery.tmpl":["jquery"],"qui/ui/jquery.qui.autocomplete":["jqueryui"],"qui/ui/jquery.qui.suggest":["jqueryui"],"qui/ui/jquery.qui.tagmanager":["jqueryui"],"qui/ui/jquery.qui.tips":["jqueryui"],"qui/ui/jquery.qui.addndel":["jqueryui"],
"qui/ui/jquery.qui.videoshot":["jqueryui"],"qui/ui/jquery.qui.cropuploader":["qui/ui/jquery.qui.qwidget","qui/ui/jquery.Jcrop","qui/ui/jquery.tmpl","qui/ui/canvas-to-blob"],"qui/ui/graphics/nv.d3":["qui/ui/graphics/d3.v3"],"qui/ui/graphics/tooltip":["qui/ui/graphics/nv.d3"],"qui/ui/graphics/utils":["qui/ui/graphics/nv.d3"],"qui/ui/graphics/axis":["qui/ui/graphics/nv.d3"],"qui/ui/graphics/legend":["qui/ui/graphics/nv.d3"],"qui/ui/graphics/scatter":["qui/ui/graphics/nv.d3"],"qui/ui/graphics/line":["qui/ui/graphics/nv.d3"],
"qui/ui/jquery.linechart":"qui/ui/graphics/d3.v3 qui/ui/graphics/nv.d3 qui/ui/graphics/tooltip qui/ui/graphics/utils qui/ui/graphics/legend qui/ui/graphics/axis qui/ui/graphics/scatter qui/ui/graphics/line jqueryui".split(" ")},callback:function(){},paths:{jquery:"qui/lib/jquery-2.1.1",bootstrap:"qui/ui/bootstrap-3.2.0",jqueryui:"qui/ui/jquery-ui-1.11.2"}});var _qui={};if("undefined"!==typeof qui)for(var item in qui)qui.hasOwnProperty(item)&&(_qui[item]=qui[item]);require.config(_qui)}
define("qui/package","jquery qui/lib/arm jqueryui bootstrap qui/com/Com qui/com/Interface qui/com/Validator qui/com/Storage qui/com/Log qui/com/RunActiveContent qui/com/Image qui/com/Grid qui/ui/jquery.tmpl qui/ui/jquery-ui-sliderAccess-addon qui/ui/jquery-ui-timepicker-addon qui/ui/jquery.ui.datepicker-zh-cn qui/ui/jquery.jqgrid.locale qui/ui/jquery.jqgrid qui/ui/jquery.jqgrid.default qui/ui/jquery.jqgrid.scrolling qui/ui/jquery-ui.gallery qui/ui/jquery.qui.autocomplete qui/ui/jquery.qui.suggest qui/ui/jquery.qui.tagmanager qui/ui/jquery.qui.tips qui/ui/jquery.qui.addndel qui/ui/jquery.qui.videoshot qui/ui/jquery.linechart qui/ui/jquery.qui.cropuploader".split(" "),
function(){return{echo:function(){console.log("Hello, QUI!")}}});define("qui",["qui/package"],function(a){return a});
qui=function(a){var f={},c=a.require,e=a.define,h={require:1,exports:1,module:1},g=a.qui||{},l=function(a){return"[object Array]"===Object.prototype.toString.call(a)},m=function(a,c){if(!l(a))return!1;for(var e=a.length;e--;)if(a[e]===c)return!0;return!1},n=function(){var c=void 0!==a.location.pathname?a.location.pathname:(a.location.href?a.location.href:a.document.URL).toString().split(a.location.host)[1],e=null,e=c&&c.indexOf("?");return(e=(c=0<e?c.substr(0,e):c)&&c.split("/"))&&e.length?(e[e.length-
1]="","//"+a.location.host+e.join("/")):a.location.host+"/"}(),q=function(e,g){var k=0,l=null,k=c.s.contexts._,l=null,q=0;g&&(l=k.makeModuleMap(g,null,!0));if(e&&e.length)for(q=e.length-1;0<=q;--q){submod=k.makeModuleMap(e[q],l,!0);if("."===submod.id.charAt(0)){var r=e,s=q,u;u=submod;var v=void 0;u&&"."===u.id.charAt(0)&&"."===u.url.charAt(0)?(v=c.toUrl(u.url),u="."===v.charAt(0)?n+v:v):u=u.url;r[s]=u}a.__DEBUG__&&console.log("normalize:",e[q])}for(k=e.length-2;0<=k;--k)l=e[k+1],q=e[k],!h[l]&&!h[q]&&
l&&q&&l!=q&&(a.__DEBUG__&&console.log("REF:",l,q),m(f[l],q)||(f[l]=f[l]||[]).push(q));if(g&&f.hasOwnProperty(g))for(k=f[g].length-1;0<=k;--k)l=f[g][k],m(e,l)||e.push(l)},r=function(a){for(var e=a.length-2,f;0<=e;--e){f=a[e+1];var g=a[e],h=c.s.contexts._.registry,n=void 0;h.hasOwnProperty(f)&&void 0===h[f].enabled&&(n=h[f].depMaps=h[f].depMaps||[],l(n)&&!m(n,g)&&n.push(g))}},s=function(a,f,g){q(f,a);e.apply(this,arguments);c.qui||r(f)},u=function(a,e){q(a);c.apply(this,e);c.qui||r(a)},x=null,v=null;
c.s&&c.s.contexts&&c.s.contexts._&&(x=c.s.contexts._.completeLoad,v=c.s.contexts._.execCb);if(x&&v)c.s.contexts._.completeLoad=function(e){var g=0,h=null,l=!1,n=c.s.contexts._.defined,q=c.s.contexts._.defQueue;a.__DEBUG__&&console.log("LOAD:"+e);if(e in f&&f[e].length){Object.prototype.hasOwnProperty.call(n,e)||(n[e]="faked",q.push([e,[],null]),q.push([null,[],null]));for(x.apply(this,arguments);g<q.length;)if(h=q[g++],null===h[0]){h[0]=e;if(l)break;l=!0}else h[0]===e&&(l=!0);if(h&&h[1]&&(g=e,h=h[1],
h.slice(),l=0,q=null,g in f)){q=f[g];for(l=q.length;l--;)dep=q[l],m(h,dep)||h.push(dep);a.__DEBUG__&&console.log("orgDeps:",g,h)}"faked"===n[e]&&delete n[e]}x.apply(this,arguments)},"global"===g.moduleContext&&(c.s.contexts._.execCb=function(c,e,f,g){return e.apply(a,f)});else if(!c.qui)throw new TypeError("Fatal Error: Expect RequireJS 2.1.11 to work with QUI");v=function(a,c,f){l(a)?u(a,arguments):"string"===typeof a&&c instanceof Array&&a?s(a,c,f):e.apply(this,arguments)};v.define=a.qdefine=e;
v.require=a.qrequire=c;v.synrel=f;v.config=a.require.config;"undefined"!==typeof a.qui&&"function"===typeof a.qui.ready&&a.qui.ready.apply(this,arguments);g.disableAutoRequireQUI||(a.require=function(){var a=arguments;qui.loaded?c.apply(this,a):c(["qui"],function(){qui.loaded=!0;c.apply(this,a)})},a.require.config=c.config);return v}(this);define("qui/_qui",function(){});
